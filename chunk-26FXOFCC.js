var L0=Object.defineProperty,F0=Object.defineProperties;var V0=Object.getOwnPropertyDescriptors;var lc=Object.getOwnPropertySymbols,U0=Object.getPrototypeOf,F_=Object.prototype.hasOwnProperty,V_=Object.prototype.propertyIsEnumerable,j0=Reflect.get;var L_=(t,e,n)=>e in t?L0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})F_.call(e,n)&&L_(t,n,e[n]);if(lc)for(var n of lc(e))V_.call(e,n)&&L_(t,n,e[n]);return t},me=(t,e)=>F0(t,V0(e));var K2=(t,e)=>{var n={};for(var r in t)F_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&lc)for(var r of lc(t))e.indexOf(r)<0&&V_.call(t,r)&&(n[r]=t[r]);return n};var Xn=(t,e,n)=>j0(U0(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function U_(t,e){return Object.is(t,e)}var ke=null,yo=!1,dc=1,qt=Symbol("SIGNAL");function ce(t){let e=ke;return ke=t,e}function j_(){return ke}function B0(){return yo}var Ni={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dh(t){if(yo)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(t);let e=ke.nextProducerIndex++;if(yc(ke),e<ke.producerNode.length&&ke.producerNode[e]!==t&&vo(ke)){let n=ke.producerNode[e];mc(n,ke.producerIndexOfThis[e])}ke.producerNode[e]!==t&&(ke.producerNode[e]=t,ke.producerIndexOfThis[e]=vo(ke)?z_(t,ke,e):0),ke.producerLastReadVersion[e]=t.version}function $0(){dc++}function B_(t){if(!(vo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===dc)){if(!t.producerMustRecompute(t)&&!pc(t)){t.dirty=!1,t.lastCleanEpoch=dc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=dc}}function $_(t){if(t.liveConsumerNode===void 0)return;let e=yo;yo=!0;try{for(let n of t.liveConsumerNode)n.dirty||q_(n)}finally{yo=e}}function H_(){return ke?.consumerAllowSignalWrites!==!1}function q_(t){t.dirty=!0,$_(t),t.consumerMarkedDirty?.(t)}function _o(t){return t&&(t.nextProducerIndex=0),ce(t)}function fc(t,e){if(ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pc(t){yc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(B_(n),r!==n.version))return!0}return!1}function gc(t){if(yc(t),vo(t))for(let e=0;e<t.producerNode.length;e++)mc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function z_(t,e,n){if(G_(t),t.liveConsumerNode.length===0&&W_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=z_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function mc(t,e){if(G_(t),t.liveConsumerNode.length===1&&W_(t))for(let r=0;r<t.producerNode.length;r++)mc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];yc(i),i.producerIndexOfThis[r]=e}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function G_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function W_(t){return t.producerNode!==void 0}function K_(t){let e=Object.create(H0);e.computation=t;let n=()=>{if(B_(e),dh(e),e.value===hc)throw e.error;return e.value};return n[qt]=e,n}var ch=Symbol("UNSET"),uh=Symbol("COMPUTING"),hc=Symbol("ERRORED"),H0=me(k({},Ni),{value:ch,dirty:!0,error:null,equal:U_,producerMustRecompute(t){return t.value===ch||t.value===uh},producerRecomputeValue(t){if(t.value===uh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=uh;let n=_o(t),r;try{r=t.computation()}catch(i){r=hc,t.error=i}finally{fc(t,n)}if(e!==ch&&e!==hc&&r!==hc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function q0(){throw new Error}var Q_=q0;function Y_(){Q_()}function Z_(t){Q_=t}var z0=null;function J_(t){let e=Object.create(eI);e.value=t;let n=()=>(dh(e),e.value);return n[qt]=e,n}function hh(t,e){H_()||Y_(),t.equal(t.value,e)||(t.value=e,G0(t))}function X_(t,e){H_()||Y_(),hh(t,e(t.value))}var eI=me(k({},Ni),{equal:U_,value:void 0});function G0(t){t.version++,$0(),$_(t),z0?.()}function tI(t,e,n){let r=Object.create(W0);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=u=>{r.cleanupFn=u};function s(u){return u.fn===null&&u.schedule===null}function o(u){s(u)||(gc(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=lh)}let c=()=>{if(r.fn===null)return;if(B0())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!pc(r))return;r.hasRun=!0;let u=_o(r);try{r.cleanupFn(),r.cleanupFn=lh,r.fn(i)}finally{fc(r,u)}};return r.ref={notify:()=>q_(r),run:c,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[qt]:r},r.ref}var lh=()=>{},W0=me(k({},Ni),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:lh});function $(t){return typeof t=="function"}function Mi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vc=Mi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(s){e=s instanceof vc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{nI(s)}catch(o){e=e??[],o instanceof vc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xr(n,e)}remove(e){let{_finalizers:n}=this;n&&xr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var fh=Ce.EMPTY;function _c(t){return t instanceof Ce||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function nI(t){$(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xi={setTimeout(t,e,...n){let{delegate:r}=xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ic(t){xi.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function vt(){}var rI=ph("C",void 0,void 0);function iI(t){return ph("E",void 0,t)}function sI(t){return ph("N",t,void 0)}function ph(t,e,n){return{kind:t,value:e,error:n}}var Pr=null;function Pi(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Pr;if(e&&(Pr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Pr;if(Pr=null,n)throw r}}else t()}function oI(t){Ft.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=t)}var Or=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_c(e)&&e.add(this)):this.destination=Y0}static create(e,n,r){return new In(e,n,r)}next(e){this.isStopped?mh(sI(e),this):this._next(e)}error(e){this.isStopped?mh(iI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mh(rI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},K0=Function.prototype.bind;function gh(t,e){return K0.call(t,e)}var yh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){wc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){wc(r)}else wc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wc(n)}}},In=class extends Or{constructor(e,n,r){super();let i;if($(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gh(e.next,s),error:e.error&&gh(e.error,s),complete:e.complete&&gh(e.complete,s)}):i=e}this.destination=new yh(i)}};function wc(t){Ft.useDeprecatedSynchronousErrorHandling?oI(t):Ic(t)}function Q0(t){throw t}function mh(t,e){let{onStoppedNotification:n}=Ft;n&&xi.setTimeout(()=>n(t,e))}var Y0={closed:!0,next:vt,error:Q0,complete:vt};var Oi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ve(t){return t}function vh(...t){return _h(t)}function _h(t){return t.length===0?Ve:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=J0(n)?n:new In(n,r,i);return Pi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aI(r),new r((i,s)=>{let o=new In({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Oi](){return this}pipe(...n){return _h(n)(this)}toPromise(n){return n=aI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function aI(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function Z0(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function J0(t){return t&&t instanceof Or||Z0(t)&&_c(t)}function Ih(t){return $(t?.lift)}function H(t){return e=>{if(Ih(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(t,e,n,r,i){return new wh(t,e,n,r,i)}var wh=class extends Or{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ki(){return H((t,e)=>{let n=null;t._refCount++;let r=V(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Li=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ih(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return ki()(this)}};var cI=Mi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ec(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cI}next(n){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?fh:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,xr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new Ec(e,n),t})(),Ec=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:fh}};var Ge=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Io={now(){return(Io.delegate||Date).now()},delegate:void 0};var Dc=class extends Ne{constructor(e=1/0,n=1/0,r=Io){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)c=u;c&&r.splice(0,c+1)}}};var Tc=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var wo={setInterval(t,e,...n){let{delegate:r}=wo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=wo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Fi=class extends Tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return wo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&wo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Vi.now=Io.now;var Ui=class extends Vi{constructor(e,n=Vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var er=new Ui(Fi),Eh=er;var bc=class extends Fi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cc=class extends Ui{};var Dh=new Cc(bc);var We=new ee(t=>t.complete());function Sc(t){return t&&$(t.schedule)}function Th(t){return t[t.length-1]}function ji(t){return $(Th(t))?t.pop():void 0}function zt(t){return Sc(Th(t))?t.pop():void 0}function uI(t,e){return typeof Th(t)=="number"?t.pop():e}function bh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V$(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function dI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function lI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(t){return this instanceof kr?(this.v=t,this):new kr(t)}function hI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(w){return function(S){return Promise.resolve(S).then(w,g)}}function c(w,S){r[w]&&(i[w]=function(N){return new Promise(function(M,L){s.push([w,N,M,L])>1||u(w,N)})},S&&(i[w]=S(i[w])))}function u(w,S){try{l(r[w](S))}catch(N){_(s[0][3],N)}}function l(w){w.value instanceof kr?Promise.resolve(w.value.v).then(f,g):_(s[0][2],w)}function f(w){u("next",w)}function g(w){u("throw",w)}function _(w,S){w(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function fI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof lI=="function"?lI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Bi=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ac(t){return $(t?.then)}function Rc(t){return $(t[Oi])}function Nc(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Mc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function X0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xc=X0();function Pc(t){return $(t?.[xc])}function Oc(t){return hI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield kr(n.read());if(i)return yield kr(void 0);yield yield kr(r)}}finally{n.releaseLock()}})}function kc(t){return $(t?.getReader)}function re(t){if(t instanceof ee)return t;if(t!=null){if(Rc(t))return eA(t);if(Bi(t))return tA(t);if(Ac(t))return nA(t);if(Nc(t))return pI(t);if(Pc(t))return rA(t);if(kc(t))return iA(t)}throw Mc(t)}function eA(t){return new ee(e=>{let n=t[Oi]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tA(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nA(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ic)})}function rA(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function pI(t){return new ee(e=>{sA(t,e).catch(n=>e.error(n))})}function iA(t){return pI(Oc(t))}function sA(t,e){var n,r,i,s;return dI(this,void 0,void 0,function*(){try{for(n=fI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ft(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function tr(t,e=0){return H((n,r)=>{n.subscribe(V(r,i=>ft(r,t,()=>r.next(i),e),()=>ft(r,t,()=>r.complete(),e),i=>ft(r,t,()=>r.error(i),e)))})}function nr(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gI(t,e){return re(t).pipe(nr(e),tr(e))}function mI(t,e){return re(t).pipe(nr(e),tr(e))}function yI(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vI(t,e){return new ee(n=>{let r;return ft(n,e,()=>{r=t[xc](),ft(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>$(r?.return)&&r.return()})}function Lc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{ft(n,e,()=>{let r=t[Symbol.asyncIterator]();ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _I(t,e){return Lc(Oc(t),e)}function II(t,e){if(t!=null){if(Rc(t))return gI(t,e);if(Bi(t))return yI(t,e);if(Ac(t))return mI(t,e);if(Nc(t))return Lc(t,e);if(Pc(t))return vI(t,e);if(kc(t))return _I(t,e)}throw Mc(t)}function we(t,e){return e?II(t,e):re(t)}function q(...t){let e=zt(t);return we(t,e)}function $i(t,e){let n=$(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Ch(t){return!!t&&(t instanceof ee||$(t.lift)&&$(t.subscribe))}var wn=Mi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wI(t){return t instanceof Date&&!isNaN(t)}function se(t,e){return H((n,r)=>{let i=0;n.subscribe(V(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:oA}=Array;function aA(t,e){return oA(e)?t(...e):t(e)}function Hi(t){return se(e=>aA(t,e))}var{isArray:cA}=Array,{getPrototypeOf:uA,prototype:lA,keys:dA}=Object;function Fc(t){if(t.length===1){let e=t[0];if(cA(e))return{args:e,keys:null};if(hA(e)){let n=dA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hA(t){return t&&typeof t=="object"&&uA(t)===lA}function Vc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Eo(...t){let e=zt(t),n=ji(t),{args:r,keys:i}=Fc(t);if(r.length===0)return we([],e);let s=new ee(fA(r,e,i?o=>Vc(i,o):Ve));return n?s.pipe(Hi(n)):s}function fA(t,e,n=Ve){return r=>{EI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)EI(e,()=>{let l=we(t[u],e),f=!1;l.subscribe(V(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function EI(t,e,n){t?ft(n,t,e):e()}function DI(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},w=N=>l<r?S(N):u.push(N),S=N=>{s&&e.next(N),l++;let M=!1;re(n(N,f++)).subscribe(V(e,L=>{i?.(L),s?w(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let L=u.shift();o?ft(e,o,()=>S(L)):S(L)}_()}catch(L){e.error(L)}}))};return t.subscribe(V(e,w,()=>{g=!0,_()})),()=>{c?.()}}function Ee(t,e,n=1/0){return $(e)?Ee((r,i)=>se((s,o)=>e(r,s,i,o))(re(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>DI(r,i,t,n)))}function Gt(t=1/0){return Ee(Ve,t)}function TI(){return Gt(1)}function Wt(...t){return TI()(we(t,zt(t)))}function Uc(t){return new ee(e=>{re(t()).subscribe(e)})}function pA(...t){let e=ji(t),{args:n,keys:r}=Fc(t),i=new ee(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;re(n[f]).subscribe(V(s,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?Vc(r,c):c),s.complete())}))}});return e?i.pipe(Hi(e)):i}var gA=["addListener","removeListener"],mA=["addEventListener","removeEventListener"],yA=["on","off"];function Sh(t,e,n,r){if($(n)&&(r=n,n=void 0),r)return Sh(t,e,n).pipe(Hi(r));let[i,s]=IA(t)?mA.map(o=>c=>t[o](e,c,n)):vA(t)?gA.map(bI(t,e)):_A(t)?yA.map(bI(t,e)):[];if(!i&&Bi(t))return Ee(o=>Sh(o,e,n))(re(t));if(!i)throw new TypeError("Invalid event target");return new ee(o=>{let c=(...u)=>o.next(1<u.length?u:u[0]);return i(c),()=>s(c)})}function bI(t,e){return n=>r=>t[n](e,r)}function vA(t){return $(t.addListener)&&$(t.removeListener)}function _A(t){return $(t.on)&&$(t.off)}function IA(t){return $(t.addEventListener)&&$(t.removeEventListener)}function Lr(t=0,e,n=Eh){let r=-1;return e!=null&&(Sc(e)?n=e:r=e),new ee(i=>{let s=wI(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function wA(...t){let e=zt(t),n=uI(t,1/0),r=t;return r.length?r.length===1?re(r[0]):Gt(n)(we(r,e)):We}var EA=new ee(vt);function ut(t,e){return H((n,r)=>{let i=0;n.subscribe(V(r,s=>t.call(e,s,i++)&&r.next(s)))})}function En(t){return H((e,n)=>{let r=null,i=!1,s;r=e.subscribe(V(n,void 0,void 0,o=>{s=re(t(o,En(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function CI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(V(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Fr(t,e){return $(e)?Ee(t,e,1):Ee(t,1)}function DA(t){return H((e,n)=>{let r=!1,i=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let c=i;i=null,n.next(c)}};e.subscribe(V(n,c=>{s?.unsubscribe(),r=!0,i=c,s=V(n,o,vt),re(t(c)).subscribe(s)},()=>{o(),n.complete()},void 0,()=>{i=s=null}))})}function Dn(t){return H((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _t(t){return t<=0?()=>We:H((e,n)=>{let r=0;e.subscribe(V(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function SI(){return H((t,e)=>{t.subscribe(V(e,vt))})}function Do(t){return se(()=>t)}function Ah(t,e){return e?n=>Wt(e.pipe(_t(1),SI()),n.pipe(Ah(t))):Ee((n,r)=>re(t(n,r)).pipe(_t(1),Do(n)))}function TA(t,e=er){let n=Lr(t,e);return Ah(()=>n)}function bA(t,e=Ve){return t=t??CA,H((n,r)=>{let i,s=!0;n.subscribe(V(r,o=>{let c=e(o);(s||!t(i,c))&&(s=!1,i=c,r.next(o))}))})}function CA(t,e){return t===e}function jc(t=SA){return H((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function SA(){return new wn}function AA(...t){return e=>Wt(e,q(...t))}function qi(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,s)=>t(i,s,r)):Ve,_t(1),n?Dn(e):jc(()=>new wn))}function zi(t){return t<=0?()=>We:H((e,n)=>{let r=[];e.subscribe(V(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,s)=>t(i,s,r)):Ve,zi(1),n?Dn(e):jc(()=>new wn))}function RA(t){let e=1/0,n;return t!=null&&(typeof t=="object"?{count:e=1/0,delay:n}=t:e=t),e<=0?()=>We:H((r,i)=>{let s=0,o,c=()=>{if(o?.unsubscribe(),o=null,n!=null){let l=typeof n=="number"?Lr(n):re(n(s)),f=V(i,()=>{f.unsubscribe(),u()});l.subscribe(f)}else u()},u=()=>{let l=!1;o=r.subscribe(V(i,void 0,()=>{++s<e?o?c():l=!0:i.complete()})),l&&c()};u()})}function Nh(t,e){return H(CI(t,e,arguments.length>=2,!0))}function xh(t={}){let{connector:e=()=>new Ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,c,u,l=0,f=!1,g=!1,_=()=>{c?.unsubscribe(),c=void 0},w=()=>{_(),o=u=void 0,f=g=!1},S=()=>{let N=o;w(),N?.unsubscribe()};return H((N,M)=>{l++,!g&&!f&&_();let L=u=u??e();M.add(()=>{l--,l===0&&!g&&!f&&(c=Mh(S,i))}),L.subscribe(M),!o&&l>0&&(o=new In({next:K=>L.next(K),error:K=>{g=!0,_(),c=Mh(w,n,K),L.error(K)},complete:()=>{f=!0,_(),c=Mh(w,r),L.complete()}}),re(N).subscribe(o))})(s)}}function Mh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new In({next:()=>{r.unsubscribe(),t()}});return re(e(...n)).subscribe(r)}function NA(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,xh({connector:()=>new Dc(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MA(t){return ut((e,n)=>t<=n)}function Bc(...t){let e=zt(t);return H((n,r)=>{(e?Wt(t,n,e):Wt(t,n)).subscribe(r)})}function It(t,e){return H((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(V(r,u=>{i?.unsubscribe();let l=0,f=s++;re(t(u,f)).subscribe(i=V(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function $c(t){return H((e,n)=>{re(t).subscribe(V(n,()=>n.complete(),vt)),!n.closed&&e.subscribe(n)})}function xA(t,e=!1){return H((n,r)=>{let i=0;n.subscribe(V(r,s=>{let o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function Me(t,e,n){let r=$(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(V(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ve}function AI(t,e){return H((n,r)=>{let{leading:i=!0,trailing:s=!1}=e??{},o=!1,c=null,u=null,l=!1,f=()=>{u?.unsubscribe(),u=null,s&&(w(),l&&r.complete())},g=()=>{u=null,l&&r.complete()},_=S=>u=re(t(S)).subscribe(V(r,f,g)),w=()=>{if(o){o=!1;let S=c;c=null,r.next(S),!l&&_(S)}};n.subscribe(V(r,S=>{o=!0,c=S,!(u&&!u.closed)&&(i?w():_(S))},()=>{l=!0,!(s&&o&&u&&!u.closed)&&r.complete()}))})}function PA(t,e=er,n){let r=Lr(t,e);return AI(()=>r,n)}function OA(...t){let e=ji(t);return H((n,r)=>{let i=t.length,s=new Array(i),o=t.map(()=>!1),c=!1;for(let u=0;u<i;u++)re(t[u]).subscribe(V(r,l=>{s[u]=l,!c&&!o[u]&&(o[u]=!0,(c=o.every(Ve))&&(o=null))},vt));n.subscribe(V(r,u=>{if(c){let l=[u,...s];r.next(e?e(...l):l)}}))})}var vw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(qf(e,n)),this.code=e}};function qf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Oo(t){return{toString:t}.toString()}var Hc="__parameters__";function kA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function zf(t,e,n){return Oo(()=>{let r=kA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(Hc)?u[Hc]:Object.defineProperty(u,Hc,{value:[]})[Hc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Co=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function LA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function RI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var FA=ye({__forward_ref__:ye});function _w(t){return t.__forward_ref__=_w,t.toString=function(){return lt(this())},t}function Ke(t){return Iw(t)?t():t}function Iw(t){return typeof t=="function"&&t.hasOwnProperty(FA)&&t.__forward_ref__===_w}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ko(t){return{providers:t.providers||[],imports:t.imports||[]}}function xu(t){return NI(t,Ew)||NI(t,Dw)}function ww(t){return xu(t)!==null}function NI(t,e){return t.hasOwnProperty(e)?t[e]:null}function VA(t){let e=t&&(t[Ew]||t[Dw]);return e||null}function MI(t){return t&&(t.hasOwnProperty(xI)||t.hasOwnProperty(UA))?t[xI]:null}var Ew=ye({\u0275prov:ye}),xI=ye({\u0275inj:ye}),Dw=ye({ngInjectableDef:ye}),UA=ye({ngInjectorDef:ye}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Tw(t){return t&&!!t.\u0275providers}var jA=ye({\u0275cmp:ye}),BA=ye({\u0275dir:ye}),$A=ye({\u0275pipe:ye}),HA=ye({\u0275mod:ye}),ru=ye({\u0275fac:ye}),bo=ye({__NG_ELEMENT_ID__:ye}),PI=ye({__NG_ENV_ID__:ye});function Ur(t){return typeof t=="string"?t:t==null?"":String(t)}function qA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ur(t)}function zA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Gf(t,e){throw new j(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),zh;function bw(){return zh}function pt(t){let e=zh;return zh=t,e}function Cw(t,e,n){let r=xu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;Gf(t,"Injector")}var GA={},So=GA,Gh="__NG_DI_FLAG__",iu="ngTempTokenPath",WA="ngTokenPath",KA=/\n/gm,QA="\u0275",OI="__source",Yi;function YA(){return Yi}function rr(t){let e=Yi;return Yi=t,e}function ZA(t,e=ne.Default){if(Yi===void 0)throw new j(-203,!1);return Yi===null?Cw(t,void 0,e):Yi.get(t,e&ne.Optional?null:void 0,e)}function Q(t,e=ne.Default){return(bw()||ZA)(Ke(t),e)}function P(t,e=ne.Default){return Q(t,Pu(e))}function Pu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){let c=r[o],u=JA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(Q(i,s))}else e.push(Q(r))}return e}function Wf(t,e){return t[Gh]=e,t.prototype[Gh]=e,t}function JA(t){return t[Gh]}function XA(t,e,n,r){let i=t[iu];throw e[OI]&&i.unshift(e[OI]),t.message=eR(`
`+t.message,i,n,r),t[WA]=i,t[iu]=null,t}function eR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==QA?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):lt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KA,`
  `)}`}var rt=Wf(zf("Optional"),8),gW=Wf(zf("Self"),2),Kf=Wf(zf("SkipSelf"),4);function jr(t,e){let n=t.hasOwnProperty(ru);return n?t[ru]:null}function tR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function nR(t){return t.flat(Number.POSITIVE_INFINITY)}function Qf(t,e){t.forEach(n=>Array.isArray(n)?Qf(n,e):e(n))}function Sw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function su(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rR(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function iR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function sR(t,e,n){let r=Lo(t,e);return r>=0?t[r|1]=n:(r=~r,iR(t,r,e,n)),r}function Ph(t,e){let n=Lo(t,e);if(n>=0)return t[n|1]}function Lo(t,e){return oR(t,e,1)}function oR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Tn={},Rt=[],Ji=new B(""),Aw=new B("",-1),Rw=new B(""),ou=class{get(e,n=So){if(n===So){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}},Nw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Nw||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),or=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(or||{});function aR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Kh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];cR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Mw(t){return t===3||t===4||t===6}function cR(t){return t.charCodeAt(0)===64}function Ao(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?kI(t,n,i,null,e[++r]):kI(t,n,i,null,null))}}return t}function kI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var xw="ng-template";function uR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Yf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Yf(t){return t.type===4&&t.value!==xw}function lR(t,e,n){let r=t.type===4&&!n?xw:t.value;return e===r}function dR(t,e,n){let r=4,i=t.attrs,s=i!==null?pR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Vt(r)&&!Vt(u))return!1;if(o&&Vt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!lR(t,u,n)||u===""&&e.length===1){if(Vt(r))return!1;o=!0}}else if(r&8){if(i===null||!uR(t,i,u,n)){if(Vt(r))return!1;o=!0}}else{let l=e[++c],f=hR(u,i,Yf(t),n);if(f===-1){if(Vt(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Vt(r))return!1;o=!0}}}}return Vt(r)||o}function Vt(t){return(t&1)===0}function hR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return gR(e,t)}function Pw(t,e,n=!1){for(let r=0;r<e.length;r++)if(dR(t,e[r],n))return!0;return!1}function fR(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function pR(t){for(let e=0;e<t.length;e++){let n=t[e];if(Mw(n))return e}return t.length}function gR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mR(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function LI(t,e){return t?":not("+e.trim()+")":e}function yR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Vt(o)&&(e+=LI(s,i),i=""),r=o,s=s||!Vt(r);n++}return i!==""&&(e+=LI(s,i)),e}function vR(t){return t.map(yR).join(",")}function _R(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Vt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ow(t){return Oo(()=>{let e=Uw(t),n=me(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""});jw(n);let r=t.dependencies;return n.directiveDefs=VI(r,!1),n.pipeDefs=VI(r,!0),n.id=ER(n),n})}function IR(t){return bn(t)||Zf(t)}function wR(t){return t!==null}function Fo(t){return Oo(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function FI(t,e){if(t==null)return Tn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=or.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==or.None?[r,c]:r,e[s]=o):n[s]=r}return n}function ur(t){return Oo(()=>{let e=Uw(t);return jw(e),e})}function kw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[jA]||null}function Zf(t){return t[BA]||null}function Lw(t){return t[$A]||null}function Fw(t){let e=bn(t)||Zf(t)||Lw(t);return e!==null?e.standalone:!1}function Vw(t,e){let n=t[HA]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function Uw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Tn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:FI(t.inputs,e),outputs:FI(t.outputs),debugInfo:null}}function jw(t){t.features?.forEach(e=>e(t))}function VI(t,e){if(!t)return null;let n=e?Lw:IR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(wR)}function ER(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function DR(...t){return{\u0275providers:Bw(!0,t),\u0275fromNgModule:!0}}function Bw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Qf(e,o=>{let c=o;Qh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&$w(i,s),n}function $w(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jf(i,s=>{e(s,r)})}}function Qh(t,e,n,r){if(t=Ke(t),!t)return!1;let i=null,s=MI(t),o=!s&&bn(t);if(!s&&!o){let u=t.ngModule;if(s=MI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Qh(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Qf(s.imports,f=>{Qh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&$w(l,e)}if(!c){let l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Rt},i),e({provide:Rw,useValue:i,multi:!0},i),e({provide:Ji,useValue:()=>Q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Jf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Jf(t,e){for(let n of t)Tw(n)&&(n=n.\u0275providers),Array.isArray(n)?Jf(n,e):e(n)}var TR=ye({provide:String,useValue:ye});function Hw(t){return t!==null&&typeof t=="object"&&TR in t}function bR(t){return!!(t&&t.useExisting)}function CR(t){return!!(t&&t.useFactory)}function Xi(t){return typeof t=="function"}function SR(t){return!!t.useClass}var Ou=new B(""),Yc={},AR={},Oh;function ku(){return Oh===void 0&&(Oh=new ou),Oh}var wt=class{},Ro=class extends wt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zh(e,o=>this.processProvider(o)),this.records.set(Aw,Gi(void 0,this)),i.has("environment")&&this.records.set(wt,Gi(void 0,this));let s=this.records.get(Ou);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rw,Rt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=rr(this),r=pt(void 0),i;try{return e()}finally{rr(n),pt(r)}}get(e,n=So,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PI))return e[PI](this);r=Pu(r);let i,s=rr(this),o=pt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=PR(e)&&xu(e);l&&this.injectableDefInScope(l)?u=Gi(Yh(e),Yc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?ku():this.parent;return n=r&ne.Optional&&n===So?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[iu]=c[iu]||[]).unshift(lt(e)),s)throw c;return XA(c,e,"R3InjectorError",this.source)}else throw c}finally{pt(o),rr(s)}}resolveInjectorInitializers(){let e=ce(null),n=rr(this),r=pt(void 0),i;try{let s=this.get(Ji,Rt,ne.Self);for(let o of s)o()}finally{rr(n),pt(r),ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=Ke(e);let n=Xi(e)?e:Ke(e&&e.provide),r=NR(e);if(!Xi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gi(void 0,Yc,!0),i.factory=()=>Wh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ce(null);try{return n.value===Yc&&(n.value=AR,n.value=n.factory()),typeof n.value=="object"&&n.value&&xR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yh(t){let e=xu(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof B)throw new j(204,!1);if(t instanceof Function)return RR(t);throw new j(204,!1)}function RR(t){if(t.length>0)throw new j(204,!1);let n=VA(t);return n!==null?()=>n.factory(t):()=>new t}function NR(t){if(Hw(t))return Gi(void 0,t.useValue);{let e=qw(t);return Gi(e,Yc)}}function qw(t,e,n){let r;if(Xi(t)){let i=Ke(t);return jr(i)||Yh(i)}else if(Hw(t))r=()=>Ke(t.useValue);else if(CR(t))r=()=>t.useFactory(...Wh(t.deps||[]));else if(bR(t))r=()=>Q(Ke(t.useExisting));else{let i=Ke(t&&(t.useClass||t.provide));if(MR(t))r=()=>new i(...Wh(t.deps));else return jr(i)||Yh(i)}return r}function Gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MR(t){return!!t.deps}function xR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PR(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Zh(t,e){for(let n of t)Array.isArray(n)?Zh(n,e):n&&Tw(n)?Zh(n.\u0275providers,e):e(n)}function nn(t,e){t instanceof Ro&&t.assertNotDestroyed();let n,r=rr(t),i=pt(void 0);try{return e()}finally{rr(r),pt(i)}}function zw(){return bw()!==void 0||YA()!=null}function Gw(t){if(!zw())throw new j(-203,!1)}function OR(t){return typeof t=="function"}var rn=0,Z=1,G=2,nt=3,Ut=4,mt=5,No=6,au=7,Mt=8,es=9,Jt=10,De=11,Mo=12,UI=13,as=14,xt=15,Br=16,Wi=17,Cn=18,Lu=19,Ww=20,ir=21,Zc=22,Nt=23,Le=25,Xf=1;var $r=7,cu=8,ts=9,gt=10,uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(uu||{});function sr(t){return Array.isArray(t)&&typeof t[Xf]=="object"}function Nn(t){return Array.isArray(t)&&t[Xf]===!0}function ep(t){return(t.flags&4)!==0}function Fu(t){return t.componentOffset>-1}function Vu(t){return(t.flags&1)===1}function Sn(t){return!!t.template}function Jh(t){return(t[G]&512)!==0}var Xh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Kw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Zr(){return Qw}function Qw(t){return t.type.prototype.ngOnChanges&&(t.setInput=LR),kR}Zr.ngInherit=!0;function kR(){let t=Zw(this),e=t?.current;if(e){let n=t.previous;if(n===Tn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LR(t,e,n,r,i){let s=this.declaredInputs[r],o=Zw(t)||FR(t,{previous:Tn,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Xh(l&&l.currentValue,n,u===Tn),Kw(t,e,i,n)}var Yw="__ngSimpleChanges__";function Zw(t){return t[Yw]||null}function FR(t,e){return t[Yw]=e}var jI=null;var Qt=function(t,e,n){jI?.(t,e,n)},VR="svg",UR="math";function Xt(t){for(;Array.isArray(t);)t=t[rn];return t}function jR(t){for(;Array.isArray(t);){if(typeof t[Xf]=="object")return t;t=t[rn]}return null}function Jw(t,e){return Xt(e[t])}function Pt(t,e){return Xt(e[t.index])}function tp(t,e){return t.data[e]}function Vo(t,e){return t[e]}function lr(t,e){let n=e[t];return sr(n)?n:n[rn]}function BR(t){return(t[G]&4)===4}function np(t){return(t[G]&128)===128}function $R(t){return Nn(t[nt])}function ns(t,e){return e==null?null:t[e]}function Xw(t){t[Wi]=0}function eE(t){t[G]&1024||(t[G]|=1024,np(t)&&ju(t))}function HR(t,e){for(;t>0;)e=e[as],t--;return e}function Uu(t){return!!(t[G]&9216||t[Nt]?.dirty)}function ef(t){t[Jt].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),Uu(t)&&ju(t)}function ju(t){t[Jt].changeDetectionScheduler?.notify(0);let e=Hr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!np(e)));)e=Hr(e)}function tE(t,e){if((t[G]&256)===256)throw new j(911,!1);t[ir]===null&&(t[ir]=[]),t[ir].push(e)}function qR(t,e){if(t[ir]===null)return;let n=t[ir].indexOf(e);n!==-1&&t[ir].splice(n,1)}function Hr(t){let e=t[nt];return Nn(e)?e[nt]:e}var te={lFrame:hE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nE=!1;function zR(){return te.lFrame.elementDepthCount}function GR(){te.lFrame.elementDepthCount++}function WR(){te.lFrame.elementDepthCount--}function rE(){return te.bindingsEnabled}function iE(){return te.skipHydrationRootTNode!==null}function KR(t){return te.skipHydrationRootTNode===t}function QR(){te.skipHydrationRootTNode=null}function Y(){return te.lFrame.lView}function Se(){return te.lFrame.tView}function mW(t){return te.lFrame.contextLView=t,t[Mt]}function yW(t){return te.lFrame.contextLView=null,t}function Ze(){let t=sE();for(;t!==null&&t.type===64;)t=t.parent;return t}function sE(){return te.lFrame.currentTNode}function YR(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jr(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function rp(){return te.lFrame.isParent}function ip(){te.lFrame.isParent=!1}function ZR(){return te.lFrame.contextLView}function oE(){return nE}function BI(t){nE=t}function Xr(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function JR(){return te.lFrame.bindingIndex}function XR(t){return te.lFrame.bindingIndex=t}function ei(){return te.lFrame.bindingIndex++}function aE(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function eN(){return te.lFrame.inI18n}function tN(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,tf(e)}function nN(){return te.lFrame.currentDirectiveIndex}function tf(t){te.lFrame.currentDirectiveIndex=t}function cE(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uE(){return te.lFrame.currentQueryIndex}function sp(t){te.lFrame.currentQueryIndex=t}function rN(t){let e=t[Z];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function lE(t,e,n){if(n&ne.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=rN(s),i===null||(s=s[as],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=dE();return r.currentTNode=e,r.lView=t,!0}function op(t){let e=dE(),n=t[Z];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dE(){let t=te.lFrame,e=t===null?null:t.child;return e===null?hE(t):e}function hE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fE(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pE=fE;function ap(){let t=fE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function iN(t){return(te.lFrame.contextLView=HR(t,te.lFrame.contextLView))[Mt]}function ti(){return te.lFrame.selectedIndex}function qr(t){te.lFrame.selectedIndex=t}function Uo(){let t=te.lFrame;return tp(t.tView,t.selectedIndex)}function sN(){return te.lFrame.currentNamespace}var gE=!0;function Bu(){return gE}function $u(t){gE=t}function oN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Qw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Hu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Jc(t,e,n){mE(t,e,3,n)}function Xc(t,e,n,r){(t[G]&3)===n&&mE(t,e,n,r)}function kh(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function mE(t,e,n,r){let i=r!==void 0?t[Wi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Wi]+=65536),(c<s||s==-1)&&(aN(t,n,e,u),t[Wi]=(t[Wi]&4294901760)+u+2),u++}function $I(t,e){Qt(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),Qt(5,t,e)}}function aN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[G]>>14<t[Wi]>>16&&(t[G]&3)===e&&(t[G]+=16384,$I(c,s)):$I(c,s)}var Zi=-1,zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function cN(t){return t instanceof zr}function uN(t){return(t.flags&8)!==0}function lN(t){return(t.flags&16)!==0}var Lh={},nf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pu(r);let i=this.injector.get(e,Lh,r);return i!==Lh||n===Lh?i:this.parentInjector.get(e,n,r)}};function yE(t){return t!==Zi}function lu(t){return t&32767}function dN(t){return t>>16}function du(t,e){let n=dN(t),r=e;for(;n>0;)r=r[as],n--;return r}var rf=!0;function hu(t){let e=rf;return rf=t,e}var hN=256,vE=hN-1,_E=5,fN=0,Yt={};function pN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bo)&&(r=n[bo]),r==null&&(r=n[bo]=fN++);let i=r&vE,s=1<<i;e.data[t+(i>>_E)]|=s}function fu(t,e){let n=IE(t,e);if(n!==-1)return n;let r=e[Z];r.firstCreatePass&&(t.injectorIndex=e.length,Fh(r.data,t),Fh(e,null),Fh(r.blueprint,null));let i=cp(t,e),s=t.injectorIndex;if(yE(i)){let o=lu(i),c=du(i,e),u=c[Z].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Fh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bE(i),r===null)return Zi;if(n++,i=i[as],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zi}function sf(t,e,n){pN(t,e,n)}function gN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Mw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function wE(t,e,n){if(n&ne.Optional||t!==void 0)return t;Gf(e,"NodeInjector")}function EE(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),!(n&(ne.Self|ne.Host))){let i=t[es],s=pt(void 0);try{return i?i.get(e,r,n&ne.Optional):Cw(e,r,n&ne.Optional)}finally{pt(s)}}return wE(r,e,n)}function DE(t,e,n,r=ne.Default,i){if(t!==null){if(e[G]&2048&&!(r&ne.Self)){let o=_N(t,e,n,r,Yt);if(o!==Yt)return o}let s=TE(t,e,n,r,Yt);if(s!==Yt)return s}return EE(e,n,r,i)}function TE(t,e,n,r,i){let s=yN(n);if(typeof s=="function"){if(!lE(e,t,r))return r&ne.Host?wE(i,n,r):EE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ne.Optional))Gf(n);else return o}finally{pE()}}else if(typeof s=="number"){let o=null,c=IE(t,e),u=Zi,l=r&ne.Host?e[xt][mt]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?cp(t,e):e[c+8],u===Zi||!qI(r,!1)?c=-1:(o=e[Z],c=lu(u),e=du(u,e)));c!==-1;){let f=e[Z];if(HI(s,c,f.data)){let g=mN(c,e,n,o,r,l);if(g!==Yt)return g}u=e[c+8],u!==Zi&&qI(r,e[Z].data[c+8]===l)&&HI(s,c,e)?(o=f,c=lu(u),e=du(u,e)):c=-1}}return i}function mN(t,e,n,r,i,s){let o=e[Z],c=o.data[t+8],u=r==null?Fu(c)&&rf:r!=o&&(c.type&3)!==0,l=i&ne.Host&&s===c,f=eu(c,o,n,u,l);return f!==null?Gr(e,o,f,c):Yt}function eu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:l;for(let w=g;w<_;w++){let S=o[w];if(w<u&&n===S||w>=u&&S.type===n)return w}if(i){let w=o[u];if(w&&Sn(w)&&w.type===n)return u}return null}function Gr(t,e,n,r){let i=t[n],s=e.data;if(cN(i)){let o=i;o.resolving&&zA(qA(s[n]));let c=hu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?pt(o.injectImpl):null,f=lE(t,r,ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&oN(n,s[n],e)}finally{l!==null&&pt(l),hu(c),o.resolving=!1,pE()}}return i}function yN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bo)?t[bo]:void 0;return typeof e=="number"?e>=0?e&vE:vN:e}function HI(t,e,n){let r=1<<t;return!!(n[e+(t>>_E)]&r)}function qI(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var Vr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DE(this._tNode,this._lView,e,Pu(r),n)}};function vN(){return new Vr(Ze(),Y())}function up(t){return Oo(()=>{let e=t.prototype.constructor,n=e[ru]||of(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ru]||of(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function of(t){return Iw(t)?()=>{let e=of(Ke(t));return e&&e()}:jr(t)}function _N(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=TE(s,o,n,r|ne.Self,Yt);if(c!==Yt)return c;let u=s.parent;if(!u){let l=o[Ww];if(l){let f=l.get(n,Yt,r);if(f!==Yt)return f}u=bE(o),o=o[as]}s=u}return i}function bE(t){let e=t[Z],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function lp(t){return gN(Ze(),t)}function zI(t,e=null,n=null,r){let i=CE(t,e,n,r);return i.resolveInjectorInitializers(),i}function CE(t,e=null,n=null,r,i=new Set){let s=[n||Rt,DR(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new Ro(s,e||ku(),r||null,i)}var Ye=class t{static{this.THROW_IF_NOT_FOUND=So}static{this.NULL=new ou}static create(e,n){if(Array.isArray(e))return zI({name:""},n,e,"");{let r=e.name??"";return zI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=U({token:t,providedIn:"any",factory:()=>Q(Aw)})}static{this.__NG_ELEMENT_ID__=-1}};var IN=new B("");IN.__NG_ELEMENT_ID__=t=>{let e=Ze();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&ne.Optional)return null;throw new j(204,!1)};var wN="ngOriginalError";function Vh(t){return t[wN]}var SE=!0,qu=(()=>{class t{static{this.__NG_ELEMENT_ID__=EN}static{this.__NG_ENV_ID__=n=>n}}return t})(),af=class extends qu{constructor(e){super(),this._lView=e}onDestroy(e){return tE(this._lView,e),()=>qR(this._lView,e)}};function EN(){return new af(Y())}var ni=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}}return t})();var cf=class extends Ne{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,zw()&&(this.destroyRef=P(qu,{optional:!0})??void 0,this.pendingTasks=P(ni,{optional:!0})??void 0)}emit(e){let n=ce(null);try{super.next(e)}finally{ce(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=cf;function pu(...t){}function AE(t){let e,n;function r(){t=pu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function GI(t){return queueMicrotask(()=>t()),()=>{t=pu}}var dp="isAngularZone",gu=dp+"_ID",DN=0,fe=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=SE}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,CN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,TN,pu,pu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},TN={};function hp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){AE(()=>{t.callbackScheduled=!1,uf(t),t.isCheckStableRunning=!0,hp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),uf(t)}function CN(t){let e=()=>{bN(t)},n=DN++;t._inner=t._inner.fork({name:"angular",properties:{[dp]:!0,[gu]:n,[gu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(SN(u))return r.invokeTask(s,o,c,u);try{return WI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),KI(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return WI(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!AN(u)&&e(),KI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,uf(t),hp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function uf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KI(t){t._nesting--,hp(t)}var lf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function SN(t){return RE(t,"__ignore_ng_zone__")}function AN(t){return RE(t,"__scheduler_tick__")}function RE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var en=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vh(e);for(;n&&Vh(n);)n=Vh(n);return n||null}},RN=new B("",{providedIn:"root",factory:()=>{let t=P(fe),e=P(en);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function NN(){return cs(Ze(),Y())}function cs(t,e){return new Mn(Pt(t,e))}var Mn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=NN}}return t})();function MN(t){return t instanceof Mn?t.nativeElement:t}function xN(){return this._results[Symbol.iterator]()}var df=class t{get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=nR(e);(this._changesDetected=!tR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NE(t){return(t.flags&128)===128}var ME=new Map,PN=0;function ON(){return PN++}function kN(t){ME.set(t[Lu],t)}function hf(t){ME.delete(t[Lu])}var QI="__ngContext__";function ar(t,e){sr(e)?(t[QI]=e[Lu],kN(e)):t[QI]=e}function xE(t){return OE(t[Mo])}function PE(t){return OE(t[Ut])}function OE(t){for(;t!==null&&!Nn(t);)t=t[Ut];return t}var ff;function kE(t){ff=t}function LE(){if(ff!==void 0)return ff;if(typeof document<"u")return document;throw new j(210,!1)}var fp=new B("",{providedIn:"root",factory:()=>LN}),LN="ng",pp=new B(""),sn=new B("",{providedIn:"platform",factory:()=>"unknown"});var vW=new B(""),gp=new B("",{providedIn:"root",factory:()=>LE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FN="h",VN="b";var UN=()=>null;function mp(t,e,n=!1){return UN(t,e,n)}var FE=!1,jN=new B("",{providedIn:"root",factory:()=>FE});var qc;function BN(){if(qc===void 0&&(qc=null,Co.trustedTypes))try{qc=Co.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qc}function zu(t){return BN()?.createHTML(t)||t}var zc;function VE(){if(zc===void 0&&(zc=null,Co.trustedTypes))try{zc=Co.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zc}function YI(t){return VE()?.createHTML(t)||t}function ZI(t){return VE()?.createScriptURL(t)||t}var mu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vw})`}};function us(t){return t instanceof mu?t.changingThisBreaksApplicationSecurity:t}function Gu(t,e){let n=$N(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${vw})`)}return n===e}function $N(t){return t instanceof mu&&t.getTypeName()||null}function HN(t){let e=new gf(t);return qN()?new pf(e):e}var pf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(zu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},gf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=zu(e),n}};function qN(){try{return!!new window.DOMParser().parseFromString(zu(""),"text/html")}catch{return!1}}var zN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yp(t){return t=String(t),t.match(zN)?t:"unsafe:"+t}function xn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function jo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var UE=xn("area,br,col,hr,img,wbr"),jE=xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),BE=xn("rp,rt"),GN=jo(BE,jE),WN=jo(jE,xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),KN=jo(BE,xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),JI=jo(UE,WN,KN,GN),$E=xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),QN=xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),YN=xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ZN=jo($E,QN,YN),JN=xn("script,style,template"),mf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=tM(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=eM(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=XI(e).toLowerCase();if(!JI.hasOwnProperty(n))return this.sanitizedSomething=!0,!JN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,c=o.toLowerCase();if(!ZN.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;$E[c]&&(u=yp(u)),this.buf.push(" ",o,'="',ew(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=XI(e).toLowerCase();JI.hasOwnProperty(n)&&!UE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(ew(e))}};function XN(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function eM(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw HE(e);return e}function tM(t){let e=t.firstChild;if(e&&XN(t,e))throw HE(e);return e}function XI(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function HE(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var nM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rM=/([^\#-~ |!])/g;function ew(t){return t.replace(/&/g,"&amp;").replace(nM,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(rM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Gc;function qE(t,e){let n=null;try{Gc=Gc||HN(t);let r=e?String(e):"";n=Gc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Gc.getInertBodyElement(r)}while(r!==s);let c=new mf().sanitizeChildren(tw(n)||n);return zu(c)}finally{if(n){let r=tw(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function tw(t){return"content"in t&&iM(t)?t.content:null}function iM(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Bo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bo||{});function _W(t){let e=vp();return e?YI(e.sanitize(Bo.HTML,t)||""):Gu(t,"HTML")?YI(us(t)):qE(LE(),Ur(t))}function sM(t){let e=vp();return e?e.sanitize(Bo.URL,t)||"":Gu(t,"URL")?us(t):yp(Ur(t))}function oM(t){let e=vp();if(e)return ZI(e.sanitize(Bo.RESOURCE_URL,t)||"");if(Gu(t,"ResourceURL"))return ZI(us(t));throw new j(904,!1)}function aM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oM:sM}function zE(t,e,n){return aM(e,n)(t)}function vp(){let t=Y();return t&&t[Jt].sanitizer}var cM=/^>|^->|<!--|-->|--!>|<!-$/g,uM=/(<|>)/g,lM="\u200B$1\u200B";function dM(t){return t.replace(cM,e=>e.replace(uM,lM))}function IW(t){return t.ownerDocument.defaultView}function wW(t){return t.ownerDocument}function GE(t){return t instanceof Function?t():t}function hM(t){return(t??P(Ye)).get(sn)==="browser"}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),fM;function _p(t,e){return fM(t,e)}function Ki(t,e,n,r,i){if(r!=null){let s,o=!1;Nn(r)?s=r:sr(r)&&(o=!0,r=r[rn]);let c=Xt(r);t===0&&n!==null?i==null?ZE(e,n,c):vu(e,n,c,i||null,!0):t===1&&n!==null?vu(e,n,c,i||null,!0):t===2?SM(e,c,o):t===3&&e.destroyNode(c),s!=null&&RM(e,t,s,n,i)}}function pM(t,e){return t.createText(e)}function gM(t,e,n){t.setValue(e,n)}function mM(t,e){return t.createComment(dM(e))}function WE(t,e,n){return t.createElement(e,n)}function yM(t,e){KE(t,e),e[rn]=null,e[mt]=null}function vM(t,e,n,r,i,s){r[rn]=i,r[mt]=e,Ku(t,r,n,1,i,s)}function KE(t,e){e[Jt].changeDetectionScheduler?.notify(9),Ku(t,e,e[De],2,null,null)}function _M(t){let e=t[Mo];if(!e)return Uh(t[Z],t);for(;e;){let n=null;if(sr(e))n=e[Mo];else{let r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)sr(e)&&Uh(e[Z],e),e=e[nt];e===null&&(e=t),sr(e)&&Uh(e[Z],e),n=e&&e[Ut]}e=n}}function IM(t,e,n,r){let i=gt+r,s=n.length;r>0&&(n[i-1][Ut]=e),r<s-gt?(e[Ut]=n[i],Sw(n,gt+r,e)):(n.push(e),e[Ut]=null),e[nt]=n;let o=e[Br];o!==null&&n!==o&&QE(o,e);let c=e[Cn];c!==null&&c.insertView(t),ef(e),e[G]|=128}function QE(t,e){let n=t[ts],r=e[nt];if(sr(r))t[G]|=uu.HasTransplantedViews;else{let i=r[nt][xt];e[xt]!==i&&(t[G]|=uu.HasTransplantedViews)}n===null?t[ts]=[e]:n.push(e)}function Ip(t,e){let n=t[ts],r=n.indexOf(e);n.splice(r,1)}function yu(t,e){if(t.length<=gt)return;let n=gt+e,r=t[n];if(r){let i=r[Br];i!==null&&i!==t&&Ip(i,r),e>0&&(t[n-1][Ut]=r[Ut]);let s=su(t,gt+e);yM(r[Z],r);let o=s[Cn];o!==null&&o.detachView(s[Z]),r[nt]=null,r[Ut]=null,r[G]&=-129}return r}function wp(t,e){if(!(e[G]&256)){let n=e[De];n.destroyNode&&Ku(t,e,n,3,null,null),_M(e)}}function Uh(t,e){if(e[G]&256)return;let n=ce(null);try{e[G]&=-129,e[G]|=256,e[Nt]&&gc(e[Nt]),EM(t,e),wM(t,e),e[Z].type===1&&e[De].destroy();let r=e[Br];if(r!==null&&Nn(e[nt])){r!==e[nt]&&Ip(r,e);let i=e[Cn];i!==null&&i.detachView(t)}hf(e)}finally{ce(n)}}function wM(t,e){let n=t.cleanup,r=e[au];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[au]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function EM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Qt(4,c,u);try{u.call(c)}finally{Qt(5,c,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function YE(t,e,n){return DM(t,e.parent,n)}function DM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[rn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return Pt(r,n)}}function vu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZE(t,e,n){t.appendChild(e,n)}function nw(t,e,n,r,i){r!==null?vu(t,e,n,r,i):ZE(t,e,n)}function JE(t,e){return t.parentNode(e)}function TM(t,e){return t.nextSibling(e)}function XE(t,e,n){return CM(t,e,n)}function bM(t,e,n){return t.type&40?Pt(t,n):null}var CM=bM,rw;function Wu(t,e,n,r){let i=YE(t,r,e),s=e[De],o=r.parent||e[mt],c=XE(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)nw(s,i,n[u],c,!1);else nw(s,i,n,c,!1);rw!==void 0&&rw(s,r,e,n,i)}function To(t,e){if(e!==null){let n=e.type;if(n&3)return Pt(e,t);if(n&4)return yf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return To(t,r);{let i=t[e.index];return Nn(i)?yf(-1,i):Xt(i)}}else{if(n&128)return To(t,e.next);if(n&32)return _p(e,t)()||Xt(t[e.index]);{let r=eD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hr(t[xt]);return To(i,r)}else return To(t,e.next)}}}return null}function eD(t,e){if(e!==null){let r=t[xt][mt],i=e.projection;return r.projection[i]}return null}function yf(t,e){let n=gt+t+1;if(n<e.length){let r=e[n],i=r[Z].firstChild;if(i!==null)return To(r,i)}return e[$r]}function SM(t,e,n){t.removeChild(null,e,n)}function Ep(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&ar(Xt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ep(t,e,n.child,r,i,s,!1),Ki(e,t,i,c,s);else if(u&32){let l=_p(n,r),f;for(;f=l();)Ki(e,t,i,f,s);Ki(e,t,i,c,s)}else u&16?tD(t,e,r,n,i,s):Ki(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Ku(t,e,n,r,i,s){Ep(n,r,t.firstChild,e,i,s,!1)}function AM(t,e,n){let r=e[De],i=YE(t,n,e),s=n.parent||e[mt],o=XE(s,n,e);tD(r,0,e,n,i,o)}function tD(t,e,n,r,i,s){let o=n[xt],u=o[mt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ki(e,t,i,f,s)}else{let l=u,f=o[nt];NE(r)&&(l.flags|=128),Ep(t,e,l,f,i,s,!0)}}function RM(t,e,n,r,i){let s=n[$r],o=Xt(n);s!==o&&Ki(e,t,r,s,i);for(let c=gt;c<n.length;c++){let u=n[c];Ku(u[Z],u,t,e,r,s)}}function NM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=An.Important),t.setStyle(n,r,i,s))}}function MM(t,e,n){t.setAttribute(e,"style",n)}function nD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Kh(t,e,r),i!==null&&nD(t,e,i),s!==null&&MM(t,e,s)}var jt={};function EW(t=1){iD(Se(),Y(),ti()+t,!1)}function iD(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Jc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Xc(e,s,0,n)}qr(n)}function Te(t,e=ne.Default){let n=Y();if(n===null)return Q(t,e);let r=Ze();return DE(r,n,Ke(t),e)}function sD(){let t="invalid";throw new Error(t)}function oD(t,e,n,r,i,s){let o=ce(null);try{let c=null;i&or.SignalBased&&(c=e[r][qt]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&or.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Kw(e,c,r,s)}finally{ce(o)}}function xM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qr(~i);else{let s=i,o=n[++r],c=n[++r];tN(o,s);let u=e[s];c(2,u)}}}finally{qr(-1)}}function Qu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[rn]=i,g[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(g[G]|=2048),Xw(g),g[nt]=g[as]=t,g[Mt]=n,g[Jt]=o||t&&t[Jt],g[De]=c||t&&t[De],g[es]=u||t&&t[es]||null,g[mt]=s,g[Lu]=ON(),g[No]=f,g[Ww]=l,g[xt]=e.type==2?t[xt]:g,g}function ls(t,e,n,r,i){let s=t.data[e];if(s===null)s=PM(t,e,n,r,i),eN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=YR();s.injectorIndex=o===null?-1:o.injectorIndex}return Jr(s,!0),s}function PM(t,e,n,r,i){let s=sE(),o=rp(),c=o?s:s&&s.parent,u=t.data[e]=UM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function aD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cD(t,e,n,r,i){let s=ti(),o=r&2;try{qr(-1),o&&e.length>Le&&iD(t,e,Le,!1),Qt(o?2:0,i),n(r,i)}finally{qr(s),Qt(o?3:1,i)}}function Dp(t,e,n){if(ep(e)){let r=ce(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ce(r)}}}function Tp(t,e,n){rE()&&(zM(t,e,n,Pt(n,e)),(n.flags&64)===64&&dD(t,e,n))}function bp(t,e,n=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function uD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Cp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Cp(t,e,n,r,i,s,o,c,u,l,f){let g=Le+r,_=g+i,w=OM(g,_),S=typeof l=="function"?l():l;return w[Z]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function OM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:jt);return n}function kM(t,e,n,r){let s=r.get(jN,FE)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return LM(o),o}function LM(t){FM(t)}var FM=()=>null;function VM(t,e,n,r){let i=pD(e);i.push(n),t.firstCreatePass&&gD(t).push(r,i.length-1)}function UM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return iE()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function iw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=or.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?sw(r,n,l,c,u):sw(r,n,l,c)}return r}function sw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,w=_?_.inputs:null,S=_?_.outputs:null;u=iw(0,g.inputs,f,u,w),l=iw(1,g.outputs,f,l,S);let N=u!==null&&o!==null&&!Yf(e)?nx(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function BM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Yu(t,e,n,r,i,s,o,c){let u=Pt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Ap(t,n,f,r,i),Fu(e)&&$M(n,e.index)):e.type&3?(r=BM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function $M(t,e){let n=lr(e,t);n[G]&16||(n[G]|=64)}function Sp(t,e,n,r){if(rE()){let i=r===null?null:{"":-1},s=WM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&lD(t,e,n,o,i,c),i&&KM(n,r,i)}n.mergedAttrs=Ao(n.mergedAttrs,n.attrs)}function lD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)sf(fu(n,e),t,r[l].type);YM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=aD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Ao(n.mergedAttrs,f.hostAttrs),ZM(t,n,e,u,f),QM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}jM(t,n,s)}function HM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;qM(o)!=c&&o.push(c),o.push(n,r,s)}}function qM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Fu(n)&&JM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fu(n,e),ar(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Gr(e,t,c,n);if(ar(l,e),o!==null&&tx(e,c-i,l,u,n,o),Sn(u)){let f=lr(n.index,e);f[Mt]=Gr(e,t,c,n)}}}function dD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=nN();try{qr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];tf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GM(u,l)}}finally{qr(-1),tf(o)}}function GM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Pw(e,o.selectors,!1))if(r||(r=[]),Sn(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;vf(t,e,u)}else r.unshift(o),vf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function vf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function QM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sn(e)&&(n[""]=t)}}function YM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=jr(i.type,!0)),o=new zr(s,Sn(i),Te);t.blueprint[r]=o,n[r]=o,HM(t,e,r,aD(t,n,i.hostVars,jt),i)}function JM(t,e,n){let r=Pt(e,t),i=uD(n),s=t[Jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Zu(t,Qu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function XM(t,e,n,r,i,s){let o=Pt(t,e);ex(e[De],o,s,t.value,n,r,i)}function ex(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Ur(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function tx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];oD(r,n,u,l,f,g)}}function nx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function hD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function fD(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];sp(s),c.contentQueries(2,e[o],o)}}}finally{ce(r)}}}function Zu(t,e){return t[Mo]?t[UI][Ut]=e:t[Mo]=e,t[UI]=e,e}function _f(t,e,n){sp(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function pD(t){return t[au]??=[]}function gD(t){return t.cleanup??=[]}function rx(t,e,n){return(t===null||Sn(t))&&(n=jR(n[e.index])),n[De]}function mD(t,e){let n=t[es],r=n?n.get(en,null):null;r&&r.handleError(e)}function Ap(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];oD(f,l,r,c,u,i)}}function yD(t,e,n){let r=Jw(e,t);gM(t[De],r,n)}function ix(t,e){let n=lr(e,t),r=n[Z];sx(r,n);let i=n[rn];i!==null&&n[No]===null&&(n[No]=mp(i,n[es])),Rp(r,n,n[Mt])}function sx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rp(t,e,n){op(e);try{let r=t.viewQuery;r!==null&&_f(1,r,n);let i=t.template;i!==null&&cD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Cn]?.finishViewCreation(t),t.staticContentQueries&&fD(t,e),t.staticViewQueries&&_f(2,t.viewQuery,n);let s=t.components;s!==null&&ox(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,ap()}}function ox(t,e){for(let n=0;n<e.length;n++)ix(t,e[n])}function Np(t,e,n,r){let i=ce(null);try{let s=e.tView,c=t[G]&4096?4096:16,u=Qu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Br]=l;let f=t[Cn];return f!==null&&(u[Cn]=f.createEmbeddedView(s)),Rp(s,u,n),u}finally{ce(i)}}function ax(t,e){let n=gt+e;if(n<t.length)return t[n]}function _u(t,e){return!e||e.firstChild===null||NE(t)}function Mp(t,e,n,r=!0){let i=e[Z];if(IM(i,e,t,n),r){let o=yf(n,t),c=e[De],u=JE(c,t[$r]);u!==null&&vM(i,t[mt],c,e,u,o)}let s=e[No];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cx(t,e){let n=yu(t,e);return n!==void 0&&wp(n[Z],n),n}function Iu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Xt(s)),Nn(s)&&ux(s,r);let o=n.type;if(o&8)Iu(t,e,n.child,r);else if(o&32){let c=_p(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=eD(e,n);if(Array.isArray(c))r.push(...c);else{let u=Hr(e[xt]);Iu(u[Z],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ux(t,e){for(let n=gt;n<t.length;n++){let r=t[n],i=r[Z].firstChild;i!==null&&Iu(r[Z],r,i,e)}t[$r]!==t[rn]&&e.push(t[$r])}var vD=[];function lx(t){return t[Nt]??dx(t)}function dx(t){let e=vD.pop()??Object.create(fx);return e.lView=t,e}function hx(t){t.lView[Nt]!==t&&(t.lView=null,vD.push(t))}var fx=me(k({},Ni),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ju(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function px(t){let e=t[Nt]??Object.create(gx);return e.lView=t,e}var gx=me(k({},Ni),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Hr(t.lView);for(;e&&!_D(e[Z]);)e=Hr(e);e&&eE(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function _D(t){return t.type!==2}var mx=100;function ID(t,e=!0,n=0){let r=t[Jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{yx(t,n)}catch(o){throw e&&mD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function yx(t,e){let n=oE();try{BI(!0),If(t,e);let r=0;for(;Uu(t);){if(r===mx)throw new j(103,!1);r++,If(t,1)}}finally{BI(n)}}function vx(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Jt].inlineEffectRunner?.flush(),op(e);let c=!0,u=null,l=null;s||(_D(t)?(l=lx(e),u=_o(l)):j_()===null?(c=!1,l=px(e),u=_o(l)):e[Nt]&&(gc(e[Nt]),e[Nt]=null));try{Xw(e),XR(t.bindingStartIndex),n!==null&&cD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let w=t.preOrderCheckHooks;w!==null&&Jc(e,w,null)}else{let w=t.preOrderHooks;w!==null&&Xc(e,w,0,null),kh(e,0)}if(o||_x(e),wD(e,0),t.contentQueries!==null&&fD(t,e),!s)if(f){let w=t.contentCheckHooks;w!==null&&Jc(e,w)}else{let w=t.contentHooks;w!==null&&Xc(e,w,1),kh(e,1)}xM(t,e);let g=t.components;g!==null&&DD(e,g,0);let _=t.viewQuery;if(_!==null&&_f(2,_,r),!s)if(f){let w=t.viewCheckHooks;w!==null&&Jc(e,w)}else{let w=t.viewHooks;w!==null&&Xc(e,w,2),kh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zc]){for(let w of e[Zc])w();e[Zc]=null}s||(e[G]&=-73)}catch(f){throw s||ju(e),f}finally{l!==null&&(fc(l,u),c&&hx(l)),ap()}}function wD(t,e){for(let n=xE(t);n!==null;n=PE(n))for(let r=gt;r<n.length;r++){let i=n[r];ED(i,e)}}function _x(t){for(let e=xE(t);e!==null;e=PE(e)){if(!(e[G]&uu.HasTransplantedViews))continue;let n=e[ts];for(let r=0;r<n.length;r++){let i=n[r];eE(i)}}}function Ix(t,e,n){let r=lr(e,t);ED(r,n)}function ED(t,e){np(t)&&If(t,e)}function If(t,e){let r=t[Z],i=t[G],s=t[Nt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&pc(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)vx(r,t,r.template,t[Mt]);else if(i&8192){wD(t,1);let c=r.components;c!==null&&DD(t,c,1)}}function DD(t,e,n){for(let r=0;r<e.length;r++)Ix(t,e[r],n)}function xp(t,e){let n=oE()?64:1088;for(t[Jt].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Hr(t);if(Jh(t)&&!r)return t;t=r}return null}var Wr=class{get rootNodes(){let e=this._lView,n=e[Z];return Iu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Nn(e)){let n=e[cu],r=n?n.indexOf(this):-1;r>-1&&(yu(e,r),su(n,r))}this._attachedToViewContainer=!1}wp(this._lView[Z],this._lView)}onDestroy(e){tE(this._lView,e)}markForCheck(){xp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){ef(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,ID(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jh(this._lView),n=this._lView[Br];n!==null&&!e&&Ip(n,this._lView),KE(this._lView[Z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Jh(this._lView),r=this._lView[Br];r!==null&&!n&&QE(r,this._lView),ef(this._lView)}},Kr=(()=>{class t{static{this.__NG_ELEMENT_ID__=Dx}}return t})(),wx=Kr,Ex=class extends wx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Np(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Wr(i)}};function Dx(){return Ju(Ze(),Y())}function Ju(t,e){return t.type&4?new Ex(e,t,cs(t,e)):null}var TW=new RegExp(`^(\\d+)*(${VN}|${FN})*(.*)`);var Tx=()=>null;function wu(t,e){return Tx(t,e)}var rs=class{},Xu=new B("",{providedIn:"root",factory:()=>!1});var TD=new B(""),bD=new B(""),wf=class{},Eu=class{};function bx(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[Cx]=t,e}var Cx="ngComponent";var Ef=class{resolveComponentFactory(e){throw bx(e)}},is=class{static{this.NULL=new Ef}},ss=class{},$o=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Sx()}}return t})();function Sx(){let t=Y(),e=Ze(),n=lr(e.index,t);return(sr(n)?n:t)[De]}var Ax=(()=>{class t{static{this.\u0275prov=U({token:t,providedIn:"root",factory:()=>null})}}return t})();function Du(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=RI(i,c);else if(s==2){let u=c,l=e[++o];r=RI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tu=class extends is{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bn(e);return new Qr(n,this.ngModule)}};function ow(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:or.None;e?n.push({propName:o,templateName:r,isSignal:(c&or.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Rx(t){let e=t.toLowerCase();return e==="svg"?VR:e==="math"?UR:null}var Qr=class extends Eu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ow(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ow(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ce(null);try{i=i||this.ngModule;let o=i instanceof wt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new nf(e,o):e,u=c.get(ss,null);if(u===null)throw new j(407,!1);let l=c.get(Ax,null),f=c.get(rs,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=r?kM(_,r,this.componentDef.encapsulation,c):WE(_,w,Rx(w)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let M=null;S!==null&&(M=mp(S,c,!0));let L=Cp(0,null,null,1,0,null,null,null,null,null,null),K=Qu(null,L,null,N,null,null,g,_,c,null,M);op(K);let X,he,qe=null;try{let le=this.componentDef,D,m=null;le.findHostDirectiveDefs?(D=[],m=new Map,le.findHostDirectiveDefs(le,D,m),D.push(le)):D=[le];let y=Nx(K,S);qe=Mx(y,S,le,D,K,g,_),he=tp(L,Le),S&&Ox(_,le,S,r),n!==void 0&&kx(he,this.ngContentSelectors,n),X=Px(qe,le,D,m,K,[Lx]),Rp(L,K,null)}catch(le){throw qe!==null&&hf(qe),hf(K),le}finally{ap()}return new Df(this.componentType,X,cs(he,K),K,he)}finally{ce(s)}}},Df=class extends wf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ap(s[Z],s,i,e,n),this.previousInputValues.set(e,n);let o=lr(this._tNode.index,s);xp(o,1)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Nx(t,e){let n=t[Z],r=Le;return t[r]=e,ls(n,r,2,"#host",null)}function Mx(t,e,n,r,i,s,o){let c=i[Z];xx(r,t,e,o);let u=null;e!==null&&(u=mp(e,i[es]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Qu(i,uD(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&vf(c,t,r.length-1),Zu(i,g),i[t.index]=g}function xx(t,e,n,r){for(let i of t)e.mergedAttrs=Ao(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Du(e,e.mergedAttrs,!0),n!==null&&rD(r,n,e))}function Px(t,e,n,r,i,s){let o=Ze(),c=i[Z],u=Pt(o,i);lD(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=Gr(i,c,g,o);ar(_,i)}dD(c,i,o),u&&ar(u,i);let l=Gr(i,c,o.directiveStart+o.componentOffset,o);if(t[Mt]=i[Mt]=l,s!==null)for(let f of s)f(l,e);return Dp(c,o,i),l}function Ox(t,e,n,r){if(r)Kh(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=_R(e.selectors[0]);i&&Kh(t,n,i),s&&s.length>0&&nD(t,n,s.join(" "))}}function kx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Lx(){let t=Ze();Hu(Y()[Z],t)}var Pn=(()=>{class t{static{this.__NG_ELEMENT_ID__=Fx}}return t})();function Fx(){let t=Ze();return SD(t,Y())}var Vx=Pn,CD=class extends Vx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=cp(this._hostTNode,this._hostLView);if(yE(e)){let n=du(e,this._hostLView),r=lu(e),i=n[Z].data[r+8];return new Vr(i,n)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=aw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=wu(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,_u(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!OR(e),c;if(o)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Qr(bn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(wt,null);N&&(s=N)}let f=bn(u.componentType??{}),g=wu(this._lContainer,f?.id??null),_=g?.firstChild??null,w=u.create(l,i,_,s);return this.insertImpl(w.hostView,c,_u(this._hostTNode,g)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($R(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[nt],l=new CD(u,u[mt],u[nt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Mp(o,i,s,r),e.attachToViewContainerRef(),Sw(jh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=aw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yu(this._lContainer,n);r&&(su(jh(this._lContainer),n),wp(r[Z],r))}detach(e){let n=this._adjustIndex(e,-1),r=yu(this._lContainer,n);return r&&su(jh(this._lContainer),n)!=null?new Wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function aw(t){return t[cu]}function jh(t){return t[cu]||(t[cu]=[])}function SD(t,e){let n,r=e[t.index];return Nn(r)?n=r:(n=hD(r,e,null,t),e[t.index]=n,Zu(e,n)),jx(n,e,t,r),new CD(n,t,e)}function Ux(t,e){let n=t[De],r=n.createComment(""),i=Pt(e,t),s=JE(n,i);return vu(n,s,r,TM(n,i),!1),r}var jx=Hx,Bx=()=>!1;function $x(t,e,n){return Bx(t,e,n)}function Hx(t,e,n,r){if(t[$r])return;let i;n.type&8?i=Xt(r):i=Ux(e,n),t[$r]=i}var Tf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},bf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Pp(e,n).matches!==null&&this.queries[n].setDirty()}},bu=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Zx(e):this.predicate=e}},Cf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Sf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,qx(n,s)),this.matchTNodeWithReadOption(e,n,eu(n,e,s,!1,!1))}else r===Kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,eu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Mn||i===Pn||i===Kr&&n.type&4)this.addMatch(n.index,-2);else{let s=eu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function qx(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function zx(t,e){return t.type&11?cs(t,e):t.type&4?Ju(t,e):null}function Gx(t,e,n,r){return n===-1?zx(e,t):n===-2?Wx(t,e,r):Gr(t,t[Z],n,e)}function Wx(t,e,n){if(n===Mn)return cs(e,t);if(n===Kr)return Ju(e,t);if(n===Pn)return SD(e,t)}function AD(t,e,n,r){let i=e[Cn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(Gx(e,f,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Af(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=AD(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let g=gt;g<f.length;g++){let _=f[g];_[Br]===_[nt]&&Af(_[Z],_,l,r)}if(f[ts]!==null){let g=f[ts];for(let _=0;_<g.length;_++){let w=g[_];Af(w[Z],w,l,r)}}}}}return r}function Kx(t,e){return t[Cn].queries[e].queryList}function RD(t,e,n){let r=new df((n&4)===4);return VM(t,e,r,r.destroy),(e[Cn]??=new bf).queries.push(new Tf(r))-1}function Qx(t,e,n){let r=Se();return r.firstCreatePass&&(ND(r,new bu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),RD(r,Y(),e)}function Yx(t,e,n,r){let i=Se();if(i.firstCreatePass){let s=Ze();ND(i,new bu(e,n,r),s.index),Jx(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return RD(i,Y(),n)}function Zx(t){return t.split(",").map(e=>e.trim())}function ND(t,e,n){t.queries===null&&(t.queries=new Cf),t.queries.track(new Sf(e,n))}function Jx(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Pp(t,e){return t.queries.getByIndex(e)}function Xx(t,e){let n=t[Z],r=Pp(n,e);return r.crossesNgTemplate?Af(n,t,e,[]):AD(n,t,r,e)}var cw=new Set;function dr(t){cw.has(t)||(cw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function eP(t){return typeof t=="function"&&t[qt]!==void 0}function CW(t,e){dr("NgSignals");let n=J_(t),r=n[qt];return e?.equal&&(r.equal=e.equal),n.set=i=>hh(r,i),n.update=i=>X_(r,i),n.asReadonly=tP.bind(n),n}function tP(){let t=this[qt];if(t.readonlyFn===void 0){let e=()=>this();e[qt]=t,t.readonlyFn=e}return t.readonlyFn}function MD(t){return eP(t)&&typeof t.set=="function"}function nP(t){return Object.getPrototypeOf(t.prototype).constructor}function rP(t){let e=nP(t.type),n=!0,r=[t];for(;e;){let i;if(Sn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Wc(t.inputs),o.inputTransforms=Wc(t.inputTransforms),o.declaredInputs=Wc(t.declaredInputs),o.outputs=Wc(t.outputs);let c=i.hostBindings;c&&cP(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&oP(t,u),l&&aP(t,l),iP(t,i),LA(t.outputs,i.outputs),Sn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===rP&&(n=!1)}}e=Object.getPrototypeOf(e)}sP(r)}function iP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function sP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ao(i.hostAttrs,n=Ao(n,i.hostAttrs))}}function Wc(t){return t===Tn?{}:t===Rt?[]:t}function oP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function aP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function cP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function SW(t){let e=n=>{let r=(Array.isArray(t)?t:t()).map(i=>typeof i=="function"?{directive:Ke(i),inputs:Tn,outputs:Tn}:{directive:Ke(i.directive),inputs:uw(i.inputs),outputs:uw(i.outputs)});n.hostDirectives===null?(n.findHostDirectiveDefs=xD,n.hostDirectives=r):n.hostDirectives.unshift(...r)};return e.ngInherit=!0,e}function xD(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives){let i=Zf(r.directive);uP(i.declaredInputs,r.inputs),xD(i,e,n),n.set(i,r),e.push(i)}}function uw(t){if(t===void 0||t.length===0)return Tn;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function uP(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function Op(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Rn=class{},xo=class{};function PD(t,e){return new Cu(t,e??null,[])}var Cu=class extends Rn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tu(this);let s=Vw(e);this._bootstrapComponents=GE(s.bootstrap),this._r3Injector=CE(e,n,[{provide:Rn,useValue:this},{provide:is,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rf=class extends xo{constructor(e){super(),this.moduleType=e}create(e){return new Cu(this.moduleType,e,[])}};var Su=class extends Rn{constructor(e){super(),this.componentFactoryResolver=new Tu(this),this.instance=null;let n=new Ro([...e.providers,{provide:Rn,useValue:this},{provide:is,useValue:this.componentFactoryResolver}],e.parent||ku(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function el(t,e,n=null){return new Su({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function OD(t){return dP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function lP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function dP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ds(t,e,n){return t[e]=n}function kD(t,e){return t[e]}function Et(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Au(t,e,n,r){let i=Et(t,e,n);return Et(t,e+1,r)||i}function LD(t,e,n,r,i,s){let o=Au(t,e,n,r);return Au(t,e+2,i,s)||o}function hP(t){return(t.flags&32)===32}function fP(t,e,n,r,i,s,o,c,u){let l=e.consts,f=ls(e,t,4,o||null,c||null);Sp(e,n,f,ns(l,u)),Hu(e,f);let g=f.tView=Cp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function FD(t,e,n,r,i,s,o,c,u,l){let f=n+Le,g=e.firstCreatePass?fP(f,e,t,r,i,s,o,c,u):e.data[f];Jr(g,!1);let _=gP(e,t,g,n);Bu()&&Wu(e,t,_,g),ar(_,t);let w=hD(_,t,_,g);return t[f]=w,Zu(t,w),$x(w,g,t),Vu(g)&&Tp(e,t,g),u!=null&&bp(t,g,l),g}function pP(t,e,n,r,i,s,o,c){let u=Y(),l=Se(),f=ns(l.consts,s);return FD(u,l,t,e,n,r,i,f,o,c),pP}var gP=mP;function mP(t,e,n,r){return $u(!0),e[De].createComment("")}var Qi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qi||{}),VD=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Nf=class t{constructor(){this.ngZone=P(fe),this.scheduler=P(rs),this.errorHandler=P(en,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Qi.EarlyRead,Qi.Write,Qi.MixedReadWrite,Qi.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}},Mf=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function kp(t,e){!e?.injector&&Gw(kp);let n=e?.injector??P(Ye);return hM(n)?(dr("NgAfterNextRender"),vP(t,n,e,!0)):_P}function yP(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function vP(t,e,n,r){let i=e.get(VD);i.impl??=e.get(Nf);let s=n?.phase??Qi.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(qu):null,c=new Mf(i.impl,yP(t,s),r,o);return i.impl.register(c),c}var _P={destroy(){}};function Lp(t,e,n,r){let i=Y(),s=ei();if(Et(i,s,e)){let o=Se(),c=Uo();XM(c,i,t,e,n,r)}return Lp}function IP(t,e,n,r){return Et(t,ei(),n)?e+Ur(n)+r:jt}function wP(t,e,n,r,i,s){let o=JR(),c=Au(t,o,n,i);return aE(2),c?e+Ur(n)+r+Ur(i)+s:jt}function Kc(t,e){return t<<17|e<<2}function Yr(t){return t>>17&32767}function EP(t){return(t&2)==2}function DP(t,e){return t&131071|e<<17}function xf(t){return t|2}function os(t){return(t&131068)>>2}function Bh(t,e){return t&-131069|e<<2}function TP(t){return(t&1)===1}function Pf(t){return t|1}function bP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Yr(o),u=os(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Lo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=Yr(t[c+1]);t[r+1]=Kc(_,c),_!==0&&(t[_+1]=Bh(t[_+1],r)),t[c+1]=DP(t[c+1],r)}else t[r+1]=Kc(c,0),c!==0&&(t[c+1]=Bh(t[c+1],r)),c=r;else t[r+1]=Kc(u,0),c===0?c=r:t[u+1]=Bh(t[u+1],r),u=r;l&&(t[r+1]=xf(t[r+1])),lw(t,f,r,!0),lw(t,f,r,!1),CP(e,f,t,r,s),o=Kc(c,u),s?e.classBindings=o:e.styleBindings=o}function CP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Lo(s,e)>=0&&(n[r+1]=Pf(n[r+1]))}function lw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Yr(i):os(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];SP(u,e)&&(c=!0,t[o+1]=r?Pf(l):xf(l)),o=r?Yr(l):os(l)}c&&(t[n+1]=r?xf(i):Pf(i))}function SP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Lo(t,e)>=0:!1}function AP(t,e,n){let r=Y(),i=ei();if(Et(r,i,e)){let s=Se(),o=Uo();Yu(s,o,r,t,e,r[De],n,!1)}return AP}function dw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ap(t,n,s[o],o,r)}function UD(t,e,n){return jD(t,e,n,!1),UD}function RP(t,e){return jD(t,e,null,!0),RP}function jD(t,e,n,r){let i=Y(),s=Se(),o=aE(2);if(s.firstUpdatePass&&MP(s,t,o,r),e!==jt&&Et(i,o,e)){let c=s.data[ti()];LP(s,c,i,i[De],t,i[o+1]=FP(e,n),r,o)}}function NP(t,e){return e>=t.expandoStartIndex}function MP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ti()],o=NP(t,n);VP(s,r)&&e===null&&!o&&(e=!1),e=xP(i,s,e,r),bP(i,s,e,n,o,r)}}function xP(t,e,n,r){let i=cE(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=$h(null,t,e,n,r),n=Po(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=$h(i,t,e,n,r),s===null){let u=PP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=$h(null,t,e,u[1],r),u=Po(u,e.attrs,r),OP(t,e,r,u))}else s=kP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function PP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(os(r)!==0)return t[Yr(r)]}function OP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yr(i)]=r}function kP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Po(r,o,n)}return Po(r,e.attrs,n)}function $h(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Po(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Po(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),sR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function LP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=TP(l)?hw(u,e,n,i,os(l),o):void 0;if(!Ru(f)){Ru(s)||EP(l)&&(s=hw(u,null,n,i,c,o));let g=Jw(ti(),n);NM(r,o,g,i,s)}}function hw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===jt&&(_=g?Rt:void 0);let w=g?Ph(_,r):f===r?_:void 0;if(l&&!Ru(w)&&(w=Ph(u,r)),Ru(w)&&(c=w,o))return c;let S=t[i+1];i=o?Yr(S):os(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Ph(u,r))}return c}function Ru(t){return t!==void 0}function FP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt(us(t)))),t}function VP(t,e){return(t.flags&(e?8:16))!==0}function AW(t,e){dr("NgControlFlow");let n=Y(),r=ei(),i=n[r]!==jt?n[r]:-1,s=i!==-1?fw(n,Le+i):void 0,o=0;if(Et(n,r,t)){let c=ce(null);try{if(s!==void 0&&cx(s,o),t!==-1){let u=Le+t,l=fw(n,u),f=UP(n[Z],u),g=wu(l,f.tView.ssrId),_=Np(n,f,e,{dehydratedView:g});Mp(l,_,o,_u(f,g))}}finally{ce(c)}}else if(s!==void 0){let c=ax(s,o);c!==void 0&&(c[Mt]=e)}}function fw(t,e){return t[e]}function UP(t,e){return tp(t,e)}function jP(t,e,n,r,i,s){let o=e.consts,c=ns(o,i),u=ls(e,t,2,r,c);return Sp(e,n,u,ns(o,s)),u.attrs!==null&&Du(u,u.attrs,!1),u.mergedAttrs!==null&&Du(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function BD(t,e,n,r){let i=Y(),s=Se(),o=Le+t,c=i[De],u=s.firstCreatePass?jP(o,s,i,e,n,r):s.data[o],l=BP(s,i,u,c,e,t);i[o]=l;let f=Vu(u);return Jr(u,!0),rD(c,l,u),!hP(u)&&Bu()&&Wu(s,i,l,u),zR()===0&&ar(l,i),GR(),f&&(Tp(s,i,u),Dp(s,u,i)),r!==null&&bp(i,u),BD}function $D(){let t=Ze();rp()?ip():(t=t.parent,Jr(t,!1));let e=t;KR(e)&&QR(),WR();let n=Se();return n.firstCreatePass&&(Hu(n,t),ep(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&uN(e)&&dw(n,e,Y(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lN(e)&&dw(n,e,Y(),e.stylesWithoutHost,!1),$D}function Fp(t,e,n,r){return BD(t,e,n,r),$D(),Fp}var BP=(t,e,n,r,i,s)=>($u(!0),WE(r,i,sN()));function $P(t,e,n,r,i){let s=e.consts,o=ns(s,r),c=ls(e,t,8,"ng-container",o);o!==null&&Du(c,o,!0);let u=ns(s,i);return Sp(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function HD(t,e,n){let r=Y(),i=Se(),s=t+Le,o=i.firstCreatePass?$P(s,i,r,e,n):i.data[s];Jr(o,!0);let c=qP(i,r,o,t);return r[s]=c,Bu()&&Wu(i,r,c,o),ar(c,r),Vu(o)&&(Tp(i,r,o),Dp(i,o,r)),n!=null&&bp(r,o),HD}function qD(){let t=Ze(),e=Se();return rp()?ip():(t=t.parent,Jr(t,!1)),e.firstCreatePass&&(Hu(e,t),ep(t)&&e.queries.elementEnd(t)),qD}function HP(t,e,n){return HD(t,e,n),qD(),HP}var qP=(t,e,n,r)=>($u(!0),mM(e[De],""));function RW(){return Y()}function zP(t,e,n){let r=Y(),i=ei();if(Et(r,i,e)){let s=Se(),o=Uo();Yu(s,o,r,t,e,r[De],n,!0)}return zP}function GP(t,e,n){let r=Y(),i=ei();if(Et(r,i,e)){let s=Se(),o=Uo(),c=cE(s.data),u=rx(c,o,r);Yu(s,o,r,t,e,u,n,!0)}return GP}var Nu="en-US";var WP=Nu;function KP(t){typeof t=="string"&&(WP=t.toLowerCase().replace(/_/g,"-"))}var QP=(t,e,n)=>{};function Vp(t,e,n,r){let i=Y(),s=Se(),o=Ze();return zD(s,i,i[De],o,t,e,r),Vp}function YP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[au],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function zD(t,e,n,r,i,s,o){let c=Vu(r),l=t.firstCreatePass&&gD(t),f=e[Mt],g=pD(e),_=!0;if(r.type&3||o){let N=Pt(r,e),M=o?o(N):N,L=g.length,K=o?he=>o(Xt(he[r.index])):r.index,X=null;if(!o&&c&&(X=YP(t,e,i,r.index)),X!==null){let he=X.__ngLastListenerFn__||X;he.__ngNextListenerFn__=s,X.__ngLastListenerFn__=s,_=!1}else{s=gw(r,e,f,s),QP(N,i,s);let he=n.listen(M,i,s);g.push(s,he),l&&l.push(i,K,L,L+1)}}else s=gw(r,e,f,s);let w=r.outputs,S;if(_&&w!==null&&(S=w[i])){let N=S.length;if(N)for(let M=0;M<N;M+=2){let L=S[M],K=S[M+1],qe=e[L][K].subscribe(s),le=g.length;g.push(s,qe),l&&l.push(i,r.index,le,-(le+1))}}}function pw(t,e,n,r){let i=ce(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return mD(t,s),!1}finally{Qt(7,e,n),ce(i)}}function gw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?lr(t.index,e):e;xp(o,5);let c=pw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=pw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function NW(t=1){return iN(t)}function ZP(t,e){let n=null,r=fR(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Pw(t,s,!0):mR(r,s))return i}return n}function MW(t){let e=Y()[xt][mt];if(!e.projection){let n=t?t.length:1,r=e.projection=rR(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?ZP(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function xW(t,e=0,n,r,i,s){let o=Y(),c=Se(),u=r?t+1:null;u!==null&&FD(o,c,u,r,i,s,null,n);let l=ls(c,Le+t,16,null,n||null);l.projection===null&&(l.projection=e),ip();let g=!o[No]||iE();o[xt][mt].projection[l.projection]===null&&u!==null?JP(o,c,u):g&&(l.flags&32)!==32&&AM(c,o,l)}function JP(t,e,n){let r=Le+n,i=e.data[r],s=t[r],o=wu(s,i.tView.ssrId),c=Np(t,i,void 0,{dehydratedView:o});Mp(s,c,0,_u(i,o))}function GD(t,e,n,r){Yx(t,e,n,r)}function PW(t,e,n){Qx(t,e,n)}function WD(t){let e=Y(),n=Se(),r=uE();sp(r+1);let i=Pp(n,r);if(t.dirty&&BR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Xx(e,r);t.reset(s,MN),t.notifyOnChanges()}return!0}return!1}function KD(){return Kx(Y(),uE())}function XP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function OW(t){let e=ZR();return Vo(e,Le+t)}function kW(t,e=""){let n=Y(),r=Se(),i=t+Le,s=r.firstCreatePass?ls(r,i,1,e,null):r.data[i],o=eO(r,n,s,e,t);n[i]=o,Bu()&&Wu(r,n,o,s),Jr(s,!1)}var eO=(t,e,n,r,i)=>($u(!0),pM(e[De],r));function tO(t,e,n){let r=Y(),i=IP(r,t,e,n);return i!==jt&&yD(r,ti(),i),tO}function nO(t,e,n,r,i){let s=Y(),o=wP(s,t,e,n,r,i);return o!==jt&&yD(s,ti(),o),nO}function rO(t,e,n){MD(e)&&(e=e());let r=Y(),i=ei();if(Et(r,i,e)){let s=Se(),o=Uo();Yu(s,o,r,t,e,r[De],n,!1)}return rO}function LW(t,e){let n=MD(t);return n&&t.set(e),n}function iO(t,e){let n=Y(),r=Se(),i=Ze();return zD(r,n,n[De],i,t,e),iO}function sO(t,e,n){let r=Se();if(r.firstCreatePass){let i=Sn(t);Of(n,r.data,r.blueprint,i,!0),Of(e,r.data,r.blueprint,i,!1)}}function Of(t,e,n,r,i){if(t=Ke(t),Array.isArray(t))for(let s=0;s<t.length;s++)Of(t[s],e,n,r,i);else{let s=Se(),o=Y(),c=Ze(),u=Xi(t)?t:Ke(t.provide),l=qw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(Xi(t)||!t.multi){let w=new zr(l,i,Te),S=qh(u,e,i?f:f+_,g);S===-1?(sf(fu(c,o),s,u),Hh(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)):(n[S]=w,o[S]=w)}else{let w=qh(u,e,f+_,g),S=qh(u,e,f,f+_),N=w>=0&&n[w],M=S>=0&&n[S];if(i&&!M||!i&&!N){sf(fu(c,o),s,u);let L=cO(i?aO:oO,n.length,i,r,l);!i&&M&&(n[S].providerFactory=L),Hh(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(L),o.push(L)}else{let L=QD(n[i?S:w],l,!i&&r);Hh(s,t,w>-1?w:S,L)}!i&&r&&M&&n[S].componentProviders++}}}function Hh(t,e,n,r){let i=Xi(e),s=SR(e);if(i||s){let u=(s?Ke(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function QD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oO(t,e,n,r){return kf(this.multi,[])}function aO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Gr(n,n[Z],this.providerFactory.index,r);s=c.slice(0,o),kf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],kf(i,s);return s}function kf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function cO(t,e,n,r,i){let s=new zr(t,n,Te);return s.multi=[],s.index=e,s.componentProviders=0,QD(s,i,r&&!n),s}function FW(t,e=[]){return n=>{n.providersResolver=(r,i)=>sO(r,i?i(t):t,e)}}var uO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Bw(!1,n.type),i=r.length>0?el([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(Q(wt))})}}return t})();function YD(t){dr("NgStandalone"),t.getStandaloneInjector=e=>e.get(uO).getOrCreateStandaloneInjector(t)}function VW(t,e,n){let r=Xr()+t,i=Y();return i[r]===jt?ds(i,r,n?e.call(n):e()):kD(i,r)}function UW(t,e,n,r){return ZD(Y(),Xr(),t,e,n,r)}function jW(t,e,n,r,i,s,o,c){let u=Xr()+t,l=Y(),f=LD(l,u,n,r,i,s);return Et(l,u+4,o)||f?ds(l,u+5,c?e.call(c,n,r,i,s,o):e(n,r,i,s,o)):kD(l,u+5)}function tl(t,e){let n=t[e];return n===jt?void 0:n}function ZD(t,e,n,r,i,s){let o=e+n;return Et(t,o,i)?ds(t,o+1,s?r.call(s,i):r(i)):tl(t,o+1)}function lO(t,e,n,r,i,s,o){let c=e+n;return Au(t,c,i,s)?ds(t,c+2,o?r.call(o,i,s):r(i,s)):tl(t,c+2)}function dO(t,e,n,r,i,s,o,c,u){let l=e+n;return LD(t,l,i,s,o,c)?ds(t,l+4,u?r.call(u,i,s,o,c):r(i,s,o,c)):tl(t,l+4)}function hO(t,e,n,r,i,s){let o=e+n,c=!1;for(let u=0;u<i.length;u++)Et(t,o++,i[u])&&(c=!0);return c?ds(t,o,r.apply(s,i)):tl(t,o)}function BW(t,e){let n=Se(),r,i=t+Le;n.firstCreatePass?(r=fO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=jr(r.type,!0)),o,c=pt(Te);try{let u=hu(!1),l=s();return hu(u),XP(n,Y(),i,l),l}finally{pt(c)}}function fO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function $W(t,e,n){let r=t+Le,i=Y(),s=Vo(i,r);return nl(i,r)?ZD(i,Xr(),e,s.transform,n,s):s.transform(n)}function HW(t,e,n,r){let i=t+Le,s=Y(),o=Vo(s,i);return nl(s,i)?lO(s,Xr(),e,o.transform,n,r,o):o.transform(n,r)}function qW(t,e,n,r,i,s){let o=t+Le,c=Y(),u=Vo(c,o);return nl(c,o)?dO(c,Xr(),e,u.transform,n,r,i,s,u):u.transform(n,r,i,s)}function zW(t,e,n){let r=t+Le,i=Y(),s=Vo(i,r);return nl(i,r)?hO(i,Xr(),e,s.transform,n,s):s.transform.apply(s,n)}function nl(t,e){return t[Z].data[e].pure}function GW(t,e){return Ju(t,e)}var cr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},JD=new cr("18.2.10");var rl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var XD=new B("");function hs(t){return!!t&&typeof t.then=="function"}function Up(t){return!!t&&typeof t.subscribe=="function"}var il=new B(""),eT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(il,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(hs(s))n.push(s);else if(Up(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sl=new B("");function pO(){Z_(()=>{throw new j(600,!1)})}function gO(t){return t.isBoundToModule}var mO=10;function yO(t,e,n){try{let r=n();return hs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ri=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(RN),this.afterRenderManager=P(VD),this.zonelessEnabled=P(Xu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ne,this.afterTick=new Ne,this.componentTypes=[],this.components=[],this.isStable=P(ni).hasPendingTasks.pipe(se(n=>!n)),this._injector=P(wt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Eu;if(!this._injector.get(eT).done){let _=!i&&Fw(n),w=!1;throw new j(405,w)}let o;i?o=n:o=this._injector.get(is).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=gO(o)?void 0:this._injector.get(Rn),u=r||o.selector,l=o.create(Ye.NULL,[],u,c),f=l.location.nativeElement,g=l.injector.get(XD,null);return g?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),tu(this.components,l),g?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let n=ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ce(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ss,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<mO;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)vO(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Uu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;tu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(sl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vO(t,e,n,r){if(!n&&!Uu(t))return;ID(t,e,n&&!r?0:1)}var Lf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ol=(()=>{class t{compileModuleSync(n){return new Rf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Vw(n),s=GE(i.declarations).reduce((o,c)=>{let u=bn(c);return u&&o.push(new Qr(u)),o},[]);return new Lf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _O=(()=>{class t{constructor(){this.zone=P(fe),this.changeDetectionScheduler=P(rs),this.applicationRef=P(ri)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IO=new B("",{factory:()=>!1});function tT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new fe(me(k({},nT()),{scheduleInRootZone:n})),[{provide:fe,useFactory:t},{provide:Ji,multi:!0,useFactory:()=>{let r=P(_O,{optional:!0});return()=>r.initialize()}},{provide:Ji,multi:!0,useFactory:()=>{let r=P(wO);return()=>{r.initialize()}}},e===!0?{provide:TD,useValue:!0}:[],{provide:bD,useValue:n??SE}]}function WW(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=tT({ngZoneFactory:()=>{let i=nT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&dr("NgZone_CoalesceEvent"),new fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return tn([{provide:IO,useValue:!0},{provide:Xu,useValue:!1},r])}function nT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var wO=(()=>{class t{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=P(fe),this.pendingTasks=P(ni)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var EO=(()=>{class t{constructor(){this.appRef=P(ri),this.taskService=P(ni),this.ngZone=P(fe),this.zonelessEnabled=P(Xu),this.disableScheduling=P(TD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ce,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(bD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?GI:AE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function DO(){return typeof $localize<"u"&&$localize.locale||Nu}var jp=new B("",{providedIn:"root",factory:()=>P(jp,ne.Optional|ne.SkipSelf)||DO()});var Ff=new B("");function Qc(t){return!t.moduleRef}function TO(t){let e=Qc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(fe);return n.run(()=>{Qc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(en,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Qc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Ff);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Ff);o.add(s),t.moduleRef.onDestroy(()=>{tu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return yO(r,n,()=>{let s=e.get(eT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(jp,Nu);if(KP(o||Nu),Qc(t)){let c=e.get(ri);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return bO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function bO(t,e){let n=t.injector.get(ri);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var nu=null;function CO(t=[],e){return Ye.create({name:e,providers:[{provide:Ou,useValue:"platform"},{provide:Ff,useValue:new Set([()=>nu=null])},...t]})}function SO(t=[]){if(nu)return nu;let e=CO(t);return nu=e,pO(),AO(e),e}function AO(t){t.get(pp,null)?.forEach(n=>n())}var hr=(()=>{class t{static{this.__NG_ELEMENT_ID__=RO}}return t})();function RO(t){return NO(Ze(),Y(),(t&16)===16)}function NO(t,e,n){if(Fu(t)&&!n){let r=lr(t.index,e);return new Wr(r,r)}else if(t.type&175){let r=e[xt];return new Wr(r,e)}return null}var Vf=class{constructor(){}supports(e){return OD(e)}create(e){return new Uf(e)}},MO=(t,e)=>e,Uf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||MO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<mw(r,i,s)?n:r,c=mw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let _=0;_<l;_++){let w=_<s.length?s[_]:s[_]=0,S=w+_;f<=S&&S<l&&(s[_]=w+1)}let g=o.previousIndex;s[g]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!OD(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,lP(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new jf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Bf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Mu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Bf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function yw(){return new Bp([new Vf])}var Bp=(()=>{class t{static{this.\u0275prov=U({token:t,providedIn:"root",factory:yw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||yw()),deps:[[t,new Kf,new rt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function rT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=SO(r),s=[tT({}),{provide:rs,useExisting:EO},...n||[]],o=new Su({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return TO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ho(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function KW(t,e){dr("NgSignals");let n=K_(t);return e?.equal&&(n[qt].equal=e.equal),n}function $p(t){let e=ce(null);try{return t()}finally{ce(e)}}var xO=new B("",{providedIn:"root",factory:()=>P(PO)}),PO=(()=>{class t{static{this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new $f})}}return t})(),$f=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=P(ni),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Hf=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=tI(c=>this.runEffect(c),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(en,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function OO(t,e){dr("NgSignals"),!e?.injector&&Gw(OO);let n=e?.injector??P(Ye),r=e?.manualCleanup!==!0?n.get(qu):null,i=new Hf(n.get(xO),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(hr,null,{optional:!0});return!s||!(s._lView[G]&8)?i.watcher.notify():(s._lView[Zc]??=[]).push(i.watcher.notify),i}function QW(t,e){let n=bn(t),r=e.elementInjector||ku();return new Qr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function iT(t){let e=bn(t);if(!e)return null;let n=new Qr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lT=null;function ii(){return lT}function dT(t){lT??=t}var cl=class{};var dt=new B(""),Qp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>P(kO),providedIn:"platform"})}}return t})(),hT=new B(""),kO=(()=>{class t extends Qp{constructor(){super(),this._doc=P(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(n){let r=ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Yp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function On(t){return t&&t[0]!=="?"?"?"+t:t}var kn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>P(Zp),providedIn:"root"})}}return t})(),fT=new B(""),Zp=(()=>{class t extends kn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+On(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+On(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+On(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Qp),Q(fT,8))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pT=(()=>{class t extends kn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Yp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+On(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+On(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Qp),Q(fT,8))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),fs=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=VO(sT(oT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+On(r))}normalize(n){return t.stripTrailingSlash(FO(this._basePath,oT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+On(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+On(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=On}static{this.joinWithSlash=Yp}static{this.stripTrailingSlash=sT}static{this.\u0275fac=function(r){return new(r||t)(Q(kn))}}static{this.\u0275prov=U({token:t,factory:()=>LO(),providedIn:"root"})}}return t})();function LO(){return new fs(Q(kn))}function FO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oT(t){return t.replace(/\/index.html$/,"")}function VO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function gT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var _3=(()=>{class t{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=PD(this.ngComponentOutletNgModule,aT(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(aT(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,i]of this._inputsUsed)i?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}static{this.\u0275fac=function(r){return new(r||t)(Te(Pn))}}static{this.\u0275dir=ur({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Zr]})}}return t})();function aT(t){return t.get(Rn).injector}var Hp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},I3=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),cT(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);cT(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Te(Pn),Te(Kr),Te(Bp))}}static{this.\u0275dir=ur({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function cT(t,e){t.context.$implicit=e.item}var w3=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new qp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Te(Pn),Te(Kr))}}static{this.\u0275dir=ur({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),qp=class{constructor(){this.$implicit=null,this.ngIf=null}};function uT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${lt(e)}'.`)}function UO(t,e){return new j(2100,!1)}var zp=class{createSubscription(e,n){return $p(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){$p(()=>e.unsubscribe())}},Gp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},jO=new Gp,BO=new zp,E3=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(hs(n))return jO;if(Up(n))return BO;throw UO(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(Te(hr,16))}}static{this.\u0275pipe=kw({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var $O=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fo({type:t})}static{this.\u0275inj=ko({})}}return t})(),Jp="browser",HO="server";function qO(t){return t===Jp}function Xp(t){return t===HO}var mT=(()=>{class t{static{this.\u0275prov=U({token:t,providedIn:"root",factory:()=>qO(P(sn))?new Wp(P(dt),window):new Kp})}}return t})(),Wp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=zO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function zO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Kp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ul=class{};var ng=class extends cl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rg=class t extends ng{static makeCurrent(){dT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=WO();return n==null?null:KO(n)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gT(document.cookie,e)}},qo=null;function WO(){return qo=qo||document.querySelector("base"),qo?qo.getAttribute("href"):null}function KO(t){return new URL(t,document.baseURI).pathname}var QO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),ig=new B(""),IT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Q(ig),Q(fe))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),ll=class{constructor(e){this._doc=e}},eg="ng-app-id",wT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${eg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(eg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(eg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Q(dt),Q(fp),Q(gp,8),Q(sn))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},og=/%COMP%/g,ET="%COMP%",YO=`_nghost-${ET}`,ZO=`_ngcontent-${ET}`,JO=!0,XO=new B("",{providedIn:"root",factory:()=>JO});function ek(t){return ZO.replace(og,t)}function tk(t){return YO.replace(og,t)}function DT(t,e){return e.map(n=>n.replace(og,t))}var yT=(()=>{class t{constructor(n,r,i,s,o,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Xp(c),this.defaultRenderer=new zo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zt.ShadowDom&&(r=me(k({},r),{encapsulation:Zt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof dl?i.applyToHost(n):i instanceof Go&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Zt.Emulated:s=new dl(u,l,r,this.appId,f,o,c,g);break;case Zt.ShadowDom:return new sg(u,l,n,r,o,c,this.nonce,g);default:s=new Go(u,l,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Q(IT),Q(wT),Q(fp),Q(XO),Q(dt),Q(sn),Q(fe),Q(gp))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),zo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=tg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ii().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sg=class extends zo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DT(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends zo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?DT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dl=class extends Go{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=ek(l),this.hostAttr=tk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},nk=(()=>{class t extends ll{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Q(dt))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),_T=["alt","control","meta","shift"],rk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ik={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sk=(()=>{class t extends ll{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),_T.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=rk[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_T.forEach(o=>{if(o!==i){let c=ik[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Q(dt))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})();function G3(t,e){return rT(k({rootComponent:t},ok(e)))}function ok(t){return{appProviders:[...dk,...t?.providers??[]],platformProviders:lk}}function ak(){rg.makeCurrent()}function ck(){return new en}function uk(){return kE(document),document}var lk=[{provide:sn,useValue:Jp},{provide:pp,useValue:ak,multi:!0},{provide:dt,useFactory:uk,deps:[]}];var dk=[{provide:Ou,useValue:"root"},{provide:en,useFactory:ck,deps:[]},{provide:ig,useClass:nk,multi:!0,deps:[dt,fe,sn]},{provide:ig,useClass:sk,multi:!0,deps:[dt]},yT,wT,IT,{provide:ss,useExisting:yT},{provide:ul,useClass:QO,deps:[]},[]];var W3=(()=>{class t{constructor(n){this._doc=n,this._dom=ii()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((i,s)=>(s&&i.push(this._getOrCreateElement(s,r)),i),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let i=this.getTag(r);return i?this._setMetaElementAttributes(n,i):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let o=this._parseSelector(n),c=this.getTags(o).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(n,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(i=>r.setAttribute(this._getMetaKeyMap(i),n[i])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(i=>r.getAttribute(this._getMetaKeyMap(i))===n[i])}_getMetaKeyMap(n){return hk[n]||n}static{this.\u0275fac=function(r){return new(r||t)(Q(dt))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hk={httpEquiv:"http-equiv"},TT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Q(dt))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J="primary",aa=Symbol("RouteTitle"),dg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new dg(t)}function pk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?hg(t):void 0,r=e?hg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!LT(t[i],e[i]))return!1;return!0}function hg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function FT(t){return t.length>0?t[t.length-1]:null}function gr(t){return Ch(t)?t:hs(t)?we(Promise.resolve(t)):q(t)}var mk={exact:UT,subset:jT},VT={exact:yk,subset:vk,ignored:()=>!0};function bT(t,e,n){return mk[n.paths](t.root,e.root,n.matrixParams)&&VT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function yk(t,e){return on(t,e)}function UT(t,e,n){if(!oi(t.segments,e.segments)||!pl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!UT(t.children[r],e.children[r],n))return!1;return!0}function vk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LT(t[n],e[n]))}function jT(t,e,n){return BT(t,e,e.segments,n)}function BT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!oi(i,n)||e.hasChildren()||!pl(i,n,r))}else if(t.segments.length===n.length){if(!oi(t.segments,n)||!pl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!oi(t.segments,i)||!pl(t.segments,i,r)||!t.children[J]?!1:BT(t.children[J],e,s,r)}}function pl(t,e,n){return e.every((r,i)=>VT[n](t[i].parameters,r.parameters))}var Fn=class{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return wk.serialize(this)}},pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gl(this)}},si=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return HT(this)}};function _k(t,e){return oi(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function oi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ik(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var ca=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>new Is,providedIn:"root"})}}return t})(),Is=class{parse(e){let n=new pg(e);return new Fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Wo(e.root,!0)}`,r=Tk(e.queryParams),i=typeof e.fragment=="string"?`#${Ek(e.fragment)}`:"";return`${n}${r}${i}`}},wk=new Is;function gl(t){return t.segments.map(e=>HT(e)).join("/")}function Wo(t,e){if(!t.hasChildren())return gl(t);if(e){let n=t.children[J]?Wo(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${Wo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ik(t,(r,i)=>i===J?[Wo(t.children[J],!1)]:[`${i}:${Wo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${gl(t)}/${n[0]}`:`${gl(t)}/(${n.join("//")})`}}function $T(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hl(t){return $T(t).replace(/%3B/gi,";")}function Ek(t){return encodeURI(t)}function fg(t){return $T(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ml(t){return decodeURIComponent(t)}function CT(t){return ml(t.replace(/\+/g,"%20"))}function HT(t){return`${fg(t.path)}${Dk(t.parameters)}`}function Dk(t){return Object.entries(t).map(([e,n])=>`;${fg(e)}=${fg(n)}`).join("")}function Tk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${hl(n)}=${hl(i)}`).join("&"):`${hl(n)}=${hl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var bk=/^[^\/()?;#]+/;function ag(t){let e=t.match(bk);return e?e[0]:""}var Ck=/^[^\/()?;=#]+/;function Sk(t){let e=t.match(Ck);return e?e[0]:""}var Ak=/^[^=?&#]+/;function Rk(t){let e=t.match(Ak);return e?e[0]:""}var Nk=/^[^&#]+/;function Mk(t){let e=t.match(Nk);return e?e[0]:""}var pg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new pe(e,n)),r}parseSegment(){let e=ag(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new si(ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Sk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ag(this.remaining);i&&(r=i,this.capture(r))}e[ml(n)]=ml(r)}parseQueryParam(e){let n=Rk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Mk(this.remaining);o&&(r=o,this.capture(r))}let i=CT(n),s=CT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ag(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[J]:new pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function qT(t){return t.segments.length>0?new pe([],{[J]:t}):t}function zT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=zT(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new pe(t.segments,e);return xk(n)}function xk(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new pe(t.segments.concat(e.segments),e.children)}return t}function ai(t){return t instanceof Fn}function Pk(t,e,n=null,r=null){let i=GT(t);return WT(i,e,n,r)}function GT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new pe(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=qT(r);return e??i}function WT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return cg(i,i,i,n,r);let s=Ok(e);if(s.toRoot())return cg(i,i,new pe([],{}),n,r);let o=kk(s,i,t),c=o.processChildren?Yo(o.segmentGroup,o.index,s.commands):QT(o.segmentGroup,o.index,s.commands);return cg(i,o.segmentGroup,c,n,r)}function yl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xo(t){return typeof t=="object"&&t!=null&&t.outlets}function cg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=KT(t,e,n);let c=qT(zT(o));return new Fn(c,s,i)}function KT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=KT(s,e,n)}),new pe(t.segments,r)}var vl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&yl(r[0]))throw new j(4003,!1);let i=r.find(Xo);if(i&&i!==FT(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ok(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new vl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new vl(n,e,r)}var ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function kk(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=yl(t.commands[0])?0:1,i=n.segments.length-1+r;return Lk(n,i,t.numberOfDoubleDots)}function Lk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ms(r,!1,i-s)}function Fk(t){return Xo(t[0])?t[0].outlets:{[J]:t}}function QT(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Yo(t,e,n);let r=Vk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new pe(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new pe(t.segments.slice(r.pathIndex),t.children),Yo(s,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?gg(t,e,n):r.match?Yo(t,0,i):gg(t,e,n)}function Yo(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=Fk(n),i={};if(Object.keys(r).some(s=>s!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let s=Yo(t.children[J],e,n);return new pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=QT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new pe(t.segments,i)}}function Vk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Xo(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!AT(u,l,o))return s;r+=2}else{if(!AT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Xo(s)){let u=Uk(s.outlets);return new pe(r,u)}if(i===0&&yl(n[0])){let u=t.segments[e];r.push(new si(u.path,ST(n[0]))),i++;continue}let o=Xo(s)?s.outlets[J]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&yl(c)?(r.push(new si(o,ST(c))),i+=2):(r.push(new si(o,{})),i++)}return new pe(r,{})}function Uk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=gg(new pe([],{}),0,r))}),e}function ST(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function AT(t,e,n){return t==n.path&&on(e,n.parameters)}var Zo="imperative",Ue=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ue||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},ws=class extends Ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ue.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends Ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ue.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),_l=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_l||{}),Ln=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ue.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fr=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ue.NavigationSkipped}},ea=class extends Ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ue.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Il=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class extends Ot{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ue.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vg=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class{constructor(e){this.route=e,this.type=Ue.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wg=class{constructor(e){this.route=e,this.type=Ue.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Eg=class{constructor(e){this.snapshot=e,this.type=Ue.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dg=class{constructor(e){this.snapshot=e,this.type=Ue.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tg=class{constructor(e){this.snapshot=e,this.type=Ue.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bg=class{constructor(e){this.snapshot=e,this.type=Ue.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ue.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ta=class{},Es=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function jk(t,e){return t.providers&&!t._injector&&(t._injector=el(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bt(t){return t.outlet||J}function Bk(t,e){let n=t.filter(r=>Bt(r)===e);return n.push(...t.filter(r=>Bt(r)!==e)),n}function ua(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cg=class{get injector(){return ua(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new la(this.rootInjector),this.attachRef=null}},la=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Q(wt))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),El=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ag(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ag(e,this._root).map(n=>n.value)}};function Sg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sg(t,n);if(r)return r}return null}function Ag(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ag(t,n);if(r.length)return r.unshift(e),r}return[]}var Dt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Dl=class extends El{constructor(e,n){super(e),this.snapshot=n,Fg(this,e)}toString(){return this.snapshot.toString()}};function YT(t){let e=$k(t),n=new Ge([new si("",{})]),r=new Ge({}),i=new Ge({}),s=new Ge({}),o=new Ge(""),c=new pr(n,r,s,o,i,J,t,e.root);return c.snapshot=e.root,new Dl(new Dt(c,[]),e)}function $k(t){let e={},n={},r={},i="",s=new ys([],e,r,i,n,J,t,null,{});return new bl("",new Dt(s,[]))}var pr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[aa]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&JT(i)&&(r.resolve[aa]=i.title),r}var ys=class{get title(){return this.data?.[aa]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},bl=class extends El{constructor(e,n){super(n),this.url=e,Fg(this,n)}toString(){return ZT(this._root)}};function Fg(t,e){e.value._routerState=t,e.children.forEach(n=>Fg(t,n))}function ZT(t){let e=t.children.length>0?` { ${t.children.map(ZT).join(", ")} } `:"";return`${t.value}${e}`}function ug(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),gk(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rg(t,e){let n=on(t.params,e.params)&&_k(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rg(t.parent,e.parent))}function JT(t){return typeof t.title=="string"||t.title===null}var Hk=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=P(la),this.location=P(Pn),this.changeDetector=P(hr),this.inputBinder=P(Rl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ng(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ur({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zr]})}}return t})(),Ng=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===pr?this.route:e===la?this.childContexts:this.parent.get(e,n)}},Rl=new B(""),RT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Eo([r.queryParams,r.params,r.data]).pipe(It(([s,o,c],u)=>(c=k(k(k({},s),o),c),u===0?q(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=iT(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of o.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})();function qk(t,e,n){let r=na(t,e._root,n?n._root:void 0);return new Dl(r,e)}function na(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=zk(t,e,n);return new Dt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>na(t,c)),o}}let r=Gk(e.value),i=e.children.map(s=>na(t,s));return new Dt(r,i)}}function zk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return na(t,r,i);return na(t,r)})}function Gk(t){return new pr(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var ra=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},XT="ngNavigationCancelingError";function Cl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eb(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function eb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[XT]=!0,n.cancellationCode=e,n}function Wk(t){return tb(t)&&ai(t.url)}function tb(t){return!!t&&t[XT]}var Kk=(t,e,n,r)=>se(i=>(new Mg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Mg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ug(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Dg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ug(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),ug(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function Qk(t,e,n){let r=t._root,i=e?e._root:null;return Ko(r,i,n,[r.value])}function Yk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ts(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ww(t)?t:e.get(t):r}function Ko(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{Zk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Jo(c,n.getContext(o),i)),i}function Zk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Jk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ko(t,e,c?c.children:null,r,i):Ko(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new vs(c.outlet.component,o))}else o&&Jo(e,c,i),i.canActivateChecks.push(new Sl(r)),s.component?Ko(t,null,c?c.children:null,r,i):Ko(t,null,n,r,i);return i}function Jk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!oi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rg(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!Rg(t,e)}}function Jo(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Jo(o,e.children.getContext(s),n):Jo(o,null,n):Jo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function da(t){return typeof t=="function"}function Xk(t){return typeof t=="boolean"}function e1(t){return t&&da(t.canLoad)}function t1(t){return t&&da(t.canActivate)}function n1(t){return t&&da(t.canActivateChild)}function r1(t){return t&&da(t.canDeactivate)}function i1(t){return t&&da(t.canMatch)}function nb(t){return t instanceof wn||t?.name==="EmptyError"}var fl=Symbol("INITIAL_VALUE");function Ds(){return It(t=>Eo(t.map(e=>e.pipe(_t(1),Bc(fl)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===fl)return fl;if(n===!1||s1(n))return n}return!0}),ut(e=>e!==fl),_t(1)))}function s1(t){return ai(t)||t instanceof ra}function o1(t,e){return Ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?q(me(k({},n),{guardsResult:!0})):a1(o,r,i,t).pipe(Ee(c=>c&&Xk(c)?c1(r,s,t,e):q(c)),se(c=>me(k({},n),{guardsResult:c})))})}function a1(t,e,n,r){return we(t).pipe(Ee(i=>f1(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function c1(t,e,n,r){return we(e).pipe(Fr(i=>Wt(l1(i.route.parent,r),u1(i.route,r),h1(t,i.path,n),d1(t,i.route,n))),Kt(i=>i!==!0,!0))}function u1(t,e){return t!==null&&e&&e(new Tg(t)),q(!0)}function l1(t,e){return t!==null&&e&&e(new Eg(t)),q(!0)}function d1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>Uc(()=>{let o=ua(e)??n,c=Ts(s,o),u=t1(c)?c.canActivate(e,t):nn(o,()=>c(e,t));return gr(u).pipe(Kt())}));return q(i).pipe(Ds())}function h1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Yk(o)).filter(o=>o!==null).map(o=>Uc(()=>{let c=o.guards.map(u=>{let l=ua(o.node)??n,f=Ts(u,l),g=n1(f)?f.canActivateChild(r,t):nn(l,()=>f(r,t));return gr(g).pipe(Kt())});return q(c).pipe(Ds())}));return q(s).pipe(Ds())}function f1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(c=>{let u=ua(e)??i,l=Ts(c,u),f=r1(l)?l.canDeactivate(t,e,n,r):nn(u,()=>l(t,e,n,r));return gr(f).pipe(Kt())});return q(o).pipe(Ds())}function p1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(o=>{let c=Ts(o,t),u=e1(c)?c.canLoad(e,n):nn(t,()=>c(e,n));return gr(u)});return q(s).pipe(Ds(),rb(r))}function rb(t){return vh(Me(e=>{if(typeof e!="boolean")throw Cl(t,e)}),se(e=>e===!0))}function g1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(o=>{let c=Ts(o,t),u=i1(c)?c.canMatch(e,n):nn(t,()=>c(e,n));return gr(u)});return q(s).pipe(Ds(),rb(r))}var ia=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return $i(new ia(t))}function m1(t){return $i(new j(4e3,!1))}function y1(t){return $i(eb(!1,Tt.GuardRejected))}var xg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[J])return m1(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:w,data:S,title:N}=i,M=nn(s,()=>c({params:w,data:S,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:N}));if(M instanceof Fn)throw new sa(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new sa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Fn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v1(t,e,n,r,i){let s=ib(t,e,n);return s.matched?(r=jk(e,r),g1(r,e,n,i).pipe(se(o=>o===!0?s:k({},Pg)))):q(s)}function ib(t,e,n){if(e.path==="**")return _1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Pg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pk)(n,t,e);if(!i)return k({},Pg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _1(t){return{matched:!0,parameters:t.length>0?FT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function NT(t,e,n,r){return n.length>0&&E1(t,n,r)?{segmentGroup:new pe(e,w1(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&D1(t,n,r)?{segmentGroup:new pe(t.segments,I1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function I1(t,e,n,r){let i={};for(let s of n)if(Nl(t,e,s)&&!r[Bt(s)]){let o=new pe([],{});i[Bt(s)]=o}return k(k({},r),i)}function w1(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Bt(r)!==J){let i=new pe([],{});n[Bt(r)]=i}return n}function E1(t,e,n){return n.some(r=>Nl(t,e,r)&&Bt(r)!==J)}function D1(t,e,n){return n.some(r=>Nl(t,e,r))}function Nl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T1(t,e,n){return e.length===0&&!t.children[n]}var Og=class{};function b1(t,e,n,r,i,s,o="emptyOnly"){return new kg(t,e,n,r,i,o,s).recognize()}var C1=31,kg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new xg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=NT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Dt(r,n),s=new bl("",i),o=Pk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(se(r=>({children:r,rootSnapshot:n})),En(r=>{if(r instanceof sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ia?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(se(o=>o instanceof Dt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return we(s).pipe(Fr(o=>{let c=r.children[o],u=Bk(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Nh((o,c)=>(o.push(...c),o)),Dn(null),Rh(),Ee(o=>{if(o===null)return ps(r);let c=sb(o);return S1(c),q(c)}))}processSegment(e,n,r,i,s,o,c){return we(n).pipe(Fr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(En(l=>{if(l instanceof ia)return q(null);throw l}))),Kt(u=>!!u),En(u=>{if(nb(u))return T1(r,i,s)?q(new Og):ps(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Bt(r)!==o&&(o===J||!Nl(i,s,r))?ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=ib(n,i,s);if(!u)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>C1&&(this.allowRedirects=!1));let w=new ys(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,MT(i),Bt(i),i.component??i._loadedComponent??null,i,xT(i)),S=Tl(w,c,this.paramsInheritanceStrategy);w.params=Object.freeze(S.params),w.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,w,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ee(M=>this.processSegment(e,r,n,M.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=v1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(It(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:w}=u,S=new ys(_,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,MT(r),Bt(r),r.component??r._loadedComponent??null,r,xT(r)),N=Tl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:M,slicedSegments:L}=NT(n,_,w,l);if(L.length===0&&M.hasChildren())return this.processChildren(f,l,M,S).pipe(se(X=>new Dt(S,X)));if(l.length===0&&L.length===0)return q(new Dt(S,[]));let K=Bt(r)===s;return this.processSegment(f,l,M,L,K?J:s,!0,S).pipe(se(X=>new Dt(S,X instanceof Dt?[X]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):p1(e,n,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(e,n).pipe(Me(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):y1(n))):q({routes:[],injector:e})}};function S1(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function A1(t){let e=t.value.routeConfig;return e&&e.path===""}function sb(t){let e=[],n=new Set;for(let r of t){if(!A1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=sb(r.children);e.push(new Dt(r.value,i))}return e.filter(r=>!n.has(r))}function MT(t){return t.data||{}}function xT(t){return t.resolve||{}}function R1(t,e,n,r,i,s){return Ee(o=>b1(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:c,tree:u})=>me(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function N1(t,e){return Ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of ob(u))o.add(l);let c=0;return we(o).pipe(Fr(u=>s.has(u)?M1(u,r,t,e):(u.data=Tl(u,u.parent,t).resolve,q(void 0))),Me(()=>c++),zi(1),Ee(u=>c===o.size?q(n):We))})}function ob(t){let e=t.children.map(n=>ob(n)).flat();return[t,...e]}function M1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!JT(i)&&(s[aa]=i.title),x1(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=Tl(t,t.parent,n).resolve,null)))}function x1(t,e,n,r){let i=hg(t);if(i.length===0)return q({});let s={};return we(i).pipe(Ee(o=>P1(t[o],e,n,r).pipe(Kt(),Me(c=>{if(c instanceof ra)throw Cl(new Is,c);s[o]=c}))),zi(1),Do(s),En(o=>nb(o)?We:$i(o)))}function P1(t,e,n,r){let i=ua(e)??r,s=Ts(t,i),o=s.resolve?s.resolve(e,n):nn(i,()=>s(e,n));return gr(o)}function lg(t){return It(e=>{let n=t(e);return n?we(n).pipe(se(()=>e)):q(e)})}var ab=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[aa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>P(O1),providedIn:"root"})}}return t})(),O1=(()=>{class t extends ab{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Q(TT))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ha=new B("",{providedIn:"root",factory:()=>({})}),k1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ow({type:t,selectors:[["ng-component"]],standalone:!0,features:[YD],decls:1,vars:0,template:function(r,i){r&1&&Fp(0,"router-outlet")},dependencies:[Hk],encapsulation:2})}}return t})();function Vg(t){let e=t.children&&t.children.map(Vg),n=e?me(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=k1),n}var oa=new B(""),Ug=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(ol)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=gr(n.loadComponent()).pipe(se(cb),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),qi(()=>{this.componentLoaders.delete(n)})),i=new Li(r,()=>new Ne).pipe(ki());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=L1(r,this.compiler,n,this.onLoadEndListener).pipe(qi(()=>{this.childrenLoaders.delete(r)})),o=new Li(s,()=>new Ne).pipe(ki());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function L1(t,e,n,r){return gr(t.loadChildren()).pipe(se(cb),Ee(i=>i instanceof xo||Array.isArray(i)?q(i):we(e.compileModuleAsync(i))),se(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(oa,[],{optional:!0,self:!0}).flat()),{routes:o.map(Vg),injector:s}}))}function F1(t){return t&&typeof t=="object"&&"default"in t}function cb(t){return F1(t)?t.default:t}var jg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>P(V1),providedIn:"root"})}}return t})(),V1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ub=new B(""),lb=new B("");function U1(t,e,n){let r=t.get(lb),i=t.get(dt);return t.get(fe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),j1(t))),{onViewTransitionCreated:u}=r;return u&&nn(t,()=>u({transition:c,from:e,to:n})),o})}function j1(t){return new Promise(e=>{kp({read:()=>setTimeout(e)},{injector:t})})}var B1=new B(""),Bg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=P(Ug),this.environmentInjector=P(wt),this.urlSerializer=P(ca),this.rootContexts=P(la),this.location=P(fs),this.inputBindingEnabled=P(Rl,{optional:!0})!==null,this.titleStrategy=P(ab),this.options=P(ha,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(jg),this.createViewTransition=P(ub,{optional:!0}),this.navigationErrorHandler=P(B1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Ig(i)),r=i=>this.events.next(new wg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(me(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ge({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(s=>s.id!==0),se(s=>me(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),It(s=>{let o=!1,c=!1;return q(s).pipe(It(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Tt.SupersededByNewNavigation),We;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let g="";return this.events.next(new fr(u.id,this.urlSerializer.serialize(u.rawUrl),g,_l.IgnoredSameUrlNavigation)),u.resolve(!1),We}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(It(g=>{let _=this.transitions?.getValue();return this.events.next(new ws(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?We:Promise.resolve(g)}),R1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=me(k({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Il(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:w,restoredState:S,extras:N}=u,M=new ws(g,this.urlSerializer.serialize(_),w,S);this.events.next(M);let L=YT(this.rootComponentType).snapshot;return this.currentTransition=s=me(k({},u),{targetSnapshot:L,urlAfterRedirects:_,extras:me(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,q(s)}else{let g="";return this.events.next(new fr(u.id,this.urlSerializer.serialize(u.extractedUrl),g,_l.IgnoredByUrlHandlingStrategy)),u.resolve(!1),We}}),Me(u=>{let l=new mg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),se(u=>(this.currentTransition=s=me(k({},u),{guards:Qk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),o1(this.environmentInjector,u=>this.events.next(u)),Me(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Cl(this.urlSerializer,u.guardsResult);let l=new yg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Tt.GuardRejected),!1)),lg(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Me(l=>{let f=new vg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),It(l=>{let f=!1;return q(l).pipe(N1(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Tt.NoDataFromResolver)}}))}),Me(l=>{let f=new _g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),lg(u=>{let l=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Me(_=>{f.component=_}),se(()=>{})));for(let _ of f.children)g.push(...l(_));return g};return Eo(l(u.targetSnapshot.root)).pipe(Dn(null),_t(1))}),lg(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?we(f).pipe(se(()=>s)):q(s)}),se(u=>{let l=qk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=me(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Me(()=>{this.events.next(new ta)}),Kk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_t(1),Me({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),$c(this.transitionAbortSubject.pipe(Me(u=>{throw u}))),qi(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),En(u=>{if(c=!0,tb(u))this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Wk(u)?this.events.next(new Es(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new ea(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=nn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof ra){let{message:g,cancellationCode:_}=Cl(this.urlSerializer,f);this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Es(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let g=n.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return We}))}))}cancelNavigationTransition(n,r,i){let s=new Ln(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $1(t){return t!==Zo}var H1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>P(q1),providedIn:"root"})}}return t})(),Lg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},q1=(()=>{class t extends Lg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=up(t)))(i||t)}})()}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),db=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:()=>P(z1),providedIn:"root"})}}return t})(),z1=(()=>{class t extends db{constructor(){super(...arguments),this.location=P(fs),this.urlSerializer=P(ca),this.options=P(ha,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(jg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=YT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ws)this.stateMemento=this.createStateMemento();else if(n instanceof fr)this.rawUrlTree=r.initialUrl;else if(n instanceof Il){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ta?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Ln&&(n.code===Tt.GuardRejected||n.code===Tt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ea?this.restoreHistory(r,!0):n instanceof $t&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Fn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=up(t)))(i||t)}})()}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Qo||{});function hb(t,e){t.events.pipe(ut(n=>n instanceof $t||n instanceof Ln||n instanceof ea||n instanceof fr),se(n=>n instanceof $t||n instanceof fr?Qo.COMPLETE:(n instanceof Ln?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?Qo.REDIRECTING:Qo.FAILED),ut(n=>n!==Qo.REDIRECTING),_t(1)).subscribe(()=>{e()})}function G1(t){throw t}var W1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},an=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(rl),this.stateManager=P(db),this.options=P(ha,{optional:!0})||{},this.pendingTasks=P(ni),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Bg),this.urlSerializer=P(ca),this.location=P(fs),this.urlHandlingStrategy=P(jg),this._events=new Ne,this.errorHandler=this.options.errorHandler||G1,this.navigated=!1,this.routeReuseStrategy=P(H1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(oa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Rl,{optional:!0}),this.eventsSubscription=new Ce,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ln&&r.code!==Tt.Redirect&&r.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $t)this.navigated=!0;else if(r instanceof Es){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||$1(i.source)},o);this.scheduleNavigation(c,Zo,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Y1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=GT(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return WT(g,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ai(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Zo,null,r)}navigate(n,r={skipLocationChange:!1}){return Q1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},W1):r===!1?i=k({},K1):i=r,ai(n))return bT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return bT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return hb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Q1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function Y1(t){return!(t instanceof ta)&&!(t instanceof Es)}var PT=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Ne,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ai(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:zE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ai(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Te(an),Te(pr),lp("tabindex"),Te($o),Te(Mn),Te(kn))}}static{this.\u0275dir=ur({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Vp("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Lp("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ho],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ho],replaceUrl:[2,"replaceUrl","replaceUrl",Ho],routerLink:"routerLink"},standalone:!0,features:[Op,Zr]})}}return t})(),d6=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Qe,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof $t&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Gt()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=we(n).pipe(Gt()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Z1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(Te(an),Te(Mn),Te($o),Te(hr),Te(PT,8))}}static{this.\u0275dir=ur({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&GD(s,PT,5),r&2){let o;WD(o=KD())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Zr]})}}return t})();function Z1(t){return!!t.paths}var Al=class{};var J1=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ut(n=>n instanceof $t),Fr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=el(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return we(i).pipe(Gt())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=q(null);let s=i.pipe(Ee(o=>o===null?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return we([s,o]).pipe(Gt())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(Q(an),Q(ol),Q(wt),Q(Al),Q(Ug))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fb=new B(""),X1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $t?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof fr&&n.code===_l.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){sD()}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})();function h6(t,...e){return tn([{provide:oa,multi:!0,useValue:t},[],{provide:pr,useFactory:pb,deps:[an]},{provide:sl,multi:!0,useFactory:gb},e.map(n=>n.\u0275providers)])}function pb(t){return t.routerState.root}function fa(t,e){return{\u0275kind:t,\u0275providers:e}}function gb(){let t=P(Ye);return e=>{let n=t.get(ri);if(e!==n.components[0])return;let r=t.get(an),i=t.get(mb);t.get($g)===1&&r.initialNavigation(),t.get(yb,null,ne.Optional)?.setUpPreloading(),t.get(fb,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mb=new B("",{factory:()=>new Ne}),$g=new B("",{providedIn:"root",factory:()=>1});function eL(){return fa(2,[{provide:$g,useValue:0},{provide:il,multi:!0,deps:[Ye],useFactory:e=>{let n=e.get(hT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(an),s=e.get(mb);hb(i,()=>{r(!0)}),e.get(Bg).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}])}function tL(){return fa(3,[{provide:il,multi:!0,useFactory:()=>{let e=P(an);return()=>{e.setUpLocationChangeListener()}}},{provide:$g,useValue:2}])}var yb=new B("");function nL(t){return fa(0,[{provide:yb,useExisting:J1},{provide:Al,useExisting:t}])}function rL(){return fa(8,[RT,{provide:Rl,useExisting:RT}])}function iL(t){let e=[{provide:ub,useValue:U1},{provide:lb,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return fa(9,e)}var OT=new B("ROUTER_FORROOT_GUARD"),sL=[fs,{provide:ca,useClass:Is},an,la,{provide:pr,useFactory:pb,deps:[an]},Ug,[]],f6=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[sL,[],{provide:oa,multi:!0,useValue:n},{provide:OT,useFactory:uL,deps:[[an,new rt,new Kf]]},{provide:ha,useValue:r||{}},r?.useHash?aL():cL(),oL(),r?.preloadingStrategy?nL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?lL(r):[],r?.bindToComponentInputs?rL().\u0275providers:[],r?.enableViewTransitions?iL().\u0275providers:[],dL()]}}static forChild(n){return{ngModule:t,providers:[{provide:oa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(Q(OT,8))}}static{this.\u0275mod=Fo({type:t})}static{this.\u0275inj=ko({})}}return t})();function oL(){return{provide:fb,useFactory:()=>{let t=P(mT),e=P(fe),n=P(ha),r=P(Bg),i=P(ca);return n.scrollOffset&&t.setOffset(n.scrollOffset),new X1(i,r,t,e,n)}}}function aL(){return{provide:kn,useClass:pT}}function cL(){return{provide:kn,useClass:Zp}}function uL(t){return"guarded"}function lL(t){return[t.initialNavigation==="disabled"?tL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?eL().\u0275providers:[]]}var kT=new B("");function dL(){return[{provide:kT,useFactory:gb},{provide:sl,multi:!0,useExisting:kT}]}var _b=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|l>>6,w=l&63;u||(w=64,o||(_=64)),r.push(n[f],n[g],n[_],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new qg;let _=s<<2|c>>4;if(r.push(_),l!==64){let w=c<<4&240|l>>2;if(r.push(w),g!==64){let S=l<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fL=function(t){let e=_b(t);return Ib.encodeByteArray(e,!0)},pa=function(t){return fL(t).replace(/\./g,"")},Gg=function(t){try{return Ib.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gL=()=>pL().__FIREBASE_DEFAULTS__,mL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Gg(t[1]);return e&&JSON.parse(e)},xl=()=>{try{return gL()||mL()||yL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wg=t=>{var e,n;return(n=(e=xl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wb=t=>{let e=Wg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kg=()=>{var t;return(t=xl())===null||t===void 0?void 0:t.config},Qg=t=>{var e;return(e=xl())===null||e===void 0?void 0:e[`_${t}`]};var Ml=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Eb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pa(JSON.stringify(n)),pa(JSON.stringify(o)),""].join(".")}function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function vL(){var t;let e=(t=xl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sb(){let t=je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ab(){return!vL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yg(){try{return typeof indexedDB=="object"}catch{return!1}}function Rb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var _L="FirebaseError",bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_L,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IL(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new bt(i,c,r)}};function IL(t,e){return t.replace(wL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var wL=/\{\$([^}]+)}/g;function Nb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(vb(s)&&vb(o)){if(!ci(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function vb(t){return t!==null&&typeof t=="object"}function ga(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Mb(t,e){let n=new zg(t,e);return n.subscribe.bind(n)}var zg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hg),i.error===void 0&&(i.error=Hg),i.complete===void 0&&(i.complete=Hg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hg(){}var m6=4*60*60*1e3;function Ct(t){return t&&t._delegate?t._delegate:t}var kt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ui="[DEFAULT]";var Zg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ml;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TL(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DL(t){return t===ui?void 0:t}function TL(t){return t.instantiationMode==="EAGER"}var Pl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bL=[],oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{}),CL={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},SL=oe.INFO,AL={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},RL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=SL,this._logHandler=RL,this._userLogHandler=null,bL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var NL=(t,e)=>e.some(n=>t instanceof n),xb,Pb;function ML(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xL(){return Pb||(Pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ob=new WeakMap,Xg=new WeakMap,kb=new WeakMap,Jg=new WeakMap,tm=new WeakMap;function PL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ob.set(n,t)}).catch(()=>{}),tm.set(e,t),e}function OL(t){if(Xg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}var em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lb(t){em=t(em)}function kL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ol(this),e,...n);return kb.set(r,e.sort?e.sort():[e]),cn(r)}:xL().includes(t)?function(...e){return t.apply(Ol(this),e),cn(Ob.get(this))}:function(...e){return cn(t.apply(Ol(this),e))}}function LL(t){return typeof t=="function"?kL(t):(t instanceof IDBTransaction&&OL(t),NL(t,ML())?new Proxy(t,em):t)}function cn(t){if(t instanceof IDBRequest)return PL(t);if(Jg.has(t))return Jg.get(t);let e=LL(t);return e!==t&&(Jg.set(t,e),tm.set(e,t)),e}var Ol=t=>tm.get(t);function Vb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=cn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cn(o.result),u.oldVersion,u.newVersion,cn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var FL=["get","getKey","getAll","getAllKeys","count"],VL=["put","add","delete","clear"],nm=new Map;function Fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FL.includes(n)))return;let s=function(o,...c){return I(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return nm.set(e,s),s}Lb(t=>me(k({},t),{get:(e,n,r)=>Fb(e,n)||t.get(e,n,r),has:(e,n)=>!!Fb(e,n)||t.has(e,n)}));var im=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UL(t){let e=t.getComponent();return e?.type==="VERSION"}var sm="@firebase/app",Ub="0.10.13";var Un=new mr("@firebase/app"),jL="@firebase/app-compat",BL="@firebase/analytics-compat",$L="@firebase/analytics",HL="@firebase/app-check-compat",qL="@firebase/app-check",zL="@firebase/auth",GL="@firebase/auth-compat",WL="@firebase/database",KL="@firebase/data-connect",QL="@firebase/database-compat",YL="@firebase/functions",ZL="@firebase/functions-compat",JL="@firebase/installations",XL="@firebase/installations-compat",eF="@firebase/messaging",tF="@firebase/messaging-compat",nF="@firebase/performance",rF="@firebase/performance-compat",iF="@firebase/remote-config",sF="@firebase/remote-config-compat",oF="@firebase/storage",aF="@firebase/storage-compat",cF="@firebase/firestore",uF="@firebase/vertexai-preview",lF="@firebase/firestore-compat",dF="firebase",hF="10.14.1";var om="[DEFAULT]",fF={[sm]:"fire-core",[jL]:"fire-core-compat",[$L]:"fire-analytics",[BL]:"fire-analytics-compat",[qL]:"fire-app-check",[HL]:"fire-app-check-compat",[zL]:"fire-auth",[GL]:"fire-auth-compat",[WL]:"fire-rtdb",[KL]:"fire-data-connect",[QL]:"fire-rtdb-compat",[YL]:"fire-fn",[ZL]:"fire-fn-compat",[JL]:"fire-iid",[XL]:"fire-iid-compat",[eF]:"fire-fcm",[tF]:"fire-fcm-compat",[nF]:"fire-perf",[rF]:"fire-perf-compat",[iF]:"fire-rc",[sF]:"fire-rc-compat",[oF]:"fire-gcs",[aF]:"fire-gcs-compat",[cF]:"fire-fst",[lF]:"fire-fst-compat",[uF]:"fire-vertex","fire-js":"fire-js",[dF]:"fire-js-all"};var ma=new Map,pF=new Map,am=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){let e=t.name;if(am.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(let n of ma.values())jb(n,t);for(let n of pF.values())jb(n,t);return!0}function va(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ht(t){return t.settings!==void 0}var gF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Vn("app","Firebase",gF);var cm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var _r=hF;function dm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:om,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=Kg()),!n)throw yr.create("no-options");let s=ma.get(i);if(s){if(ci(n,s.options)&&ci(r,s.config))return s;throw yr.create("duplicate-app",{appName:i})}let o=new Pl(i);for(let u of am.values())o.addComponent(u);let c=new cm(n,r,o);return ma.set(i,c),c}function Ss(t=om){let e=ma.get(t);if(!e&&t===om&&Kg())return dm();if(!e)throw yr.create("no-app",{appName:t});return e}function kl(){return Array.from(ma.values())}function Fe(t,e,n){var r;let i=(r=fF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(c.join(" "));return}vr(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mF="firebase-heartbeat-database",yF=1,ya="firebase-heartbeat-store",rm=null;function qb(){return rm||(rm=Vb(mF,yF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),rm}function vF(t){return I(this,null,function*(){try{let n=(yield qb()).transaction(ya),r=yield n.objectStore(ya).get(zb(t));return yield n.done,r}catch(e){if(e instanceof bt)Un.warn(e.message);else{let n=yr.create("idb-get",{originalErrorMessage:e?.message});Un.warn(n.message)}}})}function Bb(t,e){return I(this,null,function*(){try{let r=(yield qb()).transaction(ya,"readwrite");yield r.objectStore(ya).put(e,zb(t)),yield r.done}catch(n){if(n instanceof bt)Un.warn(n.message);else{let r=yr.create("idb-set",{originalErrorMessage:n?.message});Un.warn(r.message)}}})}function zb(t){return`${t.name}!${t.options.appId}`}var _F=1024,IF=30*24*60*60*1e3,um=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new lm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$b();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=IF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Un.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=$b(),{heartbeatsToSend:r,unsentEntries:i}=wF(this._heartbeatsCache.heartbeats),s=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Un.warn(n),""}})}};function $b(){return new Date().toISOString().substring(0,10)}function wF(t,e=_F){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var lm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Yg()?Rb().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Bb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Bb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Hb(t){return pa(JSON.stringify({version:2,heartbeats:t})).length}function EF(t){vr(new kt("platform-logger",e=>new im(e),"PRIVATE")),vr(new kt("heartbeat",e=>new um(e),"PRIVATE")),Fe(sm,Ub,t),Fe(sm,Ub,"esm2017"),Fe("fire-js","")}EF("");var DF="firebase",TF="10.14.1";Fe(DF,TF,"app");var di=new cr("ANGULARFIRE2_VERSION");function Fl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var _a=(t,e)=>{let n=e?[e]:kl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Rs=class{constructor(){return _a(bF)}},bF="app-check";function As(){}var Ll=class{zone;delegate;constructor(e,n=Dh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},hm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",As,{},As,As)),n.pipe(Me({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ns=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ll(Zone.current)),this.insideAngular=n.run(()=>new Ll(Zone.current,er)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(fe))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function CF(t){return Vl().ngZone.runOutsideAngular(()=>t())}function li(t){return Vl().ngZone.run(()=>t())}function SF(t){return AF(Vl())(t)}function AF(t){return function(n){return n=n.lift(new hm(t.ngZone)),n.pipe(nr(t.outsideAngular),tr(t.insideAngular))}}var RF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),li(()=>t.apply(void 0,r))},un=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",As,{},As,As))),r[s]=RF(r[s],n));let i=CF(()=>t.apply(this,r));if(!e)if(i instanceof ee){let s=Vl();return i.pipe(nr(s.outsideAngular),tr(s.insideAngular))}else return li(()=>i);return i instanceof ee?i.pipe(SF):i instanceof Promise?li(()=>new Promise((s,o)=>i.then(c=>li(()=>s(c)),c=>li(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:li(()=>i)};var jn=class{constructor(e){return e}},hi=class{constructor(){return kl()}};function NF(t){return t&&t.length===1?t[0]:new jn(Ss())}var fm=new B("angularfire2._apps"),MF={provide:jn,useFactory:NF,deps:[[new rt,fm]]},xF={provide:hi,deps:[[new rt,fm]]};function PF(t){return(e,n)=>{let r=n.get(sn);Fe("angularfire",di.full,"core"),Fe("angularfire",di.full,"app"),Fe("angular",JD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function n8(t,...e){return tn([MF,xF,{provide:fm,useFactory:PF(t),multi:!0,deps:[fe,Ye,Ns,...e]}])}var r8=un(dm,!0);function cC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uC=cC,lC=new Vn("auth","Firebase",cC());var ql=new mr("@firebase/auth");function OF(t,...e){ql.logLevel<=oe.WARN&&ql.warn(`Auth (${_r}): ${t}`,...e)}function jl(t,...e){ql.logLevel<=oe.ERROR&&ql.error(`Auth (${_r}): ${t}`,...e)}function dn(t,...e){throw Lm(t,...e)}function fi(t,...e){return Lm(t,...e)}function dC(t,e,n){let r=Object.assign(Object.assign({},uC()),{[e]:n});return new Vn("auth","Firebase",r).create(e,{appName:t.name})}function Hn(t){return dC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lC.create(t,...e)}function W(t,e,...n){if(!t)throw Lm(e,...n)}function Bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw jl(e),new Error(e)}function wr(t,e){t||Bn(e)}function ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kF(){return Gb()==="http:"||Gb()==="https:"}function Gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function LF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kF()||bb()||"connection"in navigator)?navigator.onLine:!0}function FF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var pi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=Db()||Cb()}get(){return LF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fm(t,e){wr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UF=new pi(3e4,6e4);function Er(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dr(s,o,c,u){return I(this,arguments,function*(t,e,n,r,i={}){return hC(t,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=ga(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:_},l);return Tb()||(w.referrerPolicy="no-referrer"),zl.fetch()(fC(t,t.config.apiHost,n,g),w)}))})}function hC(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VF),e);try{let i=new vm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ul(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ul(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dC(t,f,l);dn(t,f)}}catch(i){if(i instanceof bt)throw i;dn(t,"network-request-failed",{message:String(i)})}})}function Sa(s,o,c,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Dr(t,e,n,r,i);return"mfaPendingCredential"in l&&dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function fC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Fm(t.config,i):`${t.config.apiScheme}://${i}`}function jF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var vm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),UF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ul(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=fi(t,e,r);return i.customData._tokenResponse=n,i}function Wb(t){return t!==void 0&&t.enterprise!==void 0}var _m=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function BF(t,e){return I(this,null,function*(){return Dr(t,"GET","/v2/recaptchaConfig",Er(t,e))})}function $F(t,e){return I(this,null,function*(){return Dr(t,"POST","/v1/accounts:delete",e)})}function pC(t,e){return I(this,null,function*(){return Dr(t,"POST","/v1/accounts:lookup",e)})}function Ia(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vm(t,e=!1){return I(this,null,function*(){let n=Ct(t),r=yield n.getIdToken(e),i=Um(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ia(pm(i.auth_time)),issuedAtTime:Ia(pm(i.iat)),expirationTime:Ia(pm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function pm(t){return Number(t)*1e3}function Um(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Gg(n);return i?JSON.parse(i):(jl("Failed to decode base64 JWT payload"),null)}catch(i){return jl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Kb(t){let e=Um(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ea(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof bt&&HF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function HF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Im=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Da=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ia(this.lastLoginAt),this.creationTime=Ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gl(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ea(t,pC(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gC(s.providerUserInfo):[],c=qF(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Da(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function jm(t){return I(this,null,function*(){let e=Ct(t);yield Gl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gC(t){return t.map(e=>{var{providerId:n}=e,r=bh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zF(t,e){return I(this,null,function*(){let n=yield hC(t,{},()=>I(this,null,function*(){let r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",zl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GF(t,e){return I(this,null,function*(){return Dr(t,"POST","/v2/accounts:revokeToken",Er(t,e))})}var wa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=Kb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bn("not implemented")}};function Ir(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ms=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Im(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Da(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Ea(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Vm(this,e)}reload(){return jm(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Gl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Ht(this.auth.app))return Promise.reject(Hn(this.auth));let e=yield this.getIdToken();return yield Ea(this,$F(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:he,isAnonymous:qe,providerData:le,stsTokenManager:D}=n;W(X&&D,e,"internal-error");let m=wa.fromJSON(this.name,D);W(typeof X=="string",e,"internal-error"),Ir(g,e.name),Ir(_,e.name),W(typeof he=="boolean",e,"internal-error"),W(typeof qe=="boolean",e,"internal-error"),Ir(w,e.name),Ir(S,e.name),Ir(N,e.name),Ir(M,e.name),Ir(L,e.name),Ir(K,e.name);let y=new t({uid:X,auth:e,email:_,emailVerified:he,displayName:g,isAnonymous:qe,photoURL:S,phoneNumber:w,tenantId:N,stsTokenManager:m,createdAt:L,lastLoginAt:K});return le&&Array.isArray(le)&&(y.providerData=le.map(E=>Object.assign({},E))),M&&(y._redirectEventId=M),y}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new wa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?gC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new wa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Da(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var Qb=new Map;function $n(t){wr(t instanceof Function,"Expected a class definition");let e=Qb.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qb.set(t,e),e)}var WF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),wm=WF;function Bl(t,e,n){return`firebase:${t}:${e}:${n}`}var Wl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Bl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t($n(wm),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||$n(wm),o=Bl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Ms._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function Yb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_C(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wC(e))return"Blackberry";if(EC(e))return"Webos";if(yC(e))return"Safari";if((e.includes("chrome/")||vC(e))&&!e.includes("edge/"))return"Chrome";if(IC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mC(t=je()){return/firefox\//i.test(t)}function yC(t=je()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vC(t=je()){return/crios\//i.test(t)}function _C(t=je()){return/iemobile/i.test(t)}function IC(t=je()){return/android/i.test(t)}function wC(t=je()){return/blackberry/i.test(t)}function EC(t=je()){return/webos/i.test(t)}function Bm(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KF(t=je()){var e;return Bm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QF(){return Sb()&&document.documentMode===10}function DC(t=je()){return Bm(t)||IC(t)||EC(t)||wC(t)||/windows phone/i.test(t)||_C(t)}function TC(t,e=[]){let n;switch(t){case"Browser":n=Yb(je());break;case"Worker":n=`${Yb(je())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_r}/${r}`}var Em=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YF(n){return I(this,arguments,function*(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",Er(t,e))})}var ZF=6,Dm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Tm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kl(this),this.idTokenSubscription=new Kl(this),this.beforeStateQueue=new Em(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield pC(this,{idToken:e}),r=yield Ms._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Ht(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Gl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FF()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Ht(this.app))return Promise.reject(Hn(this));let n=e?Ct(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Ht(this.app)?Promise.reject(Hn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ht(this.app)?Promise.reject(Hn(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence($n(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield YF(this),n=new Dm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield GF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Wl.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&OF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mi(t){return Ct(t)}var Kl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mb(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var td={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JF(t){td=t}function bC(t){return td.loadJS(t)}function XF(){return td.recaptchaEnterpriseScript}function eV(){return td.gapiScript}function CC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var tV="recaptcha-enterprise",nV="NO_RECAPTCHA",bm=class{constructor(e){this.type=tV,this.auth=mi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(s){return I(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>I(this,null,function*(){BF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new _m(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;Wb(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(nV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&Wb(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=XF();u.length!==0&&(u+=c),bC(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function Zb(t,e,n,r=!1){return I(this,null,function*(){let i=new bm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Cm(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Zb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Zb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function $m(t,e){let n=va(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ci(s,e??{}))return i;dn(i,"already-initialized")}return n.initialize({options:e})}function rV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hm(t,e,n){let r=mi(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=SC(e),{host:o,port:c}=iV(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sV()}function SC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iV(t){let e=SC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Jb(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Jb(o)}}}function Jb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function sV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ta=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}};function oV(t,e){return I(this,null,function*(){return Dr(t,"POST","/v1/accounts:signUp",e)})}function aV(t,e){return I(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithPassword",Er(t,e))})}function cV(t,e){return I(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))})}function uV(t,e){return I(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))})}var ba=class t extends Ta{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",aV);case"emailLink":return cV(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,r,"signUpPassword",oV);case"emailLink":return uV(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function gm(t,e){return I(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithIdp",Er(t,e))})}function lV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dV(t){let e=bs(Cs(t)).link,n=e?bs(Cs(e)).deep_link_id:null,r=bs(Cs(t)).deep_link_id;return(r?bs(Cs(r)).link:null)||r||n||e||t}var Ql=class t{constructor(e){var n,r,i,s,o,c;let u=bs(Cs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=lV((i=u.mode)!==null&&i!==void 0?i:null);W(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=dV(e);try{return new t(n)}catch{return null}}};var AC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ba._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ql.parseLink(r);return W(i,"argument-error"),ba._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Yl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Sm=class extends Yl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function hV(t,e){return I(this,null,function*(){return Sa(t,"POST","/v1/accounts:signUp",Er(t,e))})}var xs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let s=yield Ms._fromIdTokenResponse(e,r,i),o=Xb(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Xb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Xb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Am=class t extends bt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function RC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Am._fromErrorAndOperation(t,s,e,r):s})}function fV(t,e,n=!1){return I(this,null,function*(){let r=yield Ea(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return xs._forOperation(t,"link",r)})}function pV(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Ht(r.app))return Promise.reject(Hn(r));let i="reauthenticate";try{let s=yield Ea(t,RC(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=Um(s.idToken);W(o,r,"internal-error");let{sub:c}=o;return W(t.uid===c,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&dn(r,"user-mismatch"),s}})}function NC(t,e,n=!1){return I(this,null,function*(){if(Ht(t.app))return Promise.reject(Hn(t));let r="signIn",i=yield RC(t,r,e),s=yield xs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function qm(t,e){return I(this,null,function*(){return NC(mi(t),e)})}function MC(t){return I(this,null,function*(){let e=mi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function zm(t,e,n){return I(this,null,function*(){if(Ht(t.app))return Promise.reject(Hn(t));let r=mi(t),o=yield Cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&MC(t),u}),c=yield xs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Gm(t,e,n){return Ht(t.app)?Promise.reject(Hn(t)):qm(Ct(t),AC.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&MC(t),r}))}function Wm(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function Km(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}var Zl="__sak";var Jl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zl,"1"),this.storage.removeItem(Zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var gV=1e3,mV=10,yV=(()=>{class t extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);QF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,mV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Xn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Xn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Xn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),xC=yV;var vV=(()=>{class t extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Qm=vV;function _V(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var IV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>I(this,null,function*(){return f(r.origin,o)})),l=yield _V(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function PC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Rm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=PC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ln(){return window}function wV(t){ln().location.href=t}function OC(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}function EV(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TV(){return OC()?self:null}var kC="firebaseLocalStorageDb",bV=1,Xl="firebaseLocalStorage",LC="fbase_key",gi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function nd(t,e){return t.transaction([Xl],e?"readwrite":"readonly").objectStore(Xl)}function CV(){let t=indexedDB.deleteDatabase(kC);return new gi(t).toPromise()}function Nm(){let t=indexedDB.open(kC,bV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Xl,{keyPath:LC})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Xl)?e(r):(r.close(),yield CV(),e(yield Nm()))}))})}function eC(t,e,n){return I(this,null,function*(){let r=nd(t,!0).put({[LC]:e,value:n});return new gi(r).toPromise()})}function SV(t,e){return I(this,null,function*(){let n=nd(t,!1).get(e),r=yield new gi(n).toPromise();return r===void 0?null:r.value})}function tC(t,e){let n=nd(t,!0).delete(e);return new gi(n).toPromise()}var AV=800,RV=3,NV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Nm(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>RV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return OC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=IV._getInstance(TV()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield EV(),!this.activeServiceWorker)return;this.sender=new Rm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Nm();return yield eC(n,Zl,"1"),yield tC(n,Zl),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>eC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>SV(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>tC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=nd(s,!1).getAll();return new gi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),FC=NV;var d8=CC("rcb"),h8=new pi(3e4,6e4);function MV(t,e){return e?$n(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ca=class extends Ta{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function xV(t){return NC(t.auth,new Ca(t),t.bypassAuthState)}function PV(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),pV(n,new Ca(t),t.bypassAuthState)}function OV(t){return I(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),fV(n,new Ca(t),t.bypassAuthState)})}var Mm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xV;case"linkViaPopup":case"linkViaRedirect":return OV;case"reauthViaPopup":case"reauthViaRedirect":return PV;default:dn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var f8=new pi(2e3,1e4);var kV="pendingRedirect",$l=new Map,xm=class t extends Mm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=$l.get(this.auth._key());if(!e){try{let r=(yield LV(this.resolver,this.auth))?yield Xn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$l.set(this.auth._key(),e)}return this.bypassAuthState||$l.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Xn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function LV(t,e){return I(this,null,function*(){let n=UV(e),r=VV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FV(t,e){$l.set(t._key(),e)}function VV(t){return $n(t._redirectPersistence)}function UV(t){return Bl(kV,t.config.apiKey,t.name)}function jV(t,e,n=!1){return I(this,null,function*(){if(Ht(t.app))return Promise.reject(Hn(t));let r=mi(t),i=MV(r,e),o=yield new xm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var BV=10*60*1e3,Pm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$V(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BV&&this.cachedEventUids.clear(),this.cachedEventUids.has(nC(e))}saveEventToCache(e){this.cachedEventUids.add(nC(e)),this.lastProcessedEventTime=Date.now()}};function nC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $V(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VC(t);default:return!1}}function HV(n){return I(this,arguments,function*(t,e={}){return Dr(t,"GET","/v1/projects",e)})}var qV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zV=/^https?/;function GV(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield HV(t);for(let n of e)try{if(WV(n))return}catch{}dn(t,"unauthorized-domain")})}function WV(t){let e=ym(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zV.test(n))return!1;if(qV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var KV=new pi(3e4,6e4);function rC(){let t=ln().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QV(t){return new Promise((e,n)=>{var r,i,s;function o(){rC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rC(),n(fi(t,"network-request-failed"))},timeout:KV.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ln().gapi)===null||s===void 0)&&s.load)o();else{let c=CC("iframefcb");return ln()[c]=()=>{gapi.load?o():n(fi(t,"network-request-failed"))},bC(`${eV()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Hl=null,e})}var Hl=null;function YV(t){return Hl=Hl||QV(t),Hl}var ZV=new pi(5e3,15e3),JV="__/auth/iframe",XV="emulator/auth/iframe",eU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nU(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Fm(e,XV):`https://${t.config.authDomain}/${JV}`,r={apiKey:e.apiKey,appName:t.name,v:_r},i=tU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ga(r).slice(1)}`}function rU(t){return I(this,null,function*(){let e=yield YV(t),n=ln().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:nU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eU,dontclear:!0},r=>new Promise((i,s)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=fi(t,"network-request-failed"),c=ln().setTimeout(()=>{s(o)},ZV.get());function u(){ln().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var iU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sU=500,oU=600,aU="_blank",cU="http://localhost",ed=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uU(t,e,n,r=sU,i=oU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},iU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=je().toLowerCase();n&&(c=vC(l)?aU:n),mC(l)&&(e=e||cU,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[w,S])=>`${_}${w}=${S},`,"");if(KF(l)&&c!=="_self")return lU(e||"",c),new ed(null);let g=window.open(e||"",c,f);W(g,t,"popup-blocked");try{g.focus()}catch{}return new ed(g)}function lU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dU="__/auth/handler",hU="emulator/auth/handler",fU=encodeURIComponent("fac");function iC(t,e,n,r,i,s){return I(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_r,eventId:i};if(e instanceof Yl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Nb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Sm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${fU}=${encodeURIComponent(u)}`:"";return`${pU(t)}?${ga(c).slice(1)}${l}`})}function pU({config:t}){return t.emulator?Fm(t,hU):`https://${t.authDomain}/${dU}`}var mm="webStorageSupport",Om=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qm,this._completeRedirectFn=jV,this._overrideRedirectResult=FV}_openPopup(e,n,r,i){return I(this,null,function*(){var s;wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield iC(e,n,r,ym(),i);return uU(e,o,PC())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield iC(e,n,r,ym(),i);return wV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield rU(e),r=new Pm(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[mm];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DC()||yC()||Bm()}},UC=Om;var sC="@firebase/auth",oC="1.7.9";var km=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mU(t){vr(new kt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TC(t)},l=new Tm(r,i,s,u);return rV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new kt("auth-internal",e=>{let n=mi(e.getProvider("auth").getImmediate());return(r=>new km(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(sC,oC,gU(t)),Fe(sC,oC,"esm2017")}var yU=5*60,vU=Qg("authIdTokenMaxAge")||yU,aC=null,_U=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vU)return;let i=n?.token;aC!==i&&(aC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ym(t=Ss()){let e=va(t,"auth");if(e.isInitialized())return e.getImmediate();let n=$m(t,{popupRedirectResolver:UC,persistence:[FC,xC,Qm]}),r=Qg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=_U(s.toString());Km(n,o,()=>o(n.currentUser)),Wm(n,c=>o(c))}}let i=Wg("auth");return i&&Hm(n,`http://${i}`),n}function IU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=fi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mU("Browser");var jC="auth",Aa=class{constructor(e){return e}},Ra=class{constructor(){return _a(jC)}};var Zm=new B("angularfire2.auth-instances");function dj(t,e){let n=Fl(jC,t,e);return n&&new Aa(n)}function hj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Aa(r)}}var fj={provide:Ra,deps:[[new rt,Zm]]},pj={provide:Aa,useFactory:dj,deps:[[new rt,Zm],jn]};function Y8(t,...e){return Fe("angularfire",di.full,"auth"),tn([pj,fj,{provide:Zm,useFactory:hj(t),multi:!0,deps:[fe,Ye,Ns,hi,[new rt,Rs],...e]}])}var Z8=un(zm,!0);var J8=un(Ym,!0);var X8=un(Gm,!0);var BC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$C={};var Jm,HC;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,T,C){for(var v=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)v[yn-2]=arguments[yn];return m.prototype[T].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)E[T]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(T=0;16>T;++T)E[T]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],T=D.g[2];var C=D.g[3],v=m+(C^y&(T^C))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[1]+3905402710&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[2]+606105819&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[3]+3250441966&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[5]+1200080426&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[6]+2821735955&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[7]+4249261313&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[9]+2336552879&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[10]+4294925233&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[11]+2304563134&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[13]+4254626195&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[14]+2792965006&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[15]+1236535329&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(T^C&(y^T))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[6]+3225465664&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[11]+643717713&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[0]+3921069994&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[10]+38016083&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[15]+3634488961&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[4]+3889429448&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[14]+3275163606&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[3]+4107603335&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[8]+1163531501&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[2]+4243563512&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[7]+1735328473&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[12]+2368359562&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(y^T^C)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[8]+2272392833&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[11]+1839030562&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[14]+4259657740&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[4]+1272893353&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[7]+4139469664&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[10]+3200236656&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[0]+3936430074&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[3]+3572445317&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[6]+76029189&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[12]+3873151461&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[15]+530742520&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[2]+3299628645&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(T^(y|~C))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[7]+1126891415&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[14]+2878612391&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[5]+4237533241&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[3]+2399980690&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[10]+4293915773&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[1]+2240044497&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[15]+4264355552&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[6]+2734768916&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[13]+1309151649&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[11]+3174756917&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[2]+718787259&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,T=this.h,C=0;C<m;){if(T==0)for(;C<=y;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<m;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<m;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==m||(y[T]=C,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return M(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return M(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),v=parseInt(D.substring(T,T+C),m);8>C?(C=l(Math.pow(m,C)),E=E.j(C).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-M(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+M(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var T=he(y,m).g;y=L(y,T.j(m));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=T,S(y))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=L(this,D),N(D)?-1:S(D)?0:1};function M(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return N(this)?M(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,T=0;T<=m;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),v=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=v>>>16,C&=65535,v&=65535,y[T]=v<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function L(D,m){return D.add(M(m))}t.j=function(D){if(S(this)||S(D))return g;if(N(this))return N(D)?M(this).j(M(D)):M(M(this).j(D));if(N(D))return M(this.j(M(D)));if(0>this.l(w)&&0>D.l(w))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,v=this.i(E)&65535,yn=D.i(T)>>>16,Zs=D.i(T)&65535;y[2*E+2*T]+=v*Zs,K(y,2*E+2*T),y[2*E+2*T+1]+=C*Zs,K(y,2*E+2*T+1),y[2*E+2*T+1]+=v*yn,K(y,2*E+2*T+1),y[2*E+2*T+2]+=C*yn,K(y,2*E+2*T+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function K(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function X(D,m){this.g=D,this.h=m}function he(D,m){if(S(m))throw Error("division by zero");if(S(D))return new X(g,g);if(N(D))return m=he(M(D),m),new X(M(m.g),M(m.h));if(N(m))return m=he(D,M(m)),new X(M(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=qe(y),E=qe(E);var T=le(y,1),C=le(E,1);for(E=le(E,2),y=le(y,2);!S(E);){var v=C.add(E);0>=v.l(D)&&(T=T.add(y),C=v),E=le(E,1),y=le(y,1)}return m=L(D,T.j(m)),new X(T,m)}for(T=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(y),v=C.j(m);N(v)||0<v.l(D);)y-=E,C=l(y),v=C.j(m);S(C)&&(C=_),T=T.add(C),D=L(D,v)}return new X(T,D)}t.A=function(D){return he(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function qe(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function le(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,T=[],C=0;C<E;C++)T[C]=0<m?D.i(C+y)>>>m|D.i(C+y+1)<<32-m:D.i(C+y);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HC=$C.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Jm=$C.Integer=o}).apply(typeof BC<"u"?BC:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={};var Xm,gj,Ps,ey,Na,id,ty,ny,ry;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,A){for(var O=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)O[ge-2]=arguments[ge];return d.prototype[b].apply(p,O)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function M(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,A=p.length||0;a.length=b+A;for(let O=0;O<A;O++)a[b+O]=p[O]}else a.push(p)}}class L{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function he(a){return he[" "](a),a}he[" "]=function(){};var qe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function le(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let A=0;A<y.length;A++)h=y[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Fd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let p=Zs.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Zs=new L(()=>new n0,a=>a.reset());class n0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Js,Xs=!1,Fd=new yn,kv=()=>{let a=c.Promise.resolve(void 0);Js=()=>{a.then(r0)}};var r0=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var d=Zs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Xs=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var i0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function eo(a,d){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(qe){e:{try{he(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:s0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&eo.aa.h.call(this)}}S(eo,Je);var s0={2:"touch",3:"pen",4:"mouse"};eo.prototype.h=function(){eo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var to="closure_listenable_"+(1e6*Math.random()|0),o0=0;function a0(a,d,h,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=b,this.key=++o0,this.da=this.fa=!1}function Wa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ka(a){this.src=a,this.g={},this.h=0}Ka.prototype.add=function(a,d,h,p,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var O=Ud(a,d,p,b);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new a0(d,this.src,A,!!p,b),d.fa=h,a.push(d)),d};function Vd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(p,b,1),A&&(Wa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Ud(a,d,h,p){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==p)return b}return-1}var jd="closure_lm_"+(1e6*Math.random()|0),Bd={};function Lv(a,d,h,p,b){if(p&&p.once)return Vv(a,d,h,p,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Lv(a,d[A],h,p,b);return null}return h=zd(h),a&&a[to]?a.K(d,h,l(p)?!!p.capture:!!p,b):Fv(a,d,h,!1,p,b)}function Fv(a,d,h,p,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,ge=Hd(a);if(ge||(a[jd]=ge=new Ka(a)),h=ge.add(d,h,p,O,A),h.proxy)return h;if(p=c0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)i0||(b=O),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(jv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function c0(){function a(h){return d.call(a.src,a.listener,h)}let d=u0;return a}function Vv(a,d,h,p,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Vv(a,d[A],h,p,b);return null}return h=zd(h),a&&a[to]?a.L(d,h,l(p)?!!p.capture:!!p,b):Fv(a,d,h,!0,p,b)}function Uv(a,d,h,p,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)Uv(a,d[A],h,p,b);else p=l(p)?!!p.capture:!!p,h=zd(h),a&&a[to]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Ud(A,h,p,b),-1<h&&(Wa(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Hd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ud(d,h,p,b)),(h=-1<a?d[a]:null)&&$d(h))}function $d(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[to])Vd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(jv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Hd(d))?(Vd(h,a),h.h==0&&(h.src=null,d[jd]=null)):Wa(a)}}}function jv(a){return a in Bd?Bd[a]:Bd[a]="on"+a}function u0(a,d){if(a.da)a=!0;else{d=new eo(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&$d(a),a=h.call(p,d)}return a}function Hd(a){return a=a[jd],a instanceof Ka?a:null}var qd="__closure_events_fn_"+(1e9*Math.random()>>>0);function zd(a){return typeof a=="function"?a:(a[qd]||(a[qd]=function(d){return a.handleEvent(d)}),a[qd])}function Xe(){Qn.call(this),this.i=new Ka(this),this.M=this,this.F=null}S(Xe,Qn),Xe.prototype[to]=!0,Xe.prototype.removeEventListener=function(a,d,h,p){Uv(this,a,d,h,p)};function at(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Je(d,a);else if(d instanceof Je)d.target=d.target||a;else{var b=d;d=new Je(p,a),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];b=Qa(O,p,!0,d)&&b}if(O=d.g=a,b=Qa(O,p,!0,d)&&b,b=Qa(O,p,!1,d)&&b,h)for(A=0;A<h.length;A++)O=d.g=h[A],b=Qa(O,p,!1,d)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)Wa(h[p]);delete a.g[d],a.h--}}this.F=null},Xe.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Xe.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function Qa(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var ge=O.listener,ze=O.ha||O.src;O.fa&&Vd(a.i,O),b=ge.call(ze,p)!==!1&&b}}return b&&!p.defaultPrevented}function Bv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function $v(a){a.g=Bv(()=>{a.g=null,a.i&&(a.i=!1,$v(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class l0 extends Qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$v(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(a){Qn.call(this),this.h=a,this.g={}}S(no,Qn);var Hv=[];function qv(a){le(a.g,function(d,h){this.g.hasOwnProperty(h)&&$d(d)},a),a.g={}}no.prototype.N=function(){no.aa.N.call(this),qv(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gd=c.JSON.stringify,d0=c.JSON.parse,h0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Wd(){}Wd.prototype.h=null;function zv(a){return a.h||(a.h=a.i())}function Gv(){}var ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kd(){Je.call(this,"d")}S(Kd,Je);function Qd(){Je.call(this,"c")}S(Qd,Je);var Ar={},Wv=null;function Ya(){return Wv=Wv||new Xe}Ar.La="serverreachability";function Kv(a){Je.call(this,Ar.La,a)}S(Kv,Je);function io(a){let d=Ya();at(d,new Kv(d))}Ar.STAT_EVENT="statevent";function Qv(a,d){Je.call(this,Ar.STAT_EVENT,a),this.stat=d}S(Qv,Je);function ct(a){let d=Ya();at(d,new Qv(d,a))}Ar.Ma="timingevent";function Yv(a,d){Je.call(this,Ar.Ma,a),this.size=d}S(Yv,Je);function so(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function f0(a,d,h,p,b,A){a.info(function(){if(a.g)if(A)for(var O="",ge=A.split("&"),ze=0;ze<ge.length;ze++){var de=ge[ze].split("=");if(1<de.length){var et=de[0];de=de[1];var tt=et.split("_");O=2<=tt.length&&tt[1]=="type"?O+(et+"="+de+"&"):O+(et+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+h+`
`+O})}function p0(a,d,h,p,b,A,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+O})}function Ci(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+m0(a,h)+(p?" "+p:"")})}function g0(a,d){a.info(function(){return"TIMEOUT: "+d})}oo.prototype.info=function(){};function m0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Gd(h)}catch{return d}}var Za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yd;function Ja(){}S(Ja,Wd),Ja.prototype.g=function(){return new XMLHttpRequest},Ja.prototype.i=function(){return{}},Yd=new Ja;function Yn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jv}function Jv(){this.i=null,this.g="",this.h=!1}var Xv={},Zd={};function Jd(a,d,h){a.L=1,a.v=nc(vn(d)),a.m=h,a.P=!0,e_(a,null)}function e_(a,d){a.F=Date.now(),Xa(a),a.A=vn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),p_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Jv,a.g=x_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new l0(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Hv[0]=b.toString()),b=Hv);for(var A=0;A<b.length;A++){var O=Lv(h,b[A],p||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),io(),f0(a.i,a.u,a.A,a.l,a.R,a.m)}Yn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},Yn.prototype.Y=function(a){try{if(a==this.g)e:{let tt=_n(this.g);var d=this.g.Ba();let Ri=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||w_(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Ri?io(3):io(2)),Xd(this);var h=this.g.Z();this.X=h;t:if(t_(this)){var p=w_(this.g);a="";var b=p.length,A=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),ao(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(A&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,p0(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,ze=this.g;if((ge=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ge)){var de=ge;break t}}de=null}if(h=de)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,h);else{this.o=!1,this.s=3,ct(12),Rr(this),ao(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<O.length;)if(Lt=y0(this,O),Lt==Zd){tt==4&&(this.s=4,ct(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Xv){this.s=4,ct(15),Ci(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,Lt,null),eh(this,Lt);if(t_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||O.length!=0||this.h.h||(this.s=1,ct(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,O,"[Invalid Chunked Response]"),Rr(this),ao(this);else if(0<O.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),oh(et),et.M=!0,ct(11))}}else Ci(this.i,this.l,O,null),eh(this,O);tt==4&&Rr(this),this.o&&!this.J&&(tt==4?A_(this.j,this):(this.o=!1,Xa(this)))}else O0(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Rr(this),ao(this)}}}catch{}finally{}};function t_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function y0(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Zd:(h=Number(d.substring(h,p)),isNaN(h)?Xv:(p+=1,p+h>d.length?Zd:(d=d.slice(p,p+h),a.C=p+h,d)))}Yn.prototype.cancel=function(){this.J=!0,Rr(this)};function Xa(a){a.S=Date.now()+a.I,n_(a,a.I)}function n_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=so(_(a.ba,a),d)}function Xd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Yn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(g0(this.i,this.A),this.L!=2&&(io(),ct(17)),Rr(this),this.s=2,ao(this)):n_(this,this.S-a)};function ao(a){a.j.G==0||a.J||A_(a.j,a)}function Rr(a){Xd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,qv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function eh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||th(h.h,a))){if(!a.K&&th(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)ac(h),sc(h);else break e;sh(h),ct(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=so(_(h.Za,h),6e3));if(1>=s_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mr(h,11)}else if((a.K||h.g==a)&&ac(h),!K(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let de=b[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let et=de[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=de[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let Ri=de[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(p=1.5*Ri,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Lt=a.g;if(Lt){let uc=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uc){var A=p.h;A.g||uc.indexOf("spdy")==-1&&uc.indexOf("quic")==-1&&uc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(nh(A,A.h),A.h=null))}if(p.D){let ah=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(p.ya=ah,Ie(p.I,p.D,ah))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var O=a;if(p.qa=M_(p,p.J?p.ia:null,p.W),O.K){o_(p.h,O);var ge=O,ze=p.L;ze&&(ge.I=ze),ge.B&&(Xd(ge),Xa(ge)),p.g=O}else C_(p);0<h.i.length&&oc(h)}else de[0]!="stop"&&de[0]!="close"||Mr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Mr(h,7):ih(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}io(4)}catch{}}var v0=class{constructor(a,d){this.g=a,this.map=d}};function r_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function s_(a){return a.h?1:a.g?a.g.size:0}function th(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function nh(a,d){a.g?a.g.add(d):a.h=d}function o_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}r_.prototype.cancel=function(){if(this.i=a_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function a_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function _0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function I0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function c_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=I0(a),p=_0(a),b=p.length,A=0;A<b;A++)d.call(void 0,p[A],h&&h[A],a)}var u_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w0(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var A=a[h].substring(0,p);b=a[h].substring(p+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Nr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Nr){this.h=a.h,ec(this,a.j),this.o=a.o,this.g=a.g,tc(this,a.s),this.l=a.l;var d=a.i,h=new lo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),l_(this,h),this.m=a.m}else a&&(d=String(a).match(u_))?(this.h=!1,ec(this,d[1]||"",!0),this.o=co(d[2]||""),this.g=co(d[3]||"",!0),tc(this,d[4]),this.l=co(d[5]||"",!0),l_(this,d[6]||"",!0),this.m=co(d[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}Nr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(uo(d,d_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(uo(d,d_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(uo(h,h.charAt(0)=="/"?T0:D0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",uo(h,C0)),a.join("")};function vn(a){return new Nr(a)}function ec(a,d,h){a.j=h?co(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function tc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function l_(a,d,h){d instanceof lo?(a.i=d,S0(a.i,a.h)):(h||(d=uo(d,b0)),a.i=new lo(d,a.h))}function Ie(a,d,h){a.i.set(d,h)}function nc(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function co(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function uo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,E0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function E0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var d_=/[#\/\?@]/g,D0=/[#\?:]/g,T0=/[#\?]/g,b0=/[#\?@]/g,C0=/#/g;function lo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Zn(a){a.g||(a.g=new Map,a.h=0,a.i&&w0(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=lo.prototype,t.add=function(a,d){Zn(this),this.i=null,a=Si(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function h_(a,d){Zn(a),d=Si(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function f_(a,d){return Zn(a),d=Si(a,d),a.g.has(d)}t.forEach=function(a,d){Zn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(d,b,p,this)},this)},this)},t.na=function(){Zn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let b=a[p];for(let A=0;A<b.length;A++)h.push(d[p])}return h},t.V=function(a){Zn(this);let d=[];if(typeof a=="string")f_(this,a)&&(d=d.concat(this.g.get(Si(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Zn(this),this.i=null,a=Si(this,a),f_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function p_(a,d,h){h_(a,d),0<h.length&&(a.i=null,a.g.set(Si(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let A=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=A;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),a.push(b)}}return this.i=a.join("&")};function Si(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function S0(a,d){d&&!a.j&&(Zn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(h_(this,p),p_(this,b,h))},a)),a.j=d}function A0(a,d){let h=new oo;if(c.Image){let p=new Image;p.onload=w(Jn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=w(Jn,h,"TestLoadImage: error",!1,d,p),p.onabort=w(Jn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=w(Jn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function R0(a,d){let h=new oo,p=new AbortController,b=setTimeout(()=>{p.abort(),Jn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(b),A.ok?Jn(h,"TestPingServer: ok",!0,d):Jn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Jn(h,"TestPingServer: error",!1,d)})}function Jn(a,d,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function N0(){this.g=new h0}function M0(a,d,h){let p=h||"";try{c_(a,function(b,A){let O=b;l(b)&&(O=Gd(b)),d.push(p+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function ho(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ho,Wd),ho.prototype.g=function(){return new rc(this.l,this.j)},ho.prototype.i=function(a){return function(){return a}}({});function rc(a,d){Xe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(rc,Xe),t=rc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,po(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function g_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?fo(this):po(this),this.readyState==3&&g_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,fo(this))},t.Qa=function(a){this.g&&(this.response=a,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,po(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function po(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function m_(a){let d="";return le(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function rh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=m_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,d,h))}function be(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(be,Xe);var x0=/^https?$/i,P0=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yd.g(),this.v=this.o?zv(this.o):zv(Yd),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){y_(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(P0,d,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){y_(this,A)}};function y_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,v_(a),ic(a)}function v_(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?__(this):this.bb())},t.bb=function(){__(this)};function __(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)Bv(a.Ea,0,a);else if(at(a,"readystatechange"),_n(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=O===0){var b=String(a.D).match(u_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!x0.test(b?b.toLowerCase():"")}h=p}if(h)at(a,"complete"),at(a,"success");else{a.m=6;try{var A=2<_n(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",v_(a)}}finally{ic(a)}}}}function ic(a,d){if(a.g){I_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||at(a,"ready");try{h.onreadystatechange=p}catch{}}}function I_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),d0(d)}};function w_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function O0(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(K(a[p]))continue;var h=T(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function E_(a){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=go("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=go("baseRetryDelayMs",5e3,a),this.cb=go("retryDelaySeedMs",1e4,a),this.Wa=go("forwardChannelMaxRetries",2,a),this.wa=go("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new r_(a&&a.concurrentRequestLimit),this.Da=new N0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=E_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){ct(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=M_(this,null,this.W),oc(this)};function ih(a){if(D_(a),a.G==3){var d=a.U++,h=vn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",d),Ie(h,"TYPE","terminate"),mo(a,h),d=new Yn(a,a.j,d),d.L=2,d.v=nc(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=x_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xa(d)}N_(a)}function sc(a){a.g&&(oh(a),a.g.cancel(),a.g=null)}function D_(a){sc(a),a.u&&(c.clearTimeout(a.u),a.u=null),ac(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function oc(a){if(!i_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Js||kv(),Xs||(Js(),Xs=!0),Fd.add(d,a),a.B=0}}function k0(a,d){return s_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=so(_(a.Ga,a,d),R_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Yn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=b_(this,b,d),h=vn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),mo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(m_(A)))+"&"+d:this.m&&rh(h,this.m,A)),nh(this.h,b),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",d),Ie(h,"SID","null"),b.T=!0,Jd(b,h,null)):Jd(b,h,d),this.G=2}}else this.G==3&&(a?T_(this,a):this.i.length==0||i_(this.h)||T_(this))};function T_(a,d){var h;d?h=d.l:h=a.U++;let p=vn(a.I);Ie(p,"SID",a.K),Ie(p,"RID",h),Ie(p,"AID",a.T),mo(a,p),a.m&&a.o&&rh(p,a.m,a.o),h=new Yn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=b_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),nh(a.h,h),Jd(h,p,d)}function mo(a,d){a.H&&le(a.H,function(h,p){Ie(d,p,h)}),a.l&&c_({},function(h,p){Ie(d,p,h)})}function b_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let ge=!0;for(let ze=0;ze<h;ze++){let de=b[ze].g,et=b[ze].map;if(de-=A,0>de)A=Math.max(0,b[ze].g-100),ge=!1;else try{M0(et,O,"req"+de+"_")}catch{p&&p(et)}}if(ge){p=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function C_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Js||kv(),Xs||(Js(),Xs=!0),Fd.add(d,a),a.v=0}}function sh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=so(_(a.Fa,a),R_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,S_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=so(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),sc(this),S_(this))};function oh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function S_(a){a.g=new Yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);Ie(d,"RID","rpc"),Ie(d,"SID",a.K),Ie(d,"AID",a.T),Ie(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(d,"TO",a.ja),Ie(d,"TYPE","xmlhttp"),mo(a,d),a.m&&a.o&&rh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=nc(vn(d)),h.m=null,h.P=!0,e_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,sc(this),sh(this),ct(19))};function ac(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function A_(a,d){var h=null;if(a.g==d){ac(a),oh(a),a.g=null;var p=2}else if(th(a.h,d))h=d.D,o_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=Ya(),at(p,new Yv(p,h)),oc(a)}else C_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&k0(a,d)||p==2&&sh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function R_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Mr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Nr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ec(p,"https"),nc(p),b?A0(p.toString(),h):R0(p.toString(),h)}else ct(2);a.G=0,a.l&&a.l.sa(d),N_(a),D_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function N_(a){if(a.G=0,a.ka=[],a.l){let d=a_(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function M_(a,d,h){var p=h instanceof Nr?vn(h):new Nr(h);if(p.g!="")d&&(p.g=d+"."+p.g),tc(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Nr(null);p&&ec(A,p),d&&(A.g=d),b&&tc(A,b),h&&(A.l=h),p=A}return h=a.D,d=a.ya,h&&d&&Ie(p,h,d),Ie(p,"VER",a.la),mo(a,p),p}function x_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new ho({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function P_(){}t=P_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cc(){}cc.prototype.g=function(a,d){return new yt(a,d)};function yt(a,d){Xe.call(this),this.g=new E_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ai(this)}S(yt,Xe),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){ih(this.g)},yt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Gd(a),a=h);d.i.push(new v0(d.Ya++,a)),d.G==3&&oc(d)},yt.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,yt.aa.N.call(this)};function O_(a){Kd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(O_,Kd);function k_(){Qd.call(this),this.status=1}S(k_,Qd);function Ai(a){this.g=a}S(Ai,P_),Ai.prototype.ua=function(){at(this.g,"a")},Ai.prototype.ta=function(a){at(this.g,new O_(a))},Ai.prototype.sa=function(a){at(this.g,new k_)},Ai.prototype.ra=function(){at(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,ry=qn.createWebChannelTransport=function(){return new cc},ny=qn.getStatEventTarget=function(){return Ya()},ty=qn.Event=Ar,id=qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Na=qn.ErrorCode=Za,Zv.COMPLETE="complete",ey=qn.EventType=Zv,Gv.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ps=qn.WebChannel=Gv,gj=qn.FetchXmlHttpFactory=ho,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Xm=qn.XhrIo=be}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});var qC="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var Ys="10.14.0";var Ii=new mr("@firebase/firestore");function Ma(){return Ii.logLevel}function F(t,...e){if(Ii.logLevel<=oe.DEBUG){let n=e.map(Tv);Ii.debug(`Firestore (${Ys}): ${t}`,...n)}}function wi(t,...e){if(Ii.logLevel<=oe.ERROR){let n=e.map(Tv);Ii.error(`Firestore (${Ys}): ${t}`,...n)}}function ld(t,...e){if(Ii.logLevel<=oe.WARN){let n=e.map(Tv);Ii.warn(`Firestore (${Ys}): ${t}`,...n)}}function Tv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+t;throw wi(e),new Error(e)}function Re(t,e){t||ae()}function _e(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var dd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ay=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}},cy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},uy=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new dd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Be(e)}},ly=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},dy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ly(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new hy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function mj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=mj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ot=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$e=class t extends fd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class t extends fd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new z(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new z(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new z(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var py=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};py.UNKNOWN_ID=-1;function vj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Ei(i,ie.empty(),e)}function _j(t){return new Ei(t.readTime,t.key,-1)}var Ei=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ae.min(),ie.empty(),-1)}static max(){return new t(Ae.max(),ie.empty(),-1)}};function Ij(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var wj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hS(t){return I(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==wj)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Ej(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xd(t){return t.name==="IndexedDbTransactionError"}var Dj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function bv(t){return t==null}function Fa(t){return t===0&&1/t==-1/0}function Tj(t){return typeof t=="number"&&Number.isInteger(t)&&!Fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],f5=[...bj,"documentOverlays"],Cj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sj=Cj,Aj=[...Sj,"indexConfiguration","indexState","indexEntries"];var p5=[...Aj,"globals"];function zC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var At=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pd(this.data.getIterator())}getIteratorFrom(e){return new pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},pd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(St.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var my=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Wn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new my("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wn.EMPTY_BYTE_STRING=new Wn("");var Rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Re(!!t),typeof t=="string"){let e=0,n=Rj.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}function Cv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pS(t){let e=t.mapValue.fields.__previous_value__;return Cv(e)?pS(e):e}function gd(t){let e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}var yy=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},vy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:mS(t)?9007199254740991:gS(t)?10:11:ae()}function mn(t,e){if(t===e)return!0;let n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gd(t).isEqual(gd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Tr(i.timestampValue),c=Tr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vs(i.bytesValue).isEqual(Vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Oe(i.doubleValue),c=Oe(s.doubleValue);return o===c?Fa(o)===Fa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(zC(o)!==zC(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(t,e);default:return ae()}}function Va(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function js(t,e){if(t===e)return 0;let n=Us(t),r=Us(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Oe(s.integerValue||s.doubleValue),u=Oe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return GC(t.timestampValue,e.timestampValue);case 4:return GC(gd(t),gd(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Vs(s),u=Vs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ve(c[l],u[l]);if(f!==0)return f}return ve(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ve(Oe(s.latitude),Oe(o.latitude));return c!==0?c:ve(Oe(s.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},_=o.fields||{},w=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,N=ve(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:WC(w,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===sd.mapValue&&o===sd.mapValue)return 0;if(s===sd.mapValue)return 1;if(o===sd.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=ve(u[g],f[g]);if(_!==0)return _;let w=js(c[u[g]],l[f[g]]);if(w!==0)return w}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ae()}}function GC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Tr(t),r=Tr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function WC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=js(n[i],r[i]);if(s)return s}return ve(n.length,r.length)}function Bs(t){return _y(t)}function _y(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=_y(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${_y(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function Iy(t){return!!t&&"integerValue"in t}function Sv(t){return!!t&&"arrayValue"in t}function cd(t){return!!t&&"mapValue"in t}function gS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Pa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Pa(this.value))}};function yS(t){let e=[];return Ha(t.fields,(n,r)=>{let i=new St([n]);if(cd(r)){let s=yS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var $s=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ae.min(),Ae.min(),Ae.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ae.min(),Ae.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ae.min(),Ae.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function KC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=js(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Nj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var md=class{},He=class t extends md{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ey(e,n,r):n==="array-contains"?new by(e,r):n==="in"?new Cy(e,r):n==="not-in"?new Sy(e,r):n==="array-contains-any"?new Ay(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dy(e,r):new Ty(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},br=class t extends md{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return vS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function vS(t){return t.op==="and"}function _S(t){return Mj(t)&&vS(t)}function Mj(t){for(let e of t.filters)if(e instanceof br)return!1;return!0}function wy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Bs(t.value);if(_S(t))return t.filters.map(e=>wy(e)).join(",");{let e=t.filters.map(n=>wy(n)).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&IS(o,i.filters[c]),!0):!1}(t,e):void ae()}function wS(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"}(t):"Filter"}var Ey=class extends He{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){let n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},Dy=class extends He{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ty=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ES(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}var by=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Sv(n)&&Va(n.arrayValue,this.value)}},Cy=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}},Sy=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}},Ay=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}};var Ry=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function YC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ry(t,e,n,r,i,s,o)}function Av(t){let e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bs(r)).join(",")),e.ue=n}return e.ue}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QC(t.startAt,e.startAt)&&QC(t.endAt,e.endAt)}var zs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xj(t,e,n,r,i,s,o,c){return new zs(t,e,n,r,i,s,o,c)}function Pj(t){return new zs(t)}function ZC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Oj(t){return t.collectionGroup!==null}function Oa(t){let e=_e(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ht(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qs(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new qs(St.keyField(),r))}return e.ce}function vi(t){let e=_e(t);return e.le||(e.le=kj(e,Oa(t))),e.le}function kj(t,e){if(t.limitType==="F")return YC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new qs(i.field,s)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return YC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ny(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function DS(t,e){return Rv(vi(t),vi(e))&&t.limitType===e.limitType}function TS(t){return`${Av(vi(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wS(i)).join(", ")}]`),bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function Nv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=KC(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Oa(r),i)||r.endAt&&!function(o,c,u){let l=KC(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Oa(r),i))}(t,e)}function Lj(t){return(e,n)=>{let r=!1;for(let i of Oa(t)){let s=Fj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fj(t,e,n){let r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?js(u,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}};var Vj=new At(ie.comparator);function yd(){return Vj}var bS=new At(ie.comparator);function od(...t){let e=bS;for(let n of t)e=e.insert(n.key,n);return e}function CS(t){let e=bS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return ka()}function SS(){return ka()}function ka(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Uj=new At(ie.comparator),jj=new ht(ie.comparator);function st(...t){let e=jj;for(let n of t)e=e.add(n);return e}var Bj=new ht(ve);function $j(){return Bj}function Mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function Hj(t,e){return Tj(e)?AS(e):Mv(t,e)}var Gs=class{constructor(){this._=void 0}};function qj(t,e,n){return t instanceof Ws?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cv(s)&&(s=pS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Di?NS(t,e):t instanceof Ti?MS(t,e):function(i,s){let o=RS(i,s),c=JC(o)+JC(i.Pe);return Iy(o)&&Iy(i.Pe)?AS(c):Mv(i.serializer,c)}(t,e)}function zj(t,e,n){return t instanceof Di?NS(t,e):t instanceof Ti?MS(t,e):n}function RS(t,e){return t instanceof Ks?function(r){return Iy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ws=class extends Gs{},Di=class extends Gs{constructor(e){super(),this.elements=e}};function NS(t,e){let n=xS(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ti=class extends Gs{constructor(e){super(),this.elements=e}};function MS(t,e){let n=xS(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var Ks=class extends Gs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function JC(t){return Oe(t.integerValue||t.doubleValue)}function xS(t){return Sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Gj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Di&&i instanceof Di||r instanceof Ti&&i instanceof Ti?Fs(r.elements,i.elements,mn):r instanceof Ks&&i instanceof Ks?mn(r.Pe,i.Pe):r instanceof Ws&&i instanceof Ws}(t.transform,e.transform)}var My=class{constructor(e,n){this.version=e,this.transformResults=n}},_i=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qs=class{};function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vd(t.key,_i.none()):new bi(t.key,t.data,_i.none());{let n=t.data,r=fn.empty(),i=new ht(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kn(t.key,r,new pn(i.toArray()),_i.none())}}function Wj(t,e,n){t instanceof bi?function(i,s,o){let c=i.value.clone(),u=eS(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(i,s,o){if(!ud(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=eS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(OS(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function La(t,e,n,r){return t instanceof bi?function(s,o,c,u){if(!ud(s.precondition,o))return c;let l=s.value.clone(),f=tS(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kn?function(s,o,c,u){if(!ud(s.precondition,o))return c;let l=tS(s.fieldTransforms,u,o),f=o.data;return f.setAll(OS(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return ud(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function Kj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=RS(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function XC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(s,o)=>Gj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var bi=class extends Qs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kn=class extends Qs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function OS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eS(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,zj(o,c,n[i]))}return r}function tS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,qj(s,o,e))}return r}var vd=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xy=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Py=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Wj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=La(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=La(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=SS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=PS(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,r)=>XC(n,r))&&Fs(this.baseMutations,e.baseMutations,(n,r)=>XC(n,r))}},Oy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return Uj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ky=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xe,ue;function Qj(t){switch(t){default:return ae();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Yj(t){if(t===void 0)return wi("GRPC error has no .code"),R.UNKNOWN;switch(t){case xe.OK:return R.OK;case xe.CANCELLED:return R.CANCELLED;case xe.UNKNOWN:return R.UNKNOWN;case xe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case xe.INTERNAL:return R.INTERNAL;case xe.UNAVAILABLE:return R.UNAVAILABLE;case xe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case xe.NOT_FOUND:return R.NOT_FOUND;case xe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case xe.ABORTED:return R.ABORTED;case xe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case xe.DATA_LOSS:return R.DATA_LOSS;default:return ae()}}(ue=xe||(xe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var m5=new Jm([4294967295,4294967295],0);var Ly=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Fy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jj(t,e){return Fy(t,e.toTimestamp())}function Ls(t){return Re(!!t),Ae.fromTimestamp(function(n){let r=Tr(n);return new ot(r.seconds,r.nanos)}(t))}function kS(t,e){return Vy(t,e).canonicalString()}function Vy(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xj(t){let e=$e.fromString(t);return Re(a2(e)),e}function Uy(t,e){return kS(t.databaseId,e.path)}function e2(t){let e=Xj(t);return e.length===4?$e.emptyPath():n2(e)}function t2(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n2(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nS(t,e,n){return{name:Uy(t,e),fields:n.value.mapValue.fields}}function r2(t,e){let n;if(e instanceof bi)n={update:nS(t,e.key,e.value)};else if(e instanceof vd)n={delete:Uy(t,e.key)};else if(e instanceof Kn)n={update:nS(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof xy))return ae();n={verify:Uy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Ws)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Di)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ks)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Jj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function i2(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ls(i.updateTime):Ls(s);return o.isEqual(Ae.min())&&(o=Ls(s)),new My(o,i.transformResults||[])}(n,e))):[]}function s2(t){let e=e2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=LS(g);return _ instanceof br&&_S(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(S){return new qs(Os(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,bv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,w=g.values||[];return new Hs(w,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,w=g.values||[];return new Hs(w,_)}(n.endAt)),xj(e,i,o,s,c,"F",u,l)}function LS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Os(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Os(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>LS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function Os(t){return St.fromServerFormat(t.fieldPath)}function o2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var jy=class{constructor(e){this.ct=e}};function c2(t){let e=s2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}var _d=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Fa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Tr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Vs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?mS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):gS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Oe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ie.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};_d.vt=new _d;var By=class{constructor(){this.un=new $y}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Ei.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},$y=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht($e.comparator)).toArray()}};var y5=new Uint8Array(0);var hn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var Ua=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Hy=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$s.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&La(r.mutation,i,pn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){let i=yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=od();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=yd(),o=ka(),c=function(){return ka()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Kn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),La(f.mutation,l,f.mutation.getFieldMask(),ot.now())):o.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new qy(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ka(),i=new At((o,c)=>o-c),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||pn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||st()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=SS();f.forEach(_=>{if(!s.has(_)){let w=PS(n.get(_),r.get(_));w!==null&&g.set(_,w),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Oj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(yi()),c=-1,u=s;return o.next(l=>x.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,st())).next(f=>({batchId:c,changes:CS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=od();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let l=function(g,_){return new zs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,$s.newInvalidDocument(f)))});let c=od();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&La(f.mutation,l,pn.empty(),ot.now()),Nv(n,l)&&(c=c.insert(u,l))}),c})}};var Gy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ls(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:c2(i.bundledQuery),readTime:Ls(i.readTime)}}(n)),x.resolve()}};var Wy=class{constructor(){this.overlays=new At(ie.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yi();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=yi(),s=n.length+1,o=new ie(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new At((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=yi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=yi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ky(n,r));let s=this.Ir.get(n);s===void 0&&(s=st(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Ky=class{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var ja=class{constructor(){this.Tr=new ht(Pe.Er),this.dr=new ht(Pe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ie(new $e([])),r=new Pe(n,e),i=new Pe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ie(new $e([])),r=new Pe(n,e),i=new Pe(n,e+1),s=st();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Pe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||ie.comparator(e.key,n.key)}};var Qy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(Pe.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Py(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Pe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ve);return n.forEach(i=>{let s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ie.isDocumentKey(s)||(s=s.child(""));let o=new Pe(new ie(s),0),c=new ht(ve);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Pe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Pe(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Yy=class{constructor(e){this.Mr=e,this.docs=function(){return new At(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():$s.newInvalidDocument(n))}getEntries(e,n){let r=yd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$s.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yd(),o=n.path,c=new ie(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Ij(_j(f),r)<=0||(i.has(f.key)||Nv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zy(this)}getSize(e){return x.resolve(this.size)}},Zy=class extends Hy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Jy=class{constructor(e){this.persistence=e,this.Nr=new Cr(n=>Av(n),Rv),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ja,this.targetCount=0,this.kr=Ua.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Xy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Dj(0),this.Kr=!1,this.Kr=!0,this.$r=new Ky,this.referenceDelegate=e(this),this.Ur=new Jy(this),this.indexManager=new By,this.remoteDocumentCache=function(i){return new Yy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jy(n),this.Gr=new Gy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Qy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new ev(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},ev=class extends gy{constructor(e){super(),this.currentSequenceNumber=e}},tv=class t{constructor(e){this.persistence=e,this.Jr=new ja,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var nv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=st(),i=st();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var rv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ab()?8:Ej(je())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new rv;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ma()<=oe.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ma()<=oe.DEBUG&&F("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ma()<=oe.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):x.resolve())}Yi(e,n){if(ZC(n))return x.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ny(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=st(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ny(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return ZC(n)||i.isEqual(Ae.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Ma()<=oe.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.rs(e,o,n,vj(i,-1)).next(c=>c))})}ts(e,n){let r=new ht(Lj(e));return n.forEach((i,s)=>{Nv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ma()<=oe.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ei.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var sv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new At(ve),this._s=new Cr(s=>Av(s),Rv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function u2(t,e,n,r){return new sv(t,e,n,r)}function FS(t,e){return I(this,null,function*(){let n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=st();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function l2(t,e){let n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),w=x.resolve();return _.forEach(S=>{w=w.next(()=>f.getEntry(u,S)).next(N=>{let M=l.docVersions.get(S);Re(M!==null),N.version.compareTo(M)<0&&(g.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=st();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function d2(t){let e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h2(t,e){let n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Id=class{constructor(){this.activeTargetIds=$j()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ov=class{constructor(){this.so=new Id,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Id,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var av=class{_o(e){}shutdown(){}};var wd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ad=null;function iy(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}var f2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var cv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var it="WebChannelConnection",uv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=iy(),u=this.xo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(F("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw ld("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=f2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=iy();return new Promise((o,c)=>{let u=new Xm;u.setWithCredentials(!0),u.listenOnce(ey.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Na.NO_ERROR:let f=u.getResponseJson();F(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Na.TIMEOUT:F(it,`RPC '${e}' ${s} timed out`),c(new z(R.DEADLINE_EXCEEDED,"Request time out"));break;case Na.HTTP_ERROR:let g=u.getStatus();if(F(it,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let S=function(M){let L=M.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(L)>=0?L:R.UNKNOWN}(w.status);c(new z(S,w.message))}else c(new z(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new z(R.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{F(it,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(it,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=iy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ry(),c=ny(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");F(it,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,w=!1,S=new cv({Io:M=>{w?F(it,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(_||(F(it,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),F(it,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),N=(M,L,K)=>{M.listen(L,X=>{try{K(X)}catch(he){setTimeout(()=>{throw he},0)}})};return N(g,Ps.EventType.OPEN,()=>{w||(F(it,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(g,Ps.EventType.CLOSE,()=>{w||(w=!0,F(it,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(g,Ps.EventType.ERROR,M=>{w||(w=!0,ld(it,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new z(R.UNAVAILABLE,"The operation could not be completed")))}),N(g,Ps.EventType.MESSAGE,M=>{var L;if(!w){let K=M.data[0];Re(!!K);let X=K,he=X.error||((L=X[0])===null||L===void 0?void 0:L.error);if(he){F(it,`RPC '${e}' stream ${i} received error:`,he);let qe=he.status,le=function(y){let E=xe[y];if(E!==void 0)return Yj(E)}(qe),D=he.message;le===void 0&&(le=R.INTERNAL,D="Unknown error status: "+qe+" with message "+he.message),w=!0,S.So(new z(le,D)),g.close()}else F(it,`RPC '${e}' stream ${i} received:`,K),S.bo(K)}}),N(c,ty.STAT_EVENT,M=>{M.stat===id.PROXY?F(it,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===id.NOPROXY&&F(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function sy(){return typeof document<"u"?document:null}function Pd(t){return new Ly(t,!0)}var Ed=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lv=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ed(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var dv=class extends lv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=i2(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=t2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>r2(this.serializer,r))};this.a_(n)}};var hv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Vy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Vy(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},fv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wi(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var pv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>I(this,null,function*(){za(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=_e(u);l.L_.add(4),yield qa(l),l.q_.set("Unknown"),l.L_.delete(4),yield Od(l)})}(this))}))}),this.q_=new fv(r,i)}};function Od(t){return I(this,null,function*(){if(za(t))for(let e of t.B_)yield e(!0)})}function qa(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function za(t){return _e(t).L_.size===0}function VS(t,e,n){return I(this,null,function*(){if(!xd(e))throw e;t.L_.add(1),yield qa(t),t.q_.set("Offline"),n||(n=()=>d2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Od(t)}))})}function US(t,e){return e().catch(n=>VS(t,n,e))}function kd(t){return I(this,null,function*(){let e=_e(t),n=Sr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p2(e);)try{let i=yield h2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,g2(e,i)}catch(i){yield VS(e,i)}jS(e)&&BS(e)})}function p2(t){return za(t)&&t.O_.length<10}function g2(t,e){t.O_.push(e);let n=Sr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jS(t){return za(t)&&!Sr(t).n_()&&t.O_.length>0}function BS(t){Sr(t).start()}function m2(t){return I(this,null,function*(){Sr(t).p_()})}function y2(t){return I(this,null,function*(){let e=Sr(t);for(let n of t.O_)e.m_(n.mutations)})}function v2(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=Oy.from(r,e,n);yield US(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield kd(t)})}function _2(t,e){return I(this,null,function*(){e&&Sr(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return Qj(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Sr(r).s_(),yield US(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield kd(r)}})}(t,e)),jS(t)&&BS(t)})}function rS(t,e){return I(this,null,function*(){let n=_e(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=za(n);n.L_.add(3),yield qa(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Od(n)})}function I2(t,e){return I(this,null,function*(){let n=_e(t);e?(n.L_.delete(2),yield Od(n)):e||(n.L_.add(2),yield qa(n),n.q_.set("Unknown"))})}function Sr(t){return t.U_||(t.U_=function(n,r,i){let s=_e(n);return s.w_(),new dv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:m2.bind(null,t),mo:_2.bind(null,t),f_:y2.bind(null,t),g_:v2.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield kd(t)):(yield t.U_.stop(),t.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var gv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $S(t,e){if(wi("AsyncQueue",`${e}: ${t}`),xd(t))return new z(R.UNAVAILABLE,`${e}: ${t}`);throw t}var mv=class{constructor(){this.queries=iS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=_e(n),s=i.queries;i.queries=iS(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new z(R.ABORTED,"Firestore shutting down"))}};function iS(){return new Cr(t=>TS(t),DS)}function w2(t){t.Y_.forEach(e=>{e.next()})}var sS,oS;(oS=sS||(sS={})).ea="default",oS.Cache="cache";var yv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cr(c=>TS(c),DS),this.Ma=new Map,this.xa=new Set,this.Oa=new At(ie.comparator),this.Na=new Map,this.La=new ja,this.Ba={},this.ka=new Map,this.qa=Ua.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function E2(t,e,n){return I(this,null,function*(){let r=C2(t);try{let i=yield function(o,c){let u=_e(o),l=ot.now(),f=c.reduce((w,S)=>w.add(S.key),st()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=yd(),N=st();return u.cs.getEntries(w,f).next(M=>{S=M,S.forEach((L,K)=>{K.isValidDocument()||(N=N.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,S)).next(M=>{g=M;let L=[];for(let K of c){let X=Kj(K,g.get(K.key).overlayedDocument);X!=null&&L.push(new Kn(K.key,X,yS(X.value.mapValue),_i.exists(!0)))}return u.mutationQueue.addMutationBatch(w,l,L,c)}).next(M=>{_=M;let L=M.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(w,M.batchId,L)})}).then(()=>({batchId:_.batchId,changes:CS(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new At(ve)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ld(r,i.changes),yield kd(r.remoteStore)}catch(i){let s=$S(i,"Failed to persist write");n.reject(s)}})}function aS(t,e,n){let r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=_e(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&w2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function D2(t,e){return I(this,null,function*(){let n=_e(t),r=e.batch.batchId;try{let i=yield l2(n.localStore,e);qS(n,r,null),HS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ld(n,i)}catch(i){yield hS(i)}})}function T2(t,e,n){return I(this,null,function*(){let r=_e(t);try{let i=yield function(o,c){let u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(Re(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);qS(r,e,n),HS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ld(r,i)}catch(i){yield hS(i)}})}function HS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qS(t,e,n){let r=_e(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ld(t,e,n){return I(this,null,function*(){let r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=nv.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let f=_e(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>x.forEach(l,_=>x.forEach(_.$i,w=>f.persistence.referenceDelegate.addReference(g,_.targetId,w)).next(()=>x.forEach(_.Ui,w=>f.persistence.referenceDelegate.removeReference(g,_.targetId,w)))))}catch(g){if(!xd(g))throw g;F("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let w=f.os.get(_),S=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(_,N)}}})}(r.localStore,s))})}function b2(t,e){return I(this,null,function*(){let n=_e(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield FS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new z(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ld(n,r.hs)}})}function C2(t){let e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T2.bind(null,e),e}var cS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=Pd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return u2(this.persistence,new iv,n.initialUser,this.serializer)}Ga(n){return new Xy(tv.Zr,this.serializer)}Wa(n){return new ov}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var S2=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),yield I2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new mv}()}createDatastore(n){let r=Pd(n.databaseInfo.databaseId),i=function(o){return new uv(o)}(n.databaseInfo);return function(o,c,u,l){return new hv(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new pv(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>aS(this.syncEngine,r,0),function(){return wd.D()?new wd:new av}())}createSyncEngine(n,r){return function(s,o,c,u,l,f,g){let _=new yv(s,o,c,u,l,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(s){return I(this,null,function*(){let o=_e(s);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield qa(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var vv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=$S(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function oy(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield FS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function uS(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield A2(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rS(e.remoteStore,i)),t._onlineComponents=e})}function A2(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ld("Error using user provided cache. Falling back to memory cache: "+n),yield oy(t,new cS)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield oy(t,new cS);return t._offlineComponents})}function R2(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield uS(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield uS(t,new S2))),t._onlineComponents})}function N2(t){return R2(t).then(e=>e.syncEngine)}function zS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var lS=new Map;function M2(t,e,n){if(!n)throw new z(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x2(t,e,n,r){if(e===!0&&r===!0)throw new z(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dS(t){if(!ie.isDocumentKey(t))throw new z(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function _v(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=xv(t);throw new z(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Dd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ba=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ay;switch(r.type){case"firstParty":return new dy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=lS.get(n);r&&(F("ComponentProvider","Removing Datastore"),lS.delete(n),r.terminate())}(this),Promise.resolve()}};function GS(t,e,n,r={}){var i;let s=(t=_v(t,Ba))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ld("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Be.MOCK_USER;else{c=Eb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Be(l)}t._authCredentials=new cy(new dd(c,u))}}var Iv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$a=class t extends Iv{constructor(e,n,r){super(e,n,Pj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function WS(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=hd.newId()),M2("doc","path",e),t instanceof Ba){let r=$e.fromString(e,...n);return dS(r),new Gn(t,null,new ie(r))}{if(!(t instanceof Gn||t instanceof $a))throw new z(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return dS(r),new Gn(t.firestore,t instanceof $a?t.converter:null,new ie(r))}}var Td=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ed(this,"async_queue_retry"),this.Vu=()=>{let r=sy();r&&F("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new zn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xd(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=gv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var bd=class extends Ba{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Td,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Td(e),this._firestoreClient=void 0,yield e}})}};function KS(t,e){let n=typeof t=="object"?t:Ss(),r=typeof t=="string"?t:e||"(default)",i=va(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=wb("firestore");s&&GS(i,...s)}return i}function P2(t){if(t._terminated)throw new z(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O2(t),t._firestoreClient}function O2(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new yy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,zS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Cd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Wn.fromBase64String(e))}catch(n){throw new z(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Sd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ad=class{constructor(e){this._methodName=e}};var Rd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var Nd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var k2=/^__.*__$/,wv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new bi(e,this.data,n,this.fieldTransforms)}};function QS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var Ev=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Md(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QS(this.Cu)&&k2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Dv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pd(e)}Qu(e,n,r,i=!1){return new Ev({Cu:e,methodName:n,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function L2(t){let e=t._freezeSettings(),n=Pd(t._databaseId);return new Dv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F2(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);XS("Data must be an object, but it was:",o,r);let c=ZS(r,o),u,l;if(s.merge)u=new pn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=V2(e,g,n);if(!o.contains(_))throw new z(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);B2(f,_)||f.push(_)}u=new pn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new wv(new fn(c),u,l)}function YS(t,e){if(JS(t=Ct(t)))return XS("Unsupported field value:",e,t),ZS(t,e);if(t instanceof Ad)return function(r,i){if(!QS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=YS(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ot.fromDate(r);return{timestampValue:Fy(i.serializer,s)}}if(r instanceof ot){let s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fy(i.serializer,s)}}if(r instanceof Rd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cd)return{bytesValue:Zj(i.serializer,r._byteString)};if(r instanceof Gn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Mv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${xv(r)}`)}(t,e)}function ZS(t,e){let n={};return fS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,i)=>{let s=YS(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Rd||t instanceof Cd||t instanceof Gn||t instanceof Ad||t instanceof Nd)}function XS(t,e,n){if(!JS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=xv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function V2(t,e,n){if((e=Ct(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return j2(t,e);throw Md("Field path arguments must be of type string or ",t,!1,void 0,n)}var U2=new RegExp("[~\\*/\\[\\]]");function j2(t,e,n){if(e.search(U2)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Md(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new z(R.INVALID_ARGUMENT,c+t+u)}function B2(t,e){return t.some(n=>n.isEqual(e))}function $2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function e0(t,e,n){t=_v(t,Gn);let r=_v(t.firestore,bd),i=$2(t.converter,e,n);return H2(r,[F2(L2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_i.none())])}function H2(t,e){return function(r,i){let s=new zn;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return E2(yield N2(r),i,s)})),s.promise}(P2(t),e)}(function(e,n=!0){(function(i){Ys=i})(_r),vr(new kt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new bd(new uy(r.getProvider("auth-internal")),new fy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vy(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Fe(qC,"4.7.3",e),Fe(qC,"4.7.3","esm2017")})();var Ga=class{constructor(e){return e}},t0="firestore",Pv=class{constructor(){return _a(t0)}};var Ov=new B("angularfire2.firestore-instances");function q2(t,e){let n=Fl(t0,t,e);return n&&new Ga(n)}function z2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ga(r)}}var G2={provide:Pv,deps:[[new rt,Ov]]},W2={provide:Ga,useFactory:q2,deps:[[new rt,Ov],jn]};function BK(t,...e){return Fe("angularfire",di.full,"fst"),tn([W2,G2,{provide:Ov,useFactory:z2(t),multi:!0,deps:[fe,Ye,Ns,hi,[new rt,Ra],[new rt,Rs],...e]}])}var $K=un(WS,!0);var HK=un(KS,!0);var qK=un(e0,!0);export{k as a,me as b,K2 as c,I as d,Ve as e,vh as f,ee as g,Ne as h,Ge as i,er as j,We as k,V$ as l,we as m,q as n,se as o,Eo as p,Uc as q,pA as r,Sh as s,Lr as t,wA as u,EA as v,ut as w,En as x,DA as y,Dn as z,_t as A,TA as B,bA as C,AA as D,qi as E,RA as F,xh as G,NA as H,MA as I,Bc as J,It as K,$c as L,xA as M,Me as N,PA as O,OA as P,j as Q,_w as R,U as S,ko as T,B as U,Q as V,P as W,rt as X,gW as Y,Kf as Z,Aw as _,Ow as $,Fo as aa,ur as ba,kw as ca,wt as da,Gw as ea,Zr as fa,mW as ga,yW as ha,up as ia,Ye as ja,qu as ka,Qe as la,fe as ma,Mn as na,df as oa,sn as pa,vW as qa,_W as ra,IW as sa,wW as ta,EW as ua,Te as va,Kr as wa,ss as xa,$o as ya,Pn as za,dr as Aa,eP as Ba,CW as Ca,rP as Da,SW as Ea,pP as Fa,kp as Ga,Lp as Ha,AP as Ia,UD as Ja,RP as Ka,AW as La,BD as Ma,$D as Na,Fp as Oa,HD as Pa,qD as Qa,HP as Ra,RW as Sa,zP as Ta,GP as Ua,Vp as Va,NW as Wa,MW as Xa,xW as Ya,GD as Za,PW as _a,WD as $a,KD as ab,OW as bb,kW as cb,tO as db,nO as eb,rO as fb,LW as gb,iO as hb,FW as ib,YD as jb,VW as kb,UW as lb,jW as mb,BW as nb,$W as ob,HW as pb,qW as qb,zW as rb,GW as sb,hs as tb,WW as ub,hr as vb,Ho as wb,KW as xb,$p as yb,OO as zb,QW as Ab,ii as Bb,dt as Cb,_3 as Db,I3 as Eb,w3 as Fb,E3 as Gb,$O as Hb,qO as Ib,ig as Jb,yT as Kb,G3 as Lb,W3 as Mb,Hk as Nb,PT as Ob,d6 as Pb,h6 as Qb,f6 as Rb,n8 as Sb,r8 as Tb,Aa as Ub,Y8 as Vb,Z8 as Wb,J8 as Xb,X8 as Yb,Ga as Zb,BK as _b,$K as $b,HK as ac,qK as bc};
