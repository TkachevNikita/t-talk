var xN=Object.defineProperty,PN=Object.defineProperties;var ON=Object.getOwnPropertyDescriptors;var ru=Object.getOwnPropertySymbols,kN=Object.getPrototypeOf,Lw=Object.prototype.hasOwnProperty,Fw=Object.prototype.propertyIsEnumerable,LN=Reflect.get;var kw=(t,e,n)=>e in t?xN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})Lw.call(e,n)&&kw(t,n,e[n]);if(ru)for(var n of ru(e))Fw.call(e,n)&&kw(t,n,e[n]);return t},Te=(t,e)=>PN(t,ON(e));var Mq=(t,e)=>{var n={};for(var r in t)Lw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ru)for(var r of ru(t))e.indexOf(r)<0&&Fw.call(t,r)&&(n[r]=t[r]);return n};var Dr=(t,e,n)=>LN(kN(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function Rf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Pq(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Uw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Vw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ui(t){return this instanceof ui?(this.v=t,this):new ui(t)}function jw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(N){return new Promise(function(R,k){s.push([y,N,R,k])>1||u(y,N)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof ui?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Bw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vw=="function"?Vw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var cs=t=>t&&typeof t.length=="number"&&typeof t!="function";function z(t){return typeof t=="function"}function iu(t){return z(t?.then)}function us(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var su=us(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function li(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(s){e=s instanceof su?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$w(s)}catch(o){e=e??[],o instanceof su?e=[...e,...o.errors]:e.push(o)}}if(e)throw new su(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$w(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&li(n,e)}remove(e){let{_finalizers:n}=this;n&&li(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Nf=Fe.EMPTY;function ou(t){return t instanceof Fe||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function $w(t){z(t)?t():t.unsubscribe()}var Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ls={setTimeout(t,e,...n){let{delegate:r}=ls;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ls;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function au(t){ls.setTimeout(()=>{let{onUnhandledError:e}=Yt;if(e)e(t);else throw t})}function xt(){}var Hw=Mf("C",void 0,void 0);function qw(t){return Mf("E",void 0,t)}function zw(t){return Mf("N",t,void 0)}function Mf(t,e,n){return{kind:t,value:e,error:n}}var di=null;function ds(t){if(Yt.useDeprecatedSynchronousErrorHandling){let e=!di;if(e&&(di={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=di;if(di=null,n)throw r}}else t()}function Gw(t){Yt.useDeprecatedSynchronousErrorHandling&&di&&(di.errorThrown=!0,di.error=t)}var hi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ou(e)&&e.add(this)):this.destination=UN}static create(e,n,r){return new jn(e,n,r)}next(e){this.isStopped?Pf(zw(e),this):this._next(e)}error(e){this.isStopped?Pf(qw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pf(Hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FN=Function.prototype.bind;function xf(t,e){return FN.call(t,e)}var Of=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cu(r)}else cu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cu(n)}}},jn=class extends hi{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Yt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xf(e.next,s),error:e.error&&xf(e.error,s),complete:e.complete&&xf(e.complete,s)}):i=e}this.destination=new Of(i)}};function cu(t){Yt.useDeprecatedSynchronousErrorHandling?Gw(t):au(t)}function VN(t){throw t}function Pf(t,e){let{onStoppedNotification:n}=Yt;n&&ls.setTimeout(()=>n(t,e))}var UN={closed:!0,next:xt,error:VN,complete:xt};var hs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ye(t){return t}function kf(...t){return Lf(t)}function Lf(t){return t.length===0?Ye:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=BN(n)?n:new jn(n,r,i);return ds(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ww(r),new r((i,s)=>{let o=new jn({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hs](){return this}pipe(...n){return Lf(n)(this)}toPromise(n){return n=Ww(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ww(t){var e;return(e=t??Yt.Promise)!==null&&e!==void 0?e:Promise}function jN(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function BN(t){return t&&t instanceof hi||jN(t)&&ou(t)}function uu(t){return z(t[hs])}function lu(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $N(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hu=$N();function fu(t){return z(t?.[hu])}function pu(t){return jw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ui(n.read());if(i)return yield ui(void 0);yield yield ui(r)}}finally{n.releaseLock()}})}function gu(t){return z(t?.getReader)}function ue(t){if(t instanceof re)return t;if(t!=null){if(uu(t))return HN(t);if(cs(t))return qN(t);if(iu(t))return zN(t);if(lu(t))return Kw(t);if(fu(t))return GN(t);if(gu(t))return WN(t)}throw du(t)}function HN(t){return new re(e=>{let n=t[hs]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qN(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zN(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,au)})}function GN(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kw(t){return new re(e=>{KN(t,e).catch(n=>e.error(n))})}function WN(t){return Kw(pu(t))}function KN(t,e){var n,r,i,s;return Uw(this,void 0,void 0,function*(){try{for(n=Bw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ff(t){return z(t?.lift)}function W(t){return e=>{if(Ff(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new Vf(t,e,n,r,i)}var Vf=class extends hi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pt(t,e){return W((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(j(r,u=>{i?.unsubscribe();let l=0,h=s++;ue(t(u,h)).subscribe(i=j(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fs(){return W((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ps=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return fs()(this)}};var Qw=us(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new mu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qw}next(n){ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Nf:(this.currentObservers=null,s.push(n),new Fe(()=>{this.currentObservers=null,li(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new mu(e,n),t})(),mu=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Nf}};var tt=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ea={now(){return(ea.delegate||Date).now()},delegate:void 0};var yu=class extends je{constructor(e=1/0,n=1/0,r=ea){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}};var vu=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var ta={setInterval(t,e,...n){let{delegate:r}=ta;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ta;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gs=class extends vu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ta.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,li(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ms.now=ea.now;var ys=class extends ms{constructor(e,n=ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Tr=new ys(gs),Uf=Tr;var _u=class extends gs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Iu=class extends ys{};var jf=new Iu(_u);var nt=new re(t=>t.complete());function wu(t){return t&&z(t.schedule)}function Bf(t){return t[t.length-1]}function vs(t){return z(Bf(t))?t.pop():void 0}function dn(t){return wu(Bf(t))?t.pop():void 0}function Yw(t,e){return typeof Bf(t)=="number"?t.pop():e}function Ct(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function br(t,e=0){return W((n,r)=>{n.subscribe(j(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function Cr(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Zw(t,e){return ue(t).pipe(Cr(e),br(e))}function Jw(t,e){return ue(t).pipe(Cr(e),br(e))}function Xw(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eE(t,e){return new re(n=>{let r;return Ct(n,e,()=>{r=t[hu](),Ct(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function Eu(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tE(t,e){return Eu(pu(t),e)}function nE(t,e){if(t!=null){if(uu(t))return Zw(t,e);if(cs(t))return Xw(t,e);if(iu(t))return Jw(t,e);if(lu(t))return Eu(t,e);if(fu(t))return eE(t,e);if(gu(t))return tE(t,e)}throw du(t)}function Re(t,e){return e?nE(t,e):ue(t)}function G(...t){let e=dn(t);return Re(t,e)}function _s(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function $f(t){return!!t&&(t instanceof re||z(t.lift)&&z(t.subscribe))}var Bn=us(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function rE(t){return t instanceof Date&&!isNaN(t)}function de(t,e){return W((n,r)=>{let i=0;n.subscribe(j(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:QN}=Array;function YN(t,e){return QN(e)?t(...e):t(e)}function Is(t){return de(e=>YN(t,e))}var{isArray:ZN}=Array,{getPrototypeOf:JN,prototype:XN,keys:eM}=Object;function Du(t){if(t.length===1){let e=t[0];if(ZN(e))return{args:e,keys:null};if(tM(e)){let n=eM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tM(t){return t&&typeof t=="object"&&JN(t)===XN}function Tu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function na(...t){let e=dn(t),n=vs(t),{args:r,keys:i}=Du(t);if(r.length===0)return Re([],e);let s=new re(nM(r,e,i?o=>Tu(i,o):Ye));return n?s.pipe(Is(n)):s}function nM(t,e,n=Ye){return r=>{iE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)iE(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(j(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iE(t,e,n){t?Ct(n,t,e):e()}function sE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?b(N):u.push(N),b=N=>{s&&e.next(N),l++;let R=!1;ue(n(N,h++)).subscribe(j(e,k=>{i?.(k),s?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();o?Ct(e,o,()=>b(k)):b(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(j(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ne(t,e,n=1/0){return z(e)?Ne((r,i)=>de((s,o)=>e(r,s,i,o))(ue(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>sE(r,i,t,n)))}function hn(t=1/0){return Ne(Ye,t)}function oE(){return hn(1)}function fn(...t){return oE()(Re(t,dn(t)))}function bu(t){return new re(e=>{ue(t()).subscribe(e)})}function rM(...t){let e=vs(t),{args:n,keys:r}=Du(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;ue(n[h]).subscribe(j(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Tu(r,a):a),s.complete())}))}});return e?i.pipe(Is(e)):i}var iM=["addListener","removeListener"],sM=["addEventListener","removeEventListener"],oM=["on","off"];function Hf(t,e,n,r){if(z(n)&&(r=n,n=void 0),r)return Hf(t,e,n).pipe(Is(r));let[i,s]=uM(t)?sM.map(o=>a=>t[o](e,a,n)):aM(t)?iM.map(aE(t,e)):cM(t)?oM.map(aE(t,e)):[];if(!i&&cs(t))return Ne(o=>Hf(o,e,n))(ue(t));if(!i)throw new TypeError("Invalid event target");return new re(o=>{let a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function aE(t,e){return n=>r=>t[n](e,r)}function aM(t){return z(t.addListener)&&z(t.removeListener)}function cM(t){return z(t.on)&&z(t.off)}function uM(t){return z(t.addEventListener)&&z(t.removeEventListener)}function fi(t=0,e,n=Uf){let r=-1;return e!=null&&(wu(e)?n=e:r=e),new re(i=>{let s=rE(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function lM(...t){let e=dn(t),n=Yw(t,1/0),r=t;return r.length?r.length===1?ue(r[0]):hn(n)(Re(r,e)):nt}var dM=new re(xt);function wt(t,e){return W((n,r)=>{let i=0;n.subscribe(j(r,s=>t.call(e,s,i++)&&r.next(s)))})}function $n(t){return W((e,n)=>{let r=null,i=!1,s;r=e.subscribe(j(n,void 0,void 0,o=>{s=ue(t(o,$n(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function cE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(j(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function pi(t,e){return z(e)?Ne(t,e,1):Ne(t,1)}function hM(t){return W((e,n)=>{let r=!1,i=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let a=i;i=null,n.next(a)}};e.subscribe(j(n,a=>{s?.unsubscribe(),r=!0,i=a,s=j(n,o,xt),ue(t(a)).subscribe(s)},()=>{o(),n.complete()},void 0,()=>{i=s=null}))})}function Hn(t){return W((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ot(t){return t<=0?()=>nt:W((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uE(){return W((t,e)=>{t.subscribe(j(e,xt))})}function ra(t){return de(()=>t)}function qf(t,e){return e?n=>fn(e.pipe(Ot(1),uE()),n.pipe(qf(t))):Ne((n,r)=>ue(t(n,r)).pipe(Ot(1),ra(n)))}function fM(t,e=Tr){let n=fi(t,e);return qf(()=>n)}function pM(t,e=Ye){return t=t??gM,W((n,r)=>{let i,s=!0;n.subscribe(j(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function gM(t,e){return t===e}function Cu(t=mM){return W((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mM(){return new Bn}function yM(...t){return e=>fn(e,G(...t))}function ws(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):Ye,Ot(1),n?Hn(e):Cu(()=>new Bn))}function Es(t){return t<=0?()=>nt:W((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):Ye,Es(1),n?Hn(e):Cu(()=>new Bn))}function vM(t){let e=1/0,n;return t!=null&&(typeof t=="object"?{count:e=1/0,delay:n}=t:e=t),e<=0?()=>nt:W((r,i)=>{let s=0,o,a=()=>{if(o?.unsubscribe(),o=null,n!=null){let l=typeof n=="number"?fi(n):ue(n(s)),h=j(i,()=>{h.unsubscribe(),u()});l.subscribe(h)}else u()},u=()=>{let l=!1;o=r.subscribe(j(i,void 0,()=>{++s<e?o?a():l=!0:i.complete()})),l&&a()};u()})}function Gf(t,e){return W(cE(t,e,arguments.length>=2,!0))}function Kf(t={}){let{connector:e=()=>new je,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,h=p=!1},b=()=>{let N=o;y(),N?.unsubscribe()};return W((N,R)=>{l++,!p&&!h&&m();let k=u=u??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=Wf(b,i))}),k.subscribe(R),!o&&l>0&&(o=new jn({next:U=>k.next(U),error:U=>{p=!0,m(),a=Wf(y,n,U),k.error(U)},complete:()=>{h=!0,m(),a=Wf(y,r),k.complete()}}),ue(N).subscribe(o))})(s)}}function Wf(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new jn({next:()=>{r.unsubscribe(),t()}});return ue(e(...n)).subscribe(r)}function _M(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Kf({connector:()=>new yu(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function IM(t){return wt((e,n)=>t<=n)}function Su(...t){let e=dn(t);return W((n,r)=>{(e?fn(t,n,e):fn(t,n)).subscribe(r)})}function Au(t){return W((e,n)=>{ue(t).subscribe(j(n,()=>n.complete(),xt)),!n.closed&&e.subscribe(n)})}function wM(t,e=!1){return W((n,r)=>{let i=0;n.subscribe(j(r,s=>{let o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function Be(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(j(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ye}function lE(t,e){return W((n,r)=>{let{leading:i=!0,trailing:s=!1}=e??{},o=!1,a=null,u=null,l=!1,h=()=>{u?.unsubscribe(),u=null,s&&(y(),l&&r.complete())},p=()=>{u=null,l&&r.complete()},m=b=>u=ue(t(b)).subscribe(j(r,h,p)),y=()=>{if(o){o=!1;let b=a;a=null,r.next(b),!l&&m(b)}};n.subscribe(j(r,b=>{o=!0,a=b,!(u&&!u.closed)&&(i?y():m(b))},()=>{l=!0,!(s&&o&&u&&!u.closed)&&r.complete()}))})}function EM(t,e=Tr,n){let r=fi(t,e);return lE(()=>r,n)}function DM(...t){let e=vs(t);return W((n,r)=>{let i=t.length,s=new Array(i),o=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)ue(t[u]).subscribe(j(r,l=>{s[u]=l,!a&&!o[u]&&(o[u]=!0,(a=o.every(Ye))&&(o=null))},xt));n.subscribe(j(r,u=>{if(a){let l=[u,...s];r.next(e?e(...l):l)}}))})}function dE(t,e){return Object.is(t,e)}var We=null,ia=!1,Ru=1,gn=Symbol("SIGNAL");function le(t){let e=We;return We=t,e}function hE(){return We}function TM(){return ia}var Ds={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jf(t){if(ia)throw new Error("");if(We===null)return;We.consumerOnSignalRead(t);let e=We.nextProducerIndex++;if(ku(We),e<We.producerNode.length&&We.producerNode[e]!==t&&sa(We)){let n=We.producerNode[e];Ou(n,We.producerIndexOfThis[e])}We.producerNode[e]!==t&&(We.producerNode[e]=t,We.producerIndexOfThis[e]=sa(We)?yE(t,We,e):0),We.producerLastReadVersion[e]=t.version}function bM(){Ru++}function fE(t){if(!(sa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ru)){if(!t.producerMustRecompute(t)&&!xu(t)){t.dirty=!1,t.lastCleanEpoch=Ru;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ru}}function pE(t){if(t.liveConsumerNode===void 0)return;let e=ia;ia=!0;try{for(let n of t.liveConsumerNode)n.dirty||mE(n)}finally{ia=e}}function gE(){return We?.consumerAllowSignalWrites!==!1}function mE(t){t.dirty=!0,pE(t),t.consumerMarkedDirty?.(t)}function oa(t){return t&&(t.nextProducerIndex=0),le(t)}function Mu(t,e){if(le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ou(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xu(t){ku(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fE(n),r!==n.version))return!0}return!1}function Pu(t){if(ku(t),sa(t))for(let e=0;e<t.producerNode.length;e++)Ou(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yE(t,e,n){if(vE(t),t.liveConsumerNode.length===0&&_E(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=yE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ou(t,e){if(vE(t),t.liveConsumerNode.length===1&&_E(t))for(let r=0;r<t.producerNode.length;r++)Ou(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ku(i),i.producerIndexOfThis[r]=e}}function sa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ku(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function vE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _E(t){return t.producerNode!==void 0}function IE(t){let e=Object.create(CM);e.computation=t;let n=()=>{if(fE(e),Jf(e),e.value===Nu)throw e.error;return e.value};return n[gn]=e,n}var Qf=Symbol("UNSET"),Yf=Symbol("COMPUTING"),Nu=Symbol("ERRORED"),CM=Te(F({},Ds),{value:Qf,dirty:!0,error:null,equal:dE,producerMustRecompute(t){return t.value===Qf||t.value===Yf},producerRecomputeValue(t){if(t.value===Yf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Yf;let n=oa(t),r;try{r=t.computation()}catch(i){r=Nu,t.error=i}finally{Mu(t,n)}if(e!==Qf&&e!==Nu&&r!==Nu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function SM(){throw new Error}var wE=SM;function EE(){wE()}function DE(t){wE=t}var AM=null;function TE(t){let e=Object.create(CE);e.value=t;let n=()=>(Jf(e),e.value);return n[gn]=e,n}function Xf(t,e){gE()||EE(),t.equal(t.value,e)||(t.value=e,RM(t))}function bE(t,e){gE()||EE(),Xf(t,e(t.value))}var CE=Te(F({},Ds),{equal:dE,value:void 0});function RM(t){t.version++,bM(),pE(t),AM?.()}function SE(t,e,n){let r=Object.create(NM);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=u=>{r.cleanupFn=u};function s(u){return u.fn===null&&u.schedule===null}function o(u){s(u)||(Pu(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=Zf)}let a=()=>{if(r.fn===null)return;if(TM())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!xu(r))return;r.hasRun=!0;let u=oa(r);try{r.cleanupFn(),r.cleanupFn=Zf,r.fn(i)}finally{Mu(r,u)}};return r.ref={notify:()=>mE(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[gn]:r},r.ref}var Zf=()=>{},NM=Te(F({},Ds),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Zf});var _D="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(vg(e,n)),this.code=e}};function vg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ma(t){return{toString:t}.toString()}var Lu="__parameters__";function MM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function _g(t,e,n){return ma(()=>{let r=MM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Lu)?u[Lu]:Object.defineProperty(u,Lu,{value:[]})[Lu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qn=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function xM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function AE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var PM=be({__forward_ref__:be});function ID(t){return t.__forward_ref__=ID,t.toString=function(){return Et(this())},t}function rt(t){return wD(t)?t():t}function wD(t){return typeof t=="function"&&t.hasOwnProperty(PM)&&t.__forward_ref__===ID}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ya(t){return{providers:t.providers||[],imports:t.imports||[]}}function bl(t){return RE(t,DD)||RE(t,TD)}function ED(t){return bl(t)!==null}function RE(t,e){return t.hasOwnProperty(e)?t[e]:null}function OM(t){let e=t&&(t[DD]||t[TD]);return e||null}function NE(t){return t&&(t.hasOwnProperty(ME)||t.hasOwnProperty(kM))?t[ME]:null}var DD=be({\u0275prov:be}),ME=be({\u0275inj:be}),TD=be({ngInjectableDef:be}),kM=be({ngInjectorDef:be}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bD(t){return t&&!!t.\u0275providers}var LM=be({\u0275cmp:be}),FM=be({\u0275dir:be}),VM=be({\u0275pipe:be}),UM=be({\u0275mod:be}),Yu=be({\u0275fac:be}),ca=be({__NG_ELEMENT_ID__:be}),xE=be({__NG_ENV_ID__:be});function yi(t){return typeof t=="string"?t:t==null?"":String(t)}function jM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yi(t)}function BM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Ig(t,e){throw new $(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),pp;function CD(){return pp}function St(t){let e=pp;return pp=t,e}function SD(t,e,n){let r=bl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;Ig(t,"Injector")}var $M={},ua=$M,gp="__NG_DI_FLAG__",Zu="ngTempTokenPath",HM="ngTokenPath",qM=/\n/gm,zM="\u0275",PE="__source",As;function GM(){return As}function Sr(t){let e=As;return As=t,e}function WM(t,e=ae.Default){if(As===void 0)throw new $(-203,!1);return As===null?SD(t,void 0,e):As.get(t,e&ae.Optional?null:void 0,e)}function X(t,e=ae.Default){return(CD()||WM)(rt(t),e)}function P(t,e=ae.Default){return X(t,Cl(e))}function Cl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mp(t){let e=[];for(let n=0;n<t.length;n++){let r=rt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],u=KM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(X(i,s))}else e.push(X(r))}return e}function wg(t,e){return t[gp]=e,t.prototype[gp]=e,t}function KM(t){return t[gp]}function QM(t,e,n,r){let i=t[Zu];throw e[PE]&&i.unshift(e[PE]),t.message=YM(`
`+t.message,i,n,r),t[HM]=i,t[Zu]=null,t}function YM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==zM?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qM,`
  `)}`}var gt=wg(_g("Optional"),8),J8=wg(_g("Self"),2),Eg=wg(_g("SkipSelf"),4);function vi(t,e){let n=t.hasOwnProperty(Yu);return n?t[Yu]:null}function ZM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function JM(t){return t.flat(Number.POSITIVE_INFINITY)}function Dg(t,e){t.forEach(n=>Array.isArray(n)?Dg(n,e):e(n))}function AD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ju(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function XM(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function ex(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function tx(t,e,n){let r=va(t,e);return r>=0?t[r|1]=n:(r=~r,ex(t,r,e,n)),r}function ep(t,e){let n=va(t,e);if(n>=0)return t[n|1]}function va(t,e){return nx(t,e,1)}function nx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var zn={},$t=[],Ns=new B(""),RD=new B("",-1),ND=new B(""),Xu=class{get(e,n=ua){if(n===ua){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}},MD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(MD||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{}),Nr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nr||{});function rx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function yp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];ix(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function xD(t){return t===3||t===4||t===6}function ix(t){return t.charCodeAt(0)===64}function la(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?OE(t,n,i,null,e[++r]):OE(t,n,i,null,null))}}return t}function OE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var PD="ng-template";function sx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Tg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Tg(t){return t.type===4&&t.value!==PD}function ox(t,e,n){let r=t.type===4&&!n?PD:t.value;return e===r}function ax(t,e,n){let r=4,i=t.attrs,s=i!==null?lx(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Zt(r)&&!Zt(u))return!1;if(o&&Zt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!ox(t,u,n)||u===""&&e.length===1){if(Zt(r))return!1;o=!0}}else if(r&8){if(i===null||!sx(t,i,u,n)){if(Zt(r))return!1;o=!0}}else{let l=e[++a],h=cx(u,i,Tg(t),n);if(h===-1){if(Zt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Zt(r))return!1;o=!0}}}}return Zt(r)||o}function Zt(t){return(t&1)===0}function cx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return dx(e,t)}function OD(t,e,n=!1){for(let r=0;r<e.length;r++)if(ax(t,e[r],n))return!0;return!1}function ux(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function lx(t){for(let e=0;e<t.length;e++){let n=t[e];if(xD(n))return e}return t.length}function dx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hx(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function kE(t,e){return t?":not("+e.trim()+")":e}function fx(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Zt(o)&&(e+=kE(s,i),i=""),r=o,s=s||!Zt(r);n++}return i!==""&&(e+=kE(s,i)),e}function px(t){return t.map(fx).join(",")}function gx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Zt(i))break;i=s}r++}return{attrs:e,classes:n}}function kD(t){return ma(()=>{let e=UD(t),n=Te(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===MD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});jD(n);let r=t.dependencies;return n.directiveDefs=FE(r,!1),n.pipeDefs=FE(r,!0),n.id=vx(n),n})}function mx(t){return Gn(t)||Cg(t)}function yx(t){return t!==null}function _a(t){return ma(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LE(t,e){if(t==null)return zn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Nr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Nr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Xt(t){return ma(()=>{let e=UD(t);return jD(e),e})}function bg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gn(t){return t[LM]||null}function Cg(t){return t[FM]||null}function LD(t){return t[VM]||null}function FD(t){let e=Gn(t)||Cg(t)||LD(t);return e!==null?e.standalone:!1}function VD(t,e){let n=t[UM]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function UD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LE(t.inputs,e),outputs:LE(t.outputs),debugInfo:null}}function jD(t){t.features?.forEach(e=>e(t))}function FE(t,e){if(!t)return null;let n=e?LD:mx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yx)}function vx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function En(t){return{\u0275providers:t}}function _x(...t){return{\u0275providers:BD(!0,t),\u0275fromNgModule:!0}}function BD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Dg(e,o=>{let a=o;vp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$D(i,s),n}function $D(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sg(i,s=>{e(s,r)})}}function vp(t,e,n,r){if(t=rt(t),!t)return!1;let i=null,s=NE(t),o=!s&&Gn(t);if(!s&&!o){let u=t.ngModule;if(s=NE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)vp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Dg(s.imports,h=>{vp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&$D(l,e)}if(!a){let l=vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:ND,useValue:i,multi:!0},i),e({provide:Ns,useValue:()=>X(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Sg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sg(t,e){for(let n of t)bD(n)&&(n=n.\u0275providers),Array.isArray(n)?Sg(n,e):e(n)}var Ix=be({provide:String,useValue:be});function HD(t){return t!==null&&typeof t=="object"&&Ix in t}function wx(t){return!!(t&&t.useExisting)}function Ex(t){return!!(t&&t.useFactory)}function Ms(t){return typeof t=="function"}function Dx(t){return!!t.useClass}var Sl=new B(""),Hu={},Tx={},tp;function Al(){return tp===void 0&&(tp=new Xu),tp}var kt=class{},da=class extends kt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ip(e,o=>this.processProvider(o)),this.records.set(RD,Ts(void 0,this)),i.has("environment")&&this.records.set(kt,Ts(void 0,this));let s=this.records.get(Sl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ND,$t,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Sr(this),r=St(void 0),i;try{return e()}finally{Sr(n),St(r)}}get(e,n=ua,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xE))return e[xE](this);r=Cl(r);let i,s=Sr(this),o=St(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Rx(e)&&bl(e);l&&this.injectableDefInScope(l)?u=Ts(_p(e),Hu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?Al():this.parent;return n=r&ae.Optional&&n===ua?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zu]=a[Zu]||[]).unshift(Et(e)),s)throw a;return QM(a,e,"R3InjectorError",this.source)}else throw a}finally{St(o),Sr(s)}}resolveInjectorInitializers(){let e=le(null),n=Sr(this),r=St(void 0),i;try{let s=this.get(Ns,$t,ae.Self);for(let o of s)o()}finally{Sr(n),St(r),le(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=rt(e);let n=Ms(e)?e:rt(e&&e.provide),r=Cx(e);if(!Ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ts(void 0,Hu,!0),i.factory=()=>mp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=le(null);try{return n.value===Hu&&(n.value=Tx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ax(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=rt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _p(t){let e=bl(t),n=e!==null?e.factory:vi(t);if(n!==null)return n;if(t instanceof B)throw new $(204,!1);if(t instanceof Function)return bx(t);throw new $(204,!1)}function bx(t){if(t.length>0)throw new $(204,!1);let n=OM(t);return n!==null?()=>n.factory(t):()=>new t}function Cx(t){if(HD(t))return Ts(void 0,t.useValue);{let e=qD(t);return Ts(e,Hu)}}function qD(t,e,n){let r;if(Ms(t)){let i=rt(t);return vi(i)||_p(i)}else if(HD(t))r=()=>rt(t.useValue);else if(Ex(t))r=()=>t.useFactory(...mp(t.deps||[]));else if(wx(t))r=()=>X(rt(t.useExisting));else{let i=rt(t&&(t.useClass||t.provide));if(Sx(t))r=()=>new i(...mp(t.deps));else return vi(i)||_p(i)}return r}function Ts(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Sx(t){return!!t.deps}function Ax(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Rx(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Ip(t,e){for(let n of t)Array.isArray(n)?Ip(n,e):n&&bD(n)?Ip(n.\u0275providers,e):e(n)}function Dn(t,e){t instanceof da&&t.assertNotDestroyed();let n,r=Sr(t),i=St(void 0);try{return e()}finally{Sr(r),St(i)}}function zD(){return CD()!==void 0||GM()!=null}function GD(t){if(!zD())throw new $(-203,!1)}function Nx(t){return typeof t=="function"}var Tn=0,ee=1,Q=2,pt=3,Jt=4,Rt=5,xs=6,el=7,ht=8,Ps=9,_n=10,xe=11,ha=12,VE=13,Bs=14,Lt=15,_i=16,bs=17,Wn=18,Rl=19,WD=20,Ar=21,qu=22,Ht=23,$e=25,Ag=1;var Ii=7,tl=8,Os=9,ft=10,nl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(nl||{});function Rr(t){return Array.isArray(t)&&typeof t[Ag]=="object"}function Jn(t){return Array.isArray(t)&&t[Ag]===!0}function Rg(t){return(t.flags&4)!==0}function Nl(t){return t.componentOffset>-1}function Ml(t){return(t.flags&1)===1}function Kn(t){return!!t.template}function wp(t){return(t[Q]&512)!==0}var Ep=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function KD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ai(){return QD}function QD(t){return t.type.prototype.ngOnChanges&&(t.setInput=xx),Mx}Ai.ngInherit=!0;function Mx(){let t=ZD(this),e=t?.current;if(e){let n=t.previous;if(n===zn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xx(t,e,n,r,i){let s=this.declaredInputs[r],o=ZD(t)||Px(t,{previous:zn,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Ep(l&&l.currentValue,n,u===zn),KD(t,e,i,n)}var YD="__ngSimpleChanges__";function ZD(t){return t[YD]||null}function Px(t,e){return t[YD]=e}var UE=null;var mn=function(t,e,n){UE?.(t,e,n)},Ox="svg",kx="math";function In(t){for(;Array.isArray(t);)t=t[Tn];return t}function Lx(t){for(;Array.isArray(t);){if(typeof t[Ag]=="object")return t;t=t[Tn]}return null}function JD(t,e){return In(e[t])}function qt(t,e){return In(e[t.index])}function Ng(t,e){return t.data[e]}function Ia(t,e){return t[e]}function Or(t,e){let n=e[t];return Rr(n)?n:n[Tn]}function Fx(t){return(t[Q]&4)===4}function Mg(t){return(t[Q]&128)===128}function Vx(t){return Jn(t[pt])}function Mr(t,e){return e==null?null:t[e]}function XD(t){t[bs]=0}function eT(t){t[Q]&1024||(t[Q]|=1024,Mg(t)&&Pl(t))}function Ux(t,e){for(;t>0;)e=e[Bs],t--;return e}function xl(t){return!!(t[Q]&9216||t[Ht]?.dirty)}function Dp(t){t[_n].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),xl(t)&&Pl(t)}function Pl(t){t[_n].changeDetectionScheduler?.notify(0);let e=wi(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Mg(e)));)e=wi(e)}function tT(t,e){if((t[Q]&256)===256)throw new $(911,!1);t[Ar]===null&&(t[Ar]=[]),t[Ar].push(e)}function jx(t,e){if(t[Ar]===null)return;let n=t[Ar].indexOf(e);n!==-1&&t[Ar].splice(n,1)}function wi(t){let e=t[pt];return Jn(e)?e[pt]:e}var oe={lFrame:hT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nT=!1;function Bx(){return oe.lFrame.elementDepthCount}function $x(){oe.lFrame.elementDepthCount++}function Hx(){oe.lFrame.elementDepthCount--}function rT(){return oe.bindingsEnabled}function iT(){return oe.skipHydrationRootTNode!==null}function qx(t){return oe.skipHydrationRootTNode===t}function zx(){oe.skipHydrationRootTNode=null}function Y(){return oe.lFrame.lView}function Pe(){return oe.lFrame.tView}function X8(t){return oe.lFrame.contextLView=t,t[ht]}function e5(t){return oe.lFrame.contextLView=null,t}function ot(){let t=sT();for(;t!==null&&t.type===64;)t=t.parent;return t}function sT(){return oe.lFrame.currentTNode}function Gx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ri(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function xg(){return oe.lFrame.isParent}function Pg(){oe.lFrame.isParent=!1}function Wx(){return oe.lFrame.contextLView}function oT(){return nT}function jE(t){nT=t}function Ni(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kx(){return oe.lFrame.bindingIndex}function Qx(t){return oe.lFrame.bindingIndex=t}function kr(){return oe.lFrame.bindingIndex++}function aT(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Yx(){return oe.lFrame.inI18n}function Zx(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tp(e)}function Jx(){return oe.lFrame.currentDirectiveIndex}function Tp(t){oe.lFrame.currentDirectiveIndex=t}function cT(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uT(){return oe.lFrame.currentQueryIndex}function Og(t){oe.lFrame.currentQueryIndex=t}function Xx(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[Rt]:null}function lT(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=Xx(s),i===null||(s=s[Bs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=dT();return r.currentTNode=e,r.lView=t,!0}function kg(t){let e=dT(),n=t[ee];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?hT(t):e}function hT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pT=fT;function Lg(){let t=fT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eP(t){return(oe.lFrame.contextLView=Ux(t,oe.lFrame.contextLView))[ht]}function Lr(){return oe.lFrame.selectedIndex}function Ei(t){oe.lFrame.selectedIndex=t}function wa(){let t=oe.lFrame;return Ng(t.tView,t.selectedIndex)}function tP(){return oe.lFrame.currentNamespace}var gT=!0;function Ol(){return gT}function kl(t){gT=t}function nP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=QD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ll(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function zu(t,e,n){mT(t,e,3,n)}function Gu(t,e,n,r){(t[Q]&3)===n&&mT(t,e,n,r)}function np(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function mT(t,e,n,r){let i=r!==void 0?t[bs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[bs]+=65536),(a<s||s==-1)&&(rP(t,n,e,u),t[bs]=(t[bs]&4294901760)+u+2),u++}function BE(t,e){mn(4,t,e);let n=le(null);try{e.call(t)}finally{le(n),mn(5,t,e)}}function rP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[bs]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,BE(a,s)):BE(a,s)}var Rs=-1,Di=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function iP(t){return t instanceof Di}function sP(t){return(t.flags&8)!==0}function oP(t){return(t.flags&16)!==0}var rp={},bp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cl(r);let i=this.injector.get(e,rp,r);return i!==rp||n===rp?i:this.parentInjector.get(e,n,r)}};function yT(t){return t!==Rs}function rl(t){return t&32767}function aP(t){return t>>16}function il(t,e){let n=aP(t),r=e;for(;n>0;)r=r[Bs],n--;return r}var Cp=!0;function sl(t){let e=Cp;return Cp=t,e}var cP=256,vT=cP-1,_T=5,uP=0,yn={};function lP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ca)&&(r=n[ca]),r==null&&(r=n[ca]=uP++);let i=r&vT,s=1<<i;e.data[t+(i>>_T)]|=s}function ol(t,e){let n=IT(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,ip(r.data,t),ip(e,null),ip(r.blueprint,null));let i=Fg(t,e),s=t.injectorIndex;if(yT(i)){let o=rl(i),a=il(i,e),u=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function ip(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bT(i),r===null)return Rs;if(n++,i=i[Bs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Rs}function Sp(t,e,n){lP(t,e,n)}function dP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(xD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function wT(t,e,n){if(n&ae.Optional||t!==void 0)return t;Ig(e,"NodeInjector")}function ET(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[Ps],s=St(void 0);try{return i?i.get(e,r,n&ae.Optional):SD(e,r,n&ae.Optional)}finally{St(s)}}return wT(r,e,n)}function DT(t,e,n,r=ae.Default,i){if(t!==null){if(e[Q]&2048&&!(r&ae.Self)){let o=gP(t,e,n,r,yn);if(o!==yn)return o}let s=TT(t,e,n,r,yn);if(s!==yn)return s}return ET(e,n,r,i)}function TT(t,e,n,r,i){let s=fP(n);if(typeof s=="function"){if(!lT(e,t,r))return r&ae.Host?wT(i,n,r):ET(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))Ig(n);else return o}finally{pT()}}else if(typeof s=="number"){let o=null,a=IT(t,e),u=Rs,l=r&ae.Host?e[Lt][Rt]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Fg(t,e):e[a+8],u===Rs||!HE(r,!1)?a=-1:(o=e[ee],a=rl(u),e=il(u,e)));a!==-1;){let h=e[ee];if($E(s,a,h.data)){let p=hP(a,e,n,o,r,l);if(p!==yn)return p}u=e[a+8],u!==Rs&&HE(r,e[ee].data[a+8]===l)&&$E(s,a,e)?(o=h,a=rl(u),e=il(u,e)):a=-1}}return i}function hP(t,e,n,r,i,s){let o=e[ee],a=o.data[t+8],u=r==null?Nl(a)&&Cp:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,h=Wu(a,o,n,u,l);return h!==null?Ti(e,o,h,a):yn}function Wu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=o[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=o[u];if(y&&Kn(y)&&y.type===n)return u}return null}function Ti(t,e,n,r){let i=t[n],s=e.data;if(iP(i)){let o=i;o.resolving&&BM(jM(s[n]));let a=sl(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?St(o.injectImpl):null,h=lT(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&nP(n,s[n],e)}finally{l!==null&&St(l),sl(a),o.resolving=!1,pT()}}return i}function fP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ca)?t[ca]:void 0;return typeof e=="number"?e>=0?e&vT:pP:e}function $E(t,e,n){let r=1<<t;return!!(n[e+(t>>_T)]&r)}function HE(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var mi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DT(this._tNode,this._lView,e,Cl(r),n)}};function pP(){return new mi(ot(),Y())}function Vg(t){return ma(()=>{let e=t.prototype.constructor,n=e[Yu]||Ap(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Yu]||Ap(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ap(t){return wD(t)?()=>{let e=Ap(rt(t));return e&&e()}:vi(t)}function gP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=TT(s,o,n,r|ae.Self,yn);if(a!==yn)return a;let u=s.parent;if(!u){let l=o[WD];if(l){let h=l.get(n,yn,r);if(h!==yn)return h}u=bT(o),o=o[Bs]}s=u}return i}function bT(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[Rt]:null}function Ug(t){return dP(ot(),t)}function qE(t,e=null,n=null,r){let i=CT(t,e,n,r);return i.resolveInjectorInitializers(),i}function CT(t,e=null,n=null,r,i=new Set){let s=[n||$t,_x(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new da(s,e||Al(),r||null,i)}var st=class t{static{this.THROW_IF_NOT_FOUND=ua}static{this.NULL=new Xu}static create(e,n){if(Array.isArray(e))return qE({name:""},n,e,"");{let r=e.name??"";return qE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>X(RD)})}static{this.__NG_ELEMENT_ID__=-1}};var mP=new B("");mP.__NG_ELEMENT_ID__=t=>{let e=ot();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new $(204,!1)};var yP="ngOriginalError";function sp(t){return t[yP]}var ST=!0,Fl=(()=>{class t{static{this.__NG_ELEMENT_ID__=vP}static{this.__NG_ENV_ID__=n=>n}}return t})(),Rp=class extends Fl{constructor(e){super(),this._lView=e}onDestroy(e){return tT(this._lView,e),()=>jx(this._lView,e)}};function vP(){return new Rp(Y())}var Mi=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Np=class extends je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,zD()&&(this.destroyRef=P(Fl,{optional:!0})??void 0,this.pendingTasks=P(Mi,{optional:!0})??void 0)}emit(e){let n=le(null);try{super.next(e)}finally{le(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},it=Np;function al(...t){}function AT(t){let e,n;function r(){t=al;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zE(t){return queueMicrotask(()=>t()),()=>{t=al}}var jg="isAngularZone",cl=jg+"_ID",_P=0,Ie=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=ST}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,EP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,IP,al,al);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},IP={};function Bg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){AT(()=>{t.callbackScheduled=!1,Mp(t),t.isCheckStableRunning=!0,Bg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Mp(t)}function EP(t){let e=()=>{wP(t)},n=_P++;t._inner=t._inner.fork({name:"angular",properties:{[jg]:!0,[cl]:n,[cl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(DP(u))return r.invokeTask(s,o,a,u);try{return GE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return GE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!TP(u)&&e(),WE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Mp(t),Bg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Mp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function GE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WE(t){t._nesting--,Bg(t)}var xp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function DP(t){return RT(t,"__ignore_ng_zone__")}function TP(t){return RT(t,"__scheduler_tick__")}function RT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var wn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sp(e);for(;n&&sp(n);)n=sp(n);return n||null}},bP=new B("",{providedIn:"root",factory:()=>{let t=P(Ie),e=P(wn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function CP(){return $s(ot(),Y())}function $s(t,e){return new Xn(qt(t,e))}var Xn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=CP}}return t})();function SP(t){return t instanceof Xn?t.nativeElement:t}function AP(){return this._results[Symbol.iterator]()}var Pp=class t{get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=AP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=JM(e);(this._changesDetected=!ZM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NT(t){return(t.flags&128)===128}var MT=new Map,RP=0;function NP(){return RP++}function MP(t){MT.set(t[Rl],t)}function Op(t){MT.delete(t[Rl])}var KE="__ngContext__";function xr(t,e){Rr(e)?(t[KE]=e[Rl],MP(e)):t[KE]=e}function xT(t){return OT(t[ha])}function PT(t){return OT(t[Jt])}function OT(t){for(;t!==null&&!Jn(t);)t=t[Jt];return t}var kp;function kT(t){kp=t}function LT(){if(kp!==void 0)return kp;if(typeof document<"u")return document;throw new $(210,!1)}var $g=new B("",{providedIn:"root",factory:()=>xP}),xP="ng",Hg=new B(""),bn=new B("",{providedIn:"platform",factory:()=>"unknown"});var t5=new B(""),qg=new B("",{providedIn:"root",factory:()=>LT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PP="h",OP="b";var kP=()=>null;function zg(t,e,n=!1){return kP(t,e,n)}var FT=!1,LP=new B("",{providedIn:"root",factory:()=>FT});var Fu;function FP(){if(Fu===void 0&&(Fu=null,qn.trustedTypes))try{Fu=qn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fu}function Vl(t){return FP()?.createHTML(t)||t}var Vu;function VT(){if(Vu===void 0&&(Vu=null,qn.trustedTypes))try{Vu=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vu}function QE(t){return VT()?.createHTML(t)||t}function YE(t){return VT()?.createScriptURL(t)||t}var ul=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_D})`}};function Hs(t){return t instanceof ul?t.changingThisBreaksApplicationSecurity:t}function Ul(t,e){let n=VP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_D})`)}return n===e}function VP(t){return t instanceof ul&&t.getTypeName()||null}function UP(t){let e=new Fp(t);return jP()?new Lp(e):e}var Lp=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Vl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Fp=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Vl(e),n}};function jP(){try{return!!new window.DOMParser().parseFromString(Vl(""),"text/html")}catch{return!1}}var BP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gg(t){return t=String(t),t.match(BP)?t:"unsafe:"+t}function er(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ea(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var UT=er("area,br,col,hr,img,wbr"),jT=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),BT=er("rp,rt"),$P=Ea(BT,jT),HP=Ea(jT,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qP=Ea(BT,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ZE=Ea(UT,HP,qP,$P),$T=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zP=er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GP=er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),WP=Ea($T,zP,GP),KP=er("script,style,template"),Vp=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=ZP(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=YP(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=JE(e).toLowerCase();if(!ZE.hasOwnProperty(n))return this.sanitizedSomething=!0,!KP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!WP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;$T[a]&&(u=Gg(u)),this.buf.push(" ",o,'="',XE(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=JE(e).toLowerCase();ZE.hasOwnProperty(n)&&!UT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(XE(e))}};function QP(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function YP(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw HT(e);return e}function ZP(t){let e=t.firstChild;if(e&&QP(t,e))throw HT(e);return e}function JE(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function HT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var JP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XP=/([^\#-~ |!])/g;function XE(t){return t.replace(/&/g,"&amp;").replace(JP,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(XP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Uu;function qT(t,e){let n=null;try{Uu=Uu||UP(t);let r=e?String(e):"";n=Uu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Uu.getInertBodyElement(r)}while(r!==s);let a=new Vp().sanitizeChildren(eD(n)||n);return Vl(a)}finally{if(n){let r=eD(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function eD(t){return"content"in t&&eO(t)?t.content:null}function eO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Da=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Da||{});function n5(t){let e=Wg();return e?QE(e.sanitize(Da.HTML,t)||""):Ul(t,"HTML")?QE(Hs(t)):qT(LT(),yi(t))}function tO(t){let e=Wg();return e?e.sanitize(Da.URL,t)||"":Ul(t,"URL")?Hs(t):Gg(yi(t))}function nO(t){let e=Wg();if(e)return YE(e.sanitize(Da.RESOURCE_URL,t)||"");if(Ul(t,"ResourceURL"))return YE(Hs(t));throw new $(904,!1)}function rO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nO:tO}function zT(t,e,n){return rO(e,n)(t)}function Wg(){let t=Y();return t&&t[_n].sanitizer}var iO=/^>|^->|<!--|-->|--!>|<!-$/g,sO=/(<|>)/g,oO="\u200B$1\u200B";function aO(t){return t.replace(iO,e=>e.replace(sO,oO))}function r5(t){return t.ownerDocument.defaultView}function i5(t){return t.ownerDocument}function GT(t){return t instanceof Function?t():t}function cO(t){return(t??P(st)).get(bn)==="browser"}var Qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qn||{}),uO;function Kg(t,e){return uO(t,e)}function Cs(t,e,n,r,i){if(r!=null){let s,o=!1;Jn(r)?s=r:Rr(r)&&(o=!0,r=r[Tn]);let a=In(r);t===0&&n!==null?i==null?ZT(e,n,a):ll(e,n,a,i||null,!0):t===1&&n!==null?ll(e,n,a,i||null,!0):t===2?DO(e,a,o):t===3&&e.destroyNode(a),s!=null&&bO(e,t,s,n,i)}}function lO(t,e){return t.createText(e)}function dO(t,e,n){t.setValue(e,n)}function hO(t,e){return t.createComment(aO(e))}function WT(t,e,n){return t.createElement(e,n)}function fO(t,e){KT(t,e),e[Tn]=null,e[Rt]=null}function pO(t,e,n,r,i,s){r[Tn]=i,r[Rt]=e,$l(t,r,n,1,i,s)}function KT(t,e){e[_n].changeDetectionScheduler?.notify(9),$l(t,e,e[xe],2,null,null)}function gO(t){let e=t[ha];if(!e)return op(t[ee],t);for(;e;){let n=null;if(Rr(e))n=e[ha];else{let r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)Rr(e)&&op(e[ee],e),e=e[pt];e===null&&(e=t),Rr(e)&&op(e[ee],e),n=e&&e[Jt]}e=n}}function mO(t,e,n,r){let i=ft+r,s=n.length;r>0&&(n[i-1][Jt]=e),r<s-ft?(e[Jt]=n[i],AD(n,ft+r,e)):(n.push(e),e[Jt]=null),e[pt]=n;let o=e[_i];o!==null&&n!==o&&QT(o,e);let a=e[Wn];a!==null&&a.insertView(t),Dp(e),e[Q]|=128}function QT(t,e){let n=t[Os],r=e[pt];if(Rr(r))t[Q]|=nl.HasTransplantedViews;else{let i=r[pt][Lt];e[Lt]!==i&&(t[Q]|=nl.HasTransplantedViews)}n===null?t[Os]=[e]:n.push(e)}function Qg(t,e){let n=t[Os],r=n.indexOf(e);n.splice(r,1)}function fa(t,e){if(t.length<=ft)return;let n=ft+e,r=t[n];if(r){let i=r[_i];i!==null&&i!==t&&Qg(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let s=Ju(t,ft+e);fO(r[ee],r);let o=s[Wn];o!==null&&o.detachView(s[ee]),r[pt]=null,r[Jt]=null,r[Q]&=-129}return r}function jl(t,e){if(!(e[Q]&256)){let n=e[xe];n.destroyNode&&$l(t,e,n,3,null,null),gO(e)}}function op(t,e){if(e[Q]&256)return;let n=le(null);try{e[Q]&=-129,e[Q]|=256,e[Ht]&&Pu(e[Ht]),vO(t,e),yO(t,e),e[ee].type===1&&e[xe].destroy();let r=e[_i];if(r!==null&&Jn(e[pt])){r!==e[pt]&&Qg(r,e);let i=e[Wn];i!==null&&i.detachView(t)}Op(e)}finally{le(n)}}function yO(t,e){let n=t.cleanup,r=e[el];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[el]=null);let i=e[Ar];if(i!==null){e[Ar]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function vO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Di)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];mn(4,a,u);try{u.call(a)}finally{mn(5,a,u)}}else{mn(4,i,s);try{s.call(i)}finally{mn(5,i,s)}}}}}function YT(t,e,n){return _O(t,e.parent,n)}function _O(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===vn.None||s===vn.Emulated)return null}return qt(r,n)}}function ll(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZT(t,e,n){t.appendChild(e,n)}function tD(t,e,n,r,i){r!==null?ll(t,e,n,r,i):ZT(t,e,n)}function JT(t,e){return t.parentNode(e)}function IO(t,e){return t.nextSibling(e)}function XT(t,e,n){return EO(t,e,n)}function wO(t,e,n){return t.type&40?qt(t,n):null}var EO=wO,nD;function Bl(t,e,n,r){let i=YT(t,r,e),s=e[xe],o=r.parent||e[Rt],a=XT(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)tD(s,i,n[u],a,!1);else tD(s,i,n,a,!1);nD!==void 0&&nD(s,r,e,n,i)}function aa(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return Up(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return aa(t,r);{let i=t[e.index];return Jn(i)?Up(-1,i):In(i)}}else{if(n&128)return aa(t,e.next);if(n&32)return Kg(e,t)()||In(t[e.index]);{let r=eb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wi(t[Lt]);return aa(i,r)}else return aa(t,e.next)}}}return null}function eb(t,e){if(e!==null){let r=t[Lt][Rt],i=e.projection;return r.projection[i]}return null}function Up(t,e){let n=ft+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return aa(r,i)}return e[Ii]}function DO(t,e,n){t.removeChild(null,e,n)}function Yg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&xr(In(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Yg(t,e,n.child,r,i,s,!1),Cs(e,t,i,a,s);else if(u&32){let l=Kg(n,r),h;for(;h=l();)Cs(e,t,i,h,s);Cs(e,t,i,a,s)}else u&16?tb(t,e,r,n,i,s):Cs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function $l(t,e,n,r,i,s){Yg(n,r,t.firstChild,e,i,s,!1)}function TO(t,e,n){let r=e[xe],i=YT(t,n,e),s=n.parent||e[Rt],o=XT(s,n,e);tb(r,0,e,n,i,o)}function tb(t,e,n,r,i,s){let o=n[Lt],u=o[Rt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Cs(e,t,i,h,s)}else{let l=u,h=o[pt];NT(r)&&(l.flags|=128),Yg(t,e,l,h,i,s,!0)}}function bO(t,e,n,r,i){let s=n[Ii],o=In(n);s!==o&&Cs(e,t,r,s,i);for(let a=ft;a<n.length;a++){let u=n[a];$l(u[ee],u,t,e,r,s)}}function CO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Qn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qn.Important),t.setStyle(n,r,i,s))}}function SO(t,e,n){t.setAttribute(e,"style",n)}function nb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&yp(t,e,r),i!==null&&nb(t,e,i),s!==null&&SO(t,e,s)}var en={};function s5(t=1){ib(Pe(),Y(),Lr()+t,!1)}function ib(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&zu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Gu(e,s,0,n)}Ei(n)}function me(t,e=ae.Default){let n=Y();if(n===null)return X(t,e);let r=ot();return DT(r,n,rt(t),e)}function sb(){let t="invalid";throw new Error(t)}function ob(t,e,n,r,i,s){let o=le(null);try{let a=null;i&Nr.SignalBased&&(a=e[r][gn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Nr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):KD(e,a,r,s)}finally{le(o)}}function AO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ei(~i);else{let s=i,o=n[++r],a=n[++r];Zx(o,s);let u=e[s];a(2,u)}}}finally{Ei(-1)}}function Hl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Tn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),XD(p),p[pt]=p[Bs]=t,p[ht]=n,p[_n]=o||t&&t[_n],p[xe]=a||t&&t[xe],p[Ps]=u||t&&t[Ps]||null,p[Rt]=s,p[Rl]=NP(),p[xs]=h,p[WD]=l,p[Lt]=e.type==2?t[Lt]:p,p}function qs(t,e,n,r,i){let s=t.data[e];if(s===null)s=RO(t,e,n,r,i),Yx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Gx();s.injectorIndex=o===null?-1:o.injectorIndex}return Ri(s,!0),s}function RO(t,e,n,r,i){let s=sT(),o=xg(),a=o?s:s&&s.parent,u=t.data[e]=kO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function ab(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cb(t,e,n,r,i){let s=Lr(),o=r&2;try{Ei(-1),o&&e.length>$e&&ib(t,e,$e,!1),mn(o?2:0,i),n(r,i)}finally{Ei(s),mn(o?3:1,i)}}function Zg(t,e,n){if(Rg(e)){let r=le(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{le(r)}}}function Jg(t,e,n){rT()&&(BO(t,e,n,qt(n,e)),(n.flags&64)===64&&db(t,e,n))}function Xg(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ub(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=em(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function em(t,e,n,r,i,s,o,a,u,l,h){let p=$e+r,m=p+i,y=NO(p,m),b=typeof l=="function"?l():l;return y[ee]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function NO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:en);return n}function MO(t,e,n,r){let s=r.get(LP,FT)||n===vn.ShadowDom,o=t.selectRootElement(e,s);return xO(o),o}function xO(t){PO(t)}var PO=()=>null;function OO(t,e,n,r){let i=pb(e);i.push(n),t.firstCreatePass&&gb(t).push(r,i.length-1)}function kO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return iT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rD(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Nr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?iD(r,n,l,a,u):iD(r,n,l,a)}return r}function iD(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function LO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,b=m?m.outputs:null;u=rD(0,p.inputs,h,u,y),l=rD(1,p.outputs,h,l,b);let N=u!==null&&o!==null&&!Tg(e)?JO(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function FO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ql(t,e,n,r,i,s,o,a){let u=qt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(nm(t,n,h,r,i),Nl(e)&&VO(n,e.index)):e.type&3?(r=FO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function VO(t,e){let n=Or(e,t);n[Q]&16||(n[Q]|=64)}function tm(t,e,n,r){if(rT()){let i=r===null?null:{"":-1},s=HO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&lb(t,e,n,o,i,a),i&&qO(n,r,i)}n.mergedAttrs=la(n.mergedAttrs,n.attrs)}function lb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Sp(ol(n,e),t,r[l].type);GO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=ab(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=la(n.mergedAttrs,h.hostAttrs),WO(t,n,e,u,h),zO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}LO(t,n,s)}function UO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;jO(o)!=a&&o.push(a),o.push(n,r,s)}}function jO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Nl(n)&&KO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ol(n,e),xr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ti(e,t,a,n);if(xr(l,e),o!==null&&ZO(e,a-i,l,u,n,o),Kn(u)){let h=Or(n.index,e);h[ht]=Ti(e,t,a,n)}}}function db(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Jx();try{Ei(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Tp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$O(u,l)}}finally{Ei(-1),Tp(o)}}function $O(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(OD(e,o.selectors,!1))if(r||(r=[]),Kn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;jp(t,e,u)}else r.unshift(o),jp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function jp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function zO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function GO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=vi(i.type,!0)),o=new Di(s,Kn(i),me);t.blueprint[r]=o,n[r]=o,UO(t,e,r,ab(t,n,i.hostVars,en),i)}function KO(t,e,n){let r=qt(e,t),i=ub(n),s=t[_n].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=zl(t,Hl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function QO(t,e,n,r,i,s){let o=qt(t,e);YO(e[xe],o,s,t.value,n,r,i)}function YO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?yi(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function ZO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];ob(r,n,u,l,h,p)}}function JO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function hb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function fb(t,e){let n=t.contentQueries;if(n!==null){let r=le(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Og(s),a.contentQueries(2,e[o],o)}}}finally{le(r)}}}function zl(t,e){return t[ha]?t[VE][Jt]=e:t[ha]=e,t[VE]=e,e}function Bp(t,e,n){Og(0);let r=le(null);try{e(t,n)}finally{le(r)}}function pb(t){return t[el]??=[]}function gb(t){return t.cleanup??=[]}function XO(t,e,n){return(t===null||Kn(t))&&(n=Lx(n[e.index])),n[xe]}function mb(t,e){let n=t[Ps],r=n?n.get(wn,null):null;r&&r.handleError(e)}function nm(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];ob(h,l,r,a,u,i)}}function yb(t,e,n){let r=JD(e,t);dO(t[xe],r,n)}function ek(t,e){let n=Or(e,t),r=n[ee];tk(r,n);let i=n[Tn];i!==null&&n[xs]===null&&(n[xs]=zg(i,n[Ps])),rm(r,n,n[ht])}function tk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rm(t,e,n){kg(e);try{let r=t.viewQuery;r!==null&&Bp(1,r,n);let i=t.template;i!==null&&cb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wn]?.finishViewCreation(t),t.staticContentQueries&&fb(t,e),t.staticViewQueries&&Bp(2,t.viewQuery,n);let s=t.components;s!==null&&nk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Lg()}}function nk(t,e){for(let n=0;n<e.length;n++)ek(t,e[n])}function Ta(t,e,n,r){let i=le(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=Hl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[_i]=l;let h=t[Wn];return h!==null&&(u[Wn]=h.createEmbeddedView(s)),rm(s,u,n),u}finally{le(i)}}function vb(t,e){let n=ft+e;if(n<t.length)return t[n]}function ks(t,e){return!e||e.firstChild===null||NT(t)}function ba(t,e,n,r=!0){let i=e[ee];if(mO(i,e,t,n),r){let o=Up(n,t),a=e[xe],u=JT(a,t[Ii]);u!==null&&pO(i,t[Rt],a,e,u,o)}let s=e[xs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _b(t,e){let n=fa(t,e);return n!==void 0&&jl(n[ee],n),n}function dl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(In(s)),Jn(s)&&rk(s,r);let o=n.type;if(o&8)dl(t,e,n.child,r);else if(o&32){let a=Kg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=eb(e,n);if(Array.isArray(a))r.push(...a);else{let u=wi(e[Lt]);dl(u[ee],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rk(t,e){for(let n=ft;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&dl(r[ee],r,i,e)}t[Ii]!==t[Tn]&&e.push(t[Ii])}var Ib=[];function ik(t){return t[Ht]??sk(t)}function sk(t){let e=Ib.pop()??Object.create(ak);return e.lView=t,e}function ok(t){t.lView[Ht]!==t&&(t.lView=null,Ib.push(t))}var ak=Te(F({},Ds),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Pl(t.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function ck(t){let e=t[Ht]??Object.create(uk);return e.lView=t,e}var uk=Te(F({},Ds),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=wi(t.lView);for(;e&&!wb(e[ee]);)e=wi(e);e&&eT(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function wb(t){return t.type!==2}var lk=100;function Eb(t,e=!0,n=0){let r=t[_n],i=r.rendererFactory,s=!1;s||i.begin?.();try{dk(t,n)}catch(o){throw e&&mb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function dk(t,e){let n=oT();try{jE(!0),$p(t,e);let r=0;for(;xl(t);){if(r===lk)throw new $(103,!1);r++,$p(t,1)}}finally{jE(n)}}function hk(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[_n].inlineEffectRunner?.flush(),kg(e);let a=!0,u=null,l=null;s||(wb(t)?(l=ik(e),u=oa(l)):hE()===null?(a=!1,l=ck(e),u=oa(l)):e[Ht]&&(Pu(e[Ht]),e[Ht]=null));try{XD(e),Qx(t.bindingStartIndex),n!==null&&cb(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&zu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Gu(e,y,0,null),np(e,0)}if(o||fk(e),Db(e,0),t.contentQueries!==null&&fb(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&zu(e,y)}else{let y=t.contentHooks;y!==null&&Gu(e,y,1),np(e,1)}AO(t,e);let p=t.components;p!==null&&bb(e,p,0);let m=t.viewQuery;if(m!==null&&Bp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&zu(e,y)}else{let y=t.viewHooks;y!==null&&Gu(e,y,2),np(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qu]){for(let y of e[qu])y();e[qu]=null}s||(e[Q]&=-73)}catch(h){throw s||Pl(e),h}finally{l!==null&&(Mu(l,u),a&&ok(l)),Lg()}}function Db(t,e){for(let n=xT(t);n!==null;n=PT(n))for(let r=ft;r<n.length;r++){let i=n[r];Tb(i,e)}}function fk(t){for(let e=xT(t);e!==null;e=PT(e)){if(!(e[Q]&nl.HasTransplantedViews))continue;let n=e[Os];for(let r=0;r<n.length;r++){let i=n[r];eT(i)}}}function pk(t,e,n){let r=Or(e,t);Tb(r,n)}function Tb(t,e){Mg(t)&&$p(t,e)}function $p(t,e){let r=t[ee],i=t[Q],s=t[Ht],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&xu(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)hk(r,t,r.template,t[ht]);else if(i&8192){Db(t,1);let a=r.components;a!==null&&bb(t,a,1)}}function bb(t,e,n){for(let r=0;r<e.length;r++)pk(t,e[r],n)}function im(t,e){let n=oT()?64:1088;for(t[_n].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=wi(t);if(wp(t)&&!r)return t;t=r}return null}var bi=class{get rootNodes(){let e=this._lView,n=e[ee];return dl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(Jn(e)){let n=e[tl],r=n?n.indexOf(this):-1;r>-1&&(fa(e,r),Ju(n,r))}this._attachedToViewContainer=!1}jl(this._lView[ee],this._lView)}onDestroy(e){tT(this._lView,e)}markForCheck(){im(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Dp(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Eb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wp(this._lView),n=this._lView[_i];n!==null&&!e&&Qg(n,this._lView),KT(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=wp(this._lView),r=this._lView[_i];r!==null&&!n&&QT(r,this._lView),Dp(this._lView)}},Yn=(()=>{class t{static{this.__NG_ELEMENT_ID__=yk}}return t})(),gk=Yn,mk=class extends gk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ta(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new bi(i)}};function yk(){return Gl(ot(),Y())}function Gl(t,e){return t.type&4?new mk(e,t,$s(t,e)):null}var a5=new RegExp(`^(\\d+)*(${OP}|${PP})*(.*)`);var vk=()=>null;function Ls(t,e){return vk(t,e)}var Fs=class{},Wl=new B("",{providedIn:"root",factory:()=>!1});var Cb=new B(""),Sb=new B(""),Hp=class{},hl=class{};function _k(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[Ik]=t,e}var Ik="ngComponent";var qp=class{resolveComponentFactory(e){throw _k(e)}},Vs=class{static{this.NULL=new qp}},Us=class{},Ca=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>wk()}}return t})();function wk(){let t=Y(),e=ot(),n=Or(e.index,t);return(Rr(n)?n:t)[xe]}var Ek=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})();function fl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=AE(i,a);else if(s==2){let u=a,l=e[++o];r=AE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pl=class extends Vs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gn(e);return new Ci(n,this.ngModule)}};function sD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Nr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Nr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Dk(t){let e=t.toLowerCase();return e==="svg"?Ox:e==="math"?kx:null}var Ci=class extends hl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=sD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=px(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=le(null);try{i=i||this.ngModule;let o=i instanceof kt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new bp(e,o):e,u=a.get(Us,null);if(u===null)throw new $(407,!1);let l=a.get(Ek,null),h=a.get(Fs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?MO(m,r,this.componentDef.encapsulation,a):WT(m,y,Dk(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;b!==null&&(R=zg(b,a,!0));let k=em(0,null,null,1,0,null,null,null,null,null,null),U=Hl(null,k,null,N,null,null,p,m,a,null,R);kg(U);let K,ce,ke=null;try{let ne=this.componentDef,D,v=null;ne.findHostDirectiveDefs?(D=[],v=new Map,ne.findHostDirectiveDefs(ne,D,v),D.push(ne)):D=[ne];let _=Tk(U,b);ke=bk(_,b,ne,D,U,p,m),ce=Ng(k,$e),b&&Ak(m,ne,b,r),n!==void 0&&Rk(ce,this.ngContentSelectors,n),K=Sk(ke,ne,D,v,U,[Nk]),rm(k,U,null)}catch(ne){throw ke!==null&&Op(ke),Op(U),ne}finally{Lg()}return new zp(this.componentType,K,$s(ce,U),U,ce)}finally{le(s)}}},zp=class extends Hp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;nm(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=Or(this._tNode.index,s);im(o,1)}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tk(t,e){let n=t[ee],r=$e;return t[r]=e,qs(n,r,2,"#host",null)}function bk(t,e,n,r,i,s,o){let a=i[ee];Ck(r,t,e,o);let u=null;e!==null&&(u=zg(e,i[Ps]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Hl(i,ub(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&jp(a,t,r.length-1),zl(i,p),i[t.index]=p}function Ck(t,e,n,r){for(let i of t)e.mergedAttrs=la(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(fl(e,e.mergedAttrs,!0),n!==null&&rb(r,n,e))}function Sk(t,e,n,r,i,s){let o=ot(),a=i[ee],u=qt(o,i);lb(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Ti(i,a,p,o);xr(m,i)}db(a,i,o),u&&xr(u,i);let l=Ti(i,a,o.directiveStart+o.componentOffset,o);if(t[ht]=i[ht]=l,s!==null)for(let h of s)h(l,e);return Zg(a,o,i),l}function Ak(t,e,n,r){if(r)yp(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=gx(e.selectors[0]);i&&yp(t,n,i),s&&s.length>0&&nb(t,n,s.join(" "))}}function Rk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Nk(){let t=ot();Ll(Y()[ee],t)}var tn=(()=>{class t{static{this.__NG_ELEMENT_ID__=Mk}}return t})();function Mk(){let t=ot();return Rb(t,Y())}var xk=tn,Ab=class extends xk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fg(this._hostTNode,this._hostLView);if(yT(e)){let n=il(e,this._hostLView),r=rl(e),i=n[ee].data[r+8];return new mi(i,n)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ls(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ks(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Nx(e),a;if(o)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}let u=o?e:new Ci(Gn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(kt,null);N&&(s=N)}let h=Gn(u.componentType??{}),p=Ls(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,ks(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Vx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[pt],l=new Ab(u,u[Rt],u[pt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ba(o,i,s,r),e.attachToViewContainerRef(),AD(ap(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fa(this._lContainer,n);r&&(Ju(ap(this._lContainer),n),jl(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=fa(this._lContainer,n);return r&&Ju(ap(this._lContainer),n)!=null?new bi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oD(t){return t[tl]}function ap(t){return t[tl]||(t[tl]=[])}function Rb(t,e){let n,r=e[t.index];return Jn(r)?n=r:(n=hb(r,e,null,t),e[t.index]=n,zl(e,n)),Ok(n,e,t,r),new Ab(n,t,e)}function Pk(t,e){let n=t[xe],r=n.createComment(""),i=qt(e,t),s=JT(n,i);return ll(n,s,r,IO(n,i),!1),r}var Ok=Fk,kk=()=>!1;function Lk(t,e,n){return kk(t,e,n)}function Fk(t,e,n,r){if(t[Ii])return;let i;n.type&8?i=In(r):i=Pk(e,n),t[Ii]=i}var Gp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Wp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)sm(e,n).matches!==null&&this.queries[n].setDirty()}},gl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=zk(e):this.predicate=e}},Kp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Vk(n,s)),this.matchTNodeWithReadOption(e,n,Wu(n,e,s,!1,!1))}else r===Yn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Wu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xn||i===tn||i===Yn&&n.type&4)this.addMatch(n.index,-2);else{let s=Wu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Vk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Uk(t,e){return t.type&11?$s(t,e):t.type&4?Gl(t,e):null}function jk(t,e,n,r){return n===-1?Uk(e,t):n===-2?Bk(t,e,r):Ti(t,t[ee],n,e)}function Bk(t,e,n){if(n===Xn)return $s(e,t);if(n===Yn)return Gl(e,t);if(n===tn)return Rb(e,t)}function Nb(t,e,n,r){let i=e[Wn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(jk(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Yp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Nb(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=ft;p<h.length;p++){let m=h[p];m[_i]===m[pt]&&Yp(m[ee],m,l,r)}if(h[Os]!==null){let p=h[Os];for(let m=0;m<p.length;m++){let y=p[m];Yp(y[ee],y,l,r)}}}}}return r}function $k(t,e){return t[Wn].queries[e].queryList}function Mb(t,e,n){let r=new Pp((n&4)===4);return OO(t,e,r,r.destroy),(e[Wn]??=new Wp).queries.push(new Gp(r))-1}function Hk(t,e,n){let r=Pe();return r.firstCreatePass&&(xb(r,new gl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Mb(r,Y(),e)}function qk(t,e,n,r){let i=Pe();if(i.firstCreatePass){let s=ot();xb(i,new gl(e,n,r),s.index),Gk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Mb(i,Y(),n)}function zk(t){return t.split(",").map(e=>e.trim())}function xb(t,e,n){t.queries===null&&(t.queries=new Kp),t.queries.track(new Qp(e,n))}function Gk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function sm(t,e){return t.queries.getByIndex(e)}function Wk(t,e){let n=t[ee],r=sm(n,e);return r.crossesNgTemplate?Yp(n,t,e,[]):Nb(n,t,r,e)}var aD=new Set;function tr(t){aD.has(t)||(aD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Kk(t){return typeof t=="function"&&t[gn]!==void 0}function u5(t,e){tr("NgSignals");let n=TE(t),r=n[gn];return e?.equal&&(r.equal=e.equal),n.set=i=>Xf(r,i),n.update=i=>bE(r,i),n.asReadonly=Qk.bind(n),n}function Qk(){let t=this[gn];if(t.readonlyFn===void 0){let e=()=>this();e[gn]=t,t.readonlyFn=e}return t.readonlyFn}function Pb(t){return Kk(t)&&typeof t.set=="function"}function Yk(t){return Object.getPrototypeOf(t.prototype).constructor}function Zk(t){let e=Yk(t.type),n=!0,r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ju(t.inputs),o.inputTransforms=ju(t.inputTransforms),o.declaredInputs=ju(t.declaredInputs),o.outputs=ju(t.outputs);let a=i.hostBindings;a&&n1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&e1(t,u),l&&t1(t,l),Jk(t,i),xM(t.outputs,i.outputs),Kn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Zk&&(n=!1)}}e=Object.getPrototypeOf(e)}Xk(r)}function Jk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Xk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=la(i.hostAttrs,n=la(n,i.hostAttrs))}}function ju(t){return t===zn?{}:t===$t?[]:t}function e1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function t1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function n1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function l5(t){let e=n=>{let r=(Array.isArray(t)?t:t()).map(i=>typeof i=="function"?{directive:rt(i),inputs:zn,outputs:zn}:{directive:rt(i.directive),inputs:cD(i.inputs),outputs:cD(i.outputs)});n.hostDirectives===null?(n.findHostDirectiveDefs=Ob,n.hostDirectives=r):n.hostDirectives.unshift(...r)};return e.ngInherit=!0,e}function Ob(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives){let i=Cg(r.directive);r1(i.declaredInputs,r.inputs),Ob(i,e,n),n.set(i,r),e.push(i)}}function cD(t){if(t===void 0||t.length===0)return zn;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function r1(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function om(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zn=class{},pa=class{};function kb(t,e){return new ml(t,e??null,[])}var ml=class extends Zn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pl(this);let s=VD(e);this._bootstrapComponents=GT(s.bootstrap),this._r3Injector=CT(e,n,[{provide:Zn,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zp=class extends pa{constructor(e){super(),this.moduleType=e}create(e){return new ml(this.moduleType,e,[])}};var yl=class extends Zn{constructor(e){super(),this.componentFactoryResolver=new pl(this),this.instance=null;let n=new da([...e.providers,{provide:Zn,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver}],e.parent||Al(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Kl(t,e,n=null){return new yl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Lb(t){return s1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function i1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function s1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function zs(t,e,n){return t[e]=n}function Fb(t,e){return t[e]}function At(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vl(t,e,n,r){let i=At(t,e,n);return At(t,e+1,r)||i}function Vb(t,e,n,r,i,s){let o=vl(t,e,n,r);return vl(t,e+2,i,s)||o}function o1(t){return(t.flags&32)===32}function a1(t,e,n,r,i,s,o,a,u){let l=e.consts,h=qs(e,t,4,o||null,a||null);tm(e,n,h,Mr(l,u)),Ll(e,h);let p=h.tView=em(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function _l(t,e,n,r,i,s,o,a,u,l){let h=n+$e,p=e.firstCreatePass?a1(h,e,t,r,i,s,o,a,u):e.data[h];Ri(p,!1);let m=u1(e,t,p,n);Ol()&&Bl(e,t,m,p),xr(m,t);let y=hb(m,t,m,p);return t[h]=y,zl(t,y),Lk(y,p,t),Ml(p)&&Jg(e,t,p),u!=null&&Xg(t,p,l),p}function c1(t,e,n,r,i,s,o,a){let u=Y(),l=Pe(),h=Mr(l.consts,s);return _l(u,l,t,e,n,r,i,h,o,a),c1}var u1=l1;function l1(t,e,n,r){return kl(!0),e[xe].createComment("")}var Ss=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ss||{}),Ub=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Jp=class t{constructor(){this.ngZone=P(Ie),this.scheduler=P(Fs),this.errorHandler=P(wn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ss.EarlyRead,Ss.Write,Ss.MixedReadWrite,Ss.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}},Xp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function am(t,e){!e?.injector&&GD(am);let n=e?.injector??P(st);return cO(n)?(tr("NgAfterNextRender"),h1(t,n,e,!0)):f1}function d1(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function h1(t,e,n,r){let i=e.get(Ub);i.impl??=e.get(Jp);let s=n?.phase??Ss.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(Fl):null,a=new Xp(i.impl,d1(t,s),r,o);return i.impl.register(a),a}var f1={destroy(){}};function cm(t,e,n,r){let i=Y(),s=kr();if(At(i,s,e)){let o=Pe(),a=wa();QO(a,i,t,e,n,r)}return cm}function p1(t,e,n,r){return At(t,kr(),n)?e+yi(n)+r:en}function g1(t,e,n,r,i,s){let o=Kx(),a=vl(t,o,n,i);return aT(2),a?e+yi(n)+r+yi(i)+s:en}function Bu(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function m1(t){return(t&2)==2}function y1(t,e){return t&131071|e<<17}function eg(t){return t|2}function js(t){return(t&131068)>>2}function cp(t,e){return t&-131069|e<<2}function v1(t){return(t&1)===1}function tg(t){return t|1}function _1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Si(o),u=js(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||va(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Si(t[a+1]);t[r+1]=Bu(m,a),m!==0&&(t[m+1]=cp(t[m+1],r)),t[a+1]=y1(t[a+1],r)}else t[r+1]=Bu(a,0),a!==0&&(t[a+1]=cp(t[a+1],r)),a=r;else t[r+1]=Bu(u,0),a===0?a=r:t[u+1]=cp(t[u+1],r),u=r;l&&(t[r+1]=eg(t[r+1])),uD(t,h,r,!0),uD(t,h,r,!1),I1(e,h,t,r,s),o=Bu(a,u),s?e.classBindings=o:e.styleBindings=o}function I1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&va(s,e)>=0&&(n[r+1]=tg(n[r+1]))}function uD(t,e,n,r){let i=t[n+1],s=e===null,o=r?Si(i):js(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];w1(u,e)&&(a=!0,t[o+1]=r?tg(l):eg(l)),o=r?Si(l):js(l)}a&&(t[n+1]=r?eg(i):tg(i))}function w1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?va(t,e)>=0:!1}function E1(t,e,n){let r=Y(),i=kr();if(At(r,i,e)){let s=Pe(),o=wa();ql(s,o,r,t,e,r[xe],n,!1)}return E1}function lD(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";nm(t,n,s[o],o,r)}function jb(t,e,n){return Bb(t,e,n,!1),jb}function D1(t,e){return Bb(t,e,null,!0),D1}function Bb(t,e,n,r){let i=Y(),s=Pe(),o=aT(2);if(s.firstUpdatePass&&b1(s,t,o,r),e!==en&&At(i,o,e)){let a=s.data[Lr()];N1(s,a,i,i[xe],t,i[o+1]=M1(e,n),r,o)}}function T1(t,e){return e>=t.expandoStartIndex}function b1(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Lr()],o=T1(t,n);x1(s,r)&&e===null&&!o&&(e=!1),e=C1(i,s,e,r),_1(i,s,e,n,o,r)}}function C1(t,e,n,r){let i=cT(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=up(null,t,e,n,r),n=ga(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=up(i,t,e,n,r),s===null){let u=S1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=up(null,t,e,u[1],r),u=ga(u,e.attrs,r),A1(t,e,r,u))}else s=R1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function S1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(js(r)!==0)return t[Si(r)]}function A1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Si(i)]=r}function R1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ga(r,o,n)}return ga(r,e.attrs,n)}function up(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ga(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ga(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tx(t,o,n?!0:e[++s]))}return t===void 0?null:t}function N1(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=v1(l)?dD(u,e,n,i,js(l),o):void 0;if(!Il(h)){Il(s)||m1(l)&&(s=dD(u,null,n,i,a,o));let p=JD(Lr(),n);CO(r,o,p,i,s)}}function dD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===en&&(m=p?$t:void 0);let y=p?ep(m,r):h===r?m:void 0;if(l&&!Il(y)&&(y=ep(u,r)),Il(y)&&(a=y,o))return a;let b=t[i+1];i=o?Si(b):js(b)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=ep(u,r))}return a}function Il(t){return t!==void 0}function M1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et(Hs(t)))),t}function x1(t,e){return(t.flags&(e?8:16))!==0}var ng=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function lp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function P1(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),h=e[s],p=lp(s,l,s,h,n);if(p!==0){p<0&&t.updateValue(s,h),s++;continue}let m=t.at(o),y=e[u],b=lp(o,m,u,y,n);if(b!==0){b<0&&t.updateValue(o,y),o--,u--;continue}let N=n(s,l),R=n(o,m),k=n(s,h);if(Object.is(k,R)){let U=n(u,y);Object.is(U,N)?(t.swap(s,o),t.updateValue(o,y),u--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(r??=new wl,i??=fD(t,s,o,n),rg(t,r,s,k))t.updateValue(s,h),s++,o++;else if(i.has(k))r.set(N,t.detach(s)),o--;else{let U=t.create(s,e[s]);t.attach(s,U),s++,o++}}for(;s<=u;)hD(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let h=t.at(s),p=l.value,m=lp(s,h,s,p,n);if(m!==0)m<0&&t.updateValue(s,p),s++,l=u.next();else{r??=new wl,i??=fD(t,s,o,n);let y=n(s,p);if(rg(t,r,s,y))t.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,l=u.next();else{let b=n(s,h);r.set(b,t.detach(s)),o--}}}for(;!l.done;)hD(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function rg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function hD(t,e,n,r,i){if(rg(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function fD(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var wl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function d5(t,e){tr("NgControlFlow");let n=Y(),r=kr(),i=n[r]!==en?n[r]:-1,s=i!==-1?El(n,$e+i):void 0,o=0;if(At(n,r,t)){let a=le(null);try{if(s!==void 0&&_b(s,o),t!==-1){let u=$e+t,l=El(n,u),h=ag(n[ee],u),p=Ls(l,h.tView.ssrId),m=Ta(n,h,e,{dehydratedView:p});ba(l,m,o,ks(h,p))}}finally{le(a)}}else if(s!==void 0){let a=vb(s,o);a!==void 0&&(a[ht]=e)}}var ig=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ft}};function h5(t){return t}var sg=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function f5(t,e,n,r,i,s,o,a,u,l,h,p,m){tr("NgControlFlow");let y=Y(),b=Pe(),N=u!==void 0,R=Y(),k=a?o.bind(R[Lt][ht]):o,U=new sg(N,k);R[$e+t]=U,_l(y,b,t+1,e,n,r,i,Mr(b.consts,s)),N&&_l(y,b,t+2,u,l,h,p,Mr(b.consts,m))}var og=class extends ng{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ft}at(e){return this.getLView(e)[ht].$implicit}attach(e,n){let r=n[xs];this.needsIndexUpdate||=e!==this.length,ba(this.lContainer,n,e,ks(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,O1(this.lContainer,e)}create(e,n){let r=Ls(this.lContainer,this.templateTNode.tView.ssrId),i=Ta(this.hostLView,this.templateTNode,new ig(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){jl(e[ee],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ht].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ht].$index=e}getLView(e){return k1(this.lContainer,e)}};function p5(t){let e=le(null),n=Lr();try{let r=Y(),i=r[ee],s=r[n],o=n+1,a=El(r,o);if(s.liveCollection===void 0){let l=ag(i,o);s.liveCollection=new og(a,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(P1(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=kr(),h=u.length===0;if(At(r,l,h)){let p=n+2,m=El(r,p);if(h){let y=ag(i,p),b=Ls(m,y.tView.ssrId),N=Ta(r,y,void 0,{dehydratedView:b});ba(m,N,0,ks(y,b))}else _b(m,0)}}}finally{le(e)}}function El(t,e){return t[e]}function O1(t,e){return fa(t,e)}function k1(t,e){return vb(t,e)}function ag(t,e){return Ng(t,e)}function L1(t,e,n,r,i,s){let o=e.consts,a=Mr(o,i),u=qs(e,t,2,r,a);return tm(e,n,u,Mr(o,s)),u.attrs!==null&&fl(u,u.attrs,!1),u.mergedAttrs!==null&&fl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function $b(t,e,n,r){let i=Y(),s=Pe(),o=$e+t,a=i[xe],u=s.firstCreatePass?L1(o,s,i,e,n,r):s.data[o],l=F1(s,i,u,a,e,t);i[o]=l;let h=Ml(u);return Ri(u,!0),rb(a,l,u),!o1(u)&&Ol()&&Bl(s,i,l,u),Bx()===0&&xr(l,i),$x(),h&&(Jg(s,i,u),Zg(s,u,i)),r!==null&&Xg(i,u),$b}function Hb(){let t=ot();xg()?Pg():(t=t.parent,Ri(t,!1));let e=t;qx(e)&&zx(),Hx();let n=Pe();return n.firstCreatePass&&(Ll(n,t),Rg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&sP(e)&&lD(n,e,Y(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&oP(e)&&lD(n,e,Y(),e.stylesWithoutHost,!1),Hb}function um(t,e,n,r){return $b(t,e,n,r),Hb(),um}var F1=(t,e,n,r,i,s)=>(kl(!0),WT(r,i,tP()));function V1(t,e,n,r,i){let s=e.consts,o=Mr(s,r),a=qs(e,t,8,"ng-container",o);o!==null&&fl(a,o,!0);let u=Mr(s,i);return tm(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function qb(t,e,n){let r=Y(),i=Pe(),s=t+$e,o=i.firstCreatePass?V1(s,i,r,e,n):i.data[s];Ri(o,!0);let a=j1(i,r,o,t);return r[s]=a,Ol()&&Bl(i,r,a,o),xr(a,r),Ml(o)&&(Jg(i,r,o),Zg(i,o,r)),n!=null&&Xg(r,o),qb}function zb(){let t=ot(),e=Pe();return xg()?Pg():(t=t.parent,Ri(t,!1)),e.firstCreatePass&&(Ll(e,t),Rg(t)&&e.queries.elementEnd(t)),zb}function U1(t,e,n){return qb(t,e,n),zb(),U1}var j1=(t,e,n,r)=>(kl(!0),hO(e[xe],""));function g5(){return Y()}function B1(t,e,n){let r=Y(),i=kr();if(At(r,i,e)){let s=Pe(),o=wa();ql(s,o,r,t,e,r[xe],n,!0)}return B1}function $1(t,e,n){let r=Y(),i=kr();if(At(r,i,e)){let s=Pe(),o=wa(),a=cT(s.data),u=XO(a,o,r);ql(s,o,r,t,e,u,n,!0)}return $1}var gi=void 0;function H1(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var q1=["en",[["a","p"],["AM","PM"],gi],[["AM","PM"],gi,gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gi,"{1} 'at' {0}",gi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",H1],dp={};function zt(t){let e=z1(t),n=pD(e);if(n)return n;let r=e.split("-")[0];if(n=pD(r),n)return n;if(r==="en")return q1;throw new $(701,!1)}function pD(t){return t in dp||(dp[t]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[t]),dp[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});function z1(t){return t.toLowerCase().replace(/_/g,"-")}var Dl="en-US";var G1=Dl;function W1(t){typeof t=="string"&&(G1=t.toLowerCase().replace(/_/g,"-"))}var K1=(t,e,n)=>{};function lm(t,e,n,r){let i=Y(),s=Pe(),o=ot();return Gb(s,i,i[xe],o,t,e,r),lm}function Q1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[el],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function Gb(t,e,n,r,i,s,o){let a=Ml(r),l=t.firstCreatePass&&gb(t),h=e[ht],p=pb(e),m=!0;if(r.type&3||o){let N=qt(r,e),R=o?o(N):N,k=p.length,U=o?ce=>o(In(ce[r.index])):r.index,K=null;if(!o&&a&&(K=Q1(t,e,i,r.index)),K!==null){let ce=K.__ngLastListenerFn__||K;ce.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,m=!1}else{s=mD(r,e,h,s),K1(N,i,s);let ce=n.listen(R,i,s);p.push(s,ce),l&&l.push(i,U,k,k+1)}}else s=mD(r,e,h,s);let y=r.outputs,b;if(m&&y!==null&&(b=y[i])){let N=b.length;if(N)for(let R=0;R<N;R+=2){let k=b[R],U=b[R+1],ke=e[k][U].subscribe(s),ne=p.length;p.push(s,ke),l&&l.push(i,r.index,ne,-(ne+1))}}}function gD(t,e,n,r){let i=le(null);try{return mn(6,e,n),n(r)!==!1}catch(s){return mb(t,s),!1}finally{mn(7,e,n),le(i)}}function mD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Or(t.index,e):e;im(o,5);let a=gD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=gD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function m5(t=1){return eP(t)}function Y1(t,e){let n=null,r=ux(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?OD(t,s,!0):hx(r,s))return i}return n}function y5(t){let e=Y()[Lt][Rt];if(!e.projection){let n=t?t.length:1,r=e.projection=XM(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?Y1(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function v5(t,e=0,n,r,i,s){let o=Y(),a=Pe(),u=r?t+1:null;u!==null&&_l(o,a,u,r,i,s,null,n);let l=qs(a,$e+t,16,null,n||null);l.projection===null&&(l.projection=e),Pg();let p=!o[xs]||iT();o[Lt][Rt].projection[l.projection]===null&&u!==null?Z1(o,a,u):p&&(l.flags&32)!==32&&TO(a,o,l)}function Z1(t,e,n){let r=$e+n,i=e.data[r],s=t[r],o=Ls(s,i.tView.ssrId),a=Ta(t,i,void 0,{dehydratedView:o});ba(s,a,0,ks(i,o))}function Wb(t,e,n,r){qk(t,e,n,r)}function _5(t,e,n){Hk(t,e,n)}function Kb(t){let e=Y(),n=Pe(),r=uT();Og(r+1);let i=sm(n,r);if(t.dirty&&Fx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Wk(e,r);t.reset(s,SP),t.notifyOnChanges()}return!0}return!1}function Qb(){return $k(Y(),uT())}function J1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function I5(t){let e=Wx();return Ia(e,$e+t)}function w5(t,e=""){let n=Y(),r=Pe(),i=t+$e,s=r.firstCreatePass?qs(r,i,1,e,null):r.data[i],o=X1(r,n,s,e,t);n[i]=o,Ol()&&Bl(r,n,o,s),Ri(s,!1)}var X1=(t,e,n,r,i)=>(kl(!0),lO(e[xe],r));function eL(t){return Yb("",t,""),eL}function Yb(t,e,n){let r=Y(),i=p1(r,t,e,n);return i!==en&&yb(r,Lr(),i),Yb}function tL(t,e,n,r,i){let s=Y(),o=g1(s,t,e,n,r,i);return o!==en&&yb(s,Lr(),o),tL}function nL(t,e,n){Pb(e)&&(e=e());let r=Y(),i=kr();if(At(r,i,e)){let s=Pe(),o=wa();ql(s,o,r,t,e,r[xe],n,!1)}return nL}function E5(t,e){let n=Pb(t);return n&&t.set(e),n}function rL(t,e){let n=Y(),r=Pe(),i=ot();return Gb(r,n,n[xe],i,t,e),rL}function iL(t,e,n){let r=Pe();if(r.firstCreatePass){let i=Kn(t);cg(n,r.data,r.blueprint,i,!0),cg(e,r.data,r.blueprint,i,!1)}}function cg(t,e,n,r,i){if(t=rt(t),Array.isArray(t))for(let s=0;s<t.length;s++)cg(t[s],e,n,r,i);else{let s=Pe(),o=Y(),a=ot(),u=Ms(t)?t:rt(t.provide),l=qD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ms(t)||!t.multi){let y=new Di(l,i,me),b=fp(u,e,i?h:h+m,p);b===-1?(Sp(ol(a,o),s,u),hp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[b]=y,o[b]=y)}else{let y=fp(u,e,h+m,p),b=fp(u,e,h,h+m),N=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!N){Sp(ol(a,o),s,u);let k=aL(i?oL:sL,n.length,i,r,l);!i&&R&&(n[b].providerFactory=k),hp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=Zb(n[i?b:y],l,!i&&r);hp(s,t,y>-1?y:b,k)}!i&&r&&R&&n[b].componentProviders++}}}function hp(t,e,n,r){let i=Ms(e),s=Dx(e);if(i||s){let u=(s?rt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Zb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function sL(t,e,n,r){return ug(this.multi,[])}function oL(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ti(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),ug(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ug(i,s);return s}function ug(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aL(t,e,n,r,i){let s=new Di(t,n,me);return s.multi=[],s.index=e,s.componentProviders=0,Zb(s,i,r&&!n),s}function D5(t,e=[]){return n=>{n.providersResolver=(r,i)=>iL(r,i?i(t):t,e)}}var cL=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=BD(!1,n.type),i=r.length>0?Kl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(X(kt))})}}return t})();function Jb(t){tr("NgStandalone"),t.getStandaloneInjector=e=>e.get(cL).getOrCreateStandaloneInjector(t)}function T5(t,e,n){let r=Ni()+t,i=Y();return i[r]===en?zs(i,r,n?e.call(n):e()):Fb(i,r)}function b5(t,e,n,r){return Xb(Y(),Ni(),t,e,n,r)}function C5(t,e,n,r,i,s,o,a){let u=Ni()+t,l=Y(),h=Vb(l,u,n,r,i,s);return At(l,u+4,o)||h?zs(l,u+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Fb(l,u+5)}function Ql(t,e){let n=t[e];return n===en?void 0:n}function Xb(t,e,n,r,i,s){let o=e+n;return At(t,o,i)?zs(t,o+1,s?r.call(s,i):r(i)):Ql(t,o+1)}function uL(t,e,n,r,i,s,o){let a=e+n;return vl(t,a,i,s)?zs(t,a+2,o?r.call(o,i,s):r(i,s)):Ql(t,a+2)}function lL(t,e,n,r,i,s,o,a,u){let l=e+n;return Vb(t,l,i,s,o,a)?zs(t,l+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):Ql(t,l+4)}function dL(t,e,n,r,i,s){let o=e+n,a=!1;for(let u=0;u<i.length;u++)At(t,o++,i[u])&&(a=!0);return a?zs(t,o,r.apply(s,i)):Ql(t,o)}function S5(t,e){let n=Pe(),r,i=t+$e;n.firstCreatePass?(r=hL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=vi(r.type,!0)),o,a=St(me);try{let u=sl(!1),l=s();return sl(u),J1(n,Y(),i,l),l}finally{St(a)}}function hL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function A5(t,e,n){let r=t+$e,i=Y(),s=Ia(i,r);return Yl(i,r)?Xb(i,Ni(),e,s.transform,n,s):s.transform(n)}function R5(t,e,n,r){let i=t+$e,s=Y(),o=Ia(s,i);return Yl(s,i)?uL(s,Ni(),e,o.transform,n,r,o):o.transform(n,r)}function N5(t,e,n,r,i,s){let o=t+$e,a=Y(),u=Ia(a,o);return Yl(a,o)?lL(a,Ni(),e,u.transform,n,r,i,s,u):u.transform(n,r,i,s)}function M5(t,e,n){let r=t+$e,i=Y(),s=Ia(i,r);return Yl(i,r)?dL(i,Ni(),e,s.transform,n,s):s.transform.apply(s,n)}function Yl(t,e){return t[ee].data[e].pure}function x5(t,e){return Gl(t,e)}var Pr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eC=new Pr("18.2.10");var Zl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var tC=new B("");function Gs(t){return!!t&&typeof t.then=="function"}function dm(t){return!!t&&typeof t.subscribe=="function"}var Jl=new B(""),nC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Jl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Gs(s))n.push(s);else if(dm(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xl=new B("");function fL(){DE(()=>{throw new $(600,!1)})}function pL(t){return t.isBoundToModule}var gL=10;function mL(t,e,n){try{let r=n();return Gs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(bP),this.afterRenderManager=P(Ub),this.zonelessEnabled=P(Wl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new je,this.afterTick=new je,this.componentTypes=[],this.components=[],this.isStable=P(Mi).hasPendingTasks.pipe(de(n=>!n)),this._injector=P(kt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof hl;if(!this._injector.get(nC).done){let m=!i&&FD(n),y=!1;throw new $(405,y)}let o;i?o=n:o=this._injector.get(Vs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=pL(o)?void 0:this._injector.get(Zn),u=r||o.selector,l=o.create(st.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(tC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ku(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=le(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,le(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Us,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<gL;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)yL(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>xl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Xl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ku(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yL(t,e,n,r){if(!n&&!xl(t))return;Eb(t,e,n&&!r?0:1)}var lg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ed=(()=>{class t{compileModuleSync(n){return new Zp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=VD(n),s=GT(i.declarations).reduce((o,a)=>{let u=Gn(a);return u&&o.push(new Ci(u)),o},[]);return new lg(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vL=(()=>{class t{constructor(){this.zone=P(Ie),this.changeDetectionScheduler=P(Fs),this.applicationRef=P(xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_L=new B("",{factory:()=>!1});function rC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(Te(F({},iC()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:Ns,multi:!0,useFactory:()=>{let r=P(vL,{optional:!0});return()=>r.initialize()}},{provide:Ns,multi:!0,useFactory:()=>{let r=P(IL);return()=>{r.initialize()}}},e===!0?{provide:Cb,useValue:!0}:[],{provide:Sb,useValue:n??ST}]}function P5(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=rC({ngZoneFactory:()=>{let i=iC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&tr("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return En([{provide:_L,useValue:!0},{provide:Wl,useValue:!1},r])}function iC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var IL=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=P(Ie),this.pendingTasks=P(Mi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wL=(()=>{class t{constructor(){this.appRef=P(xi),this.taskService=P(Mi),this.ngZone=P(Ie),this.zonelessEnabled=P(Wl),this.disableScheduling=P(Cb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Sb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zE:AT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function EL(){return typeof $localize<"u"&&$localize.locale||Dl}var td=new B("",{providedIn:"root",factory:()=>P(td,ae.Optional|ae.SkipSelf)||EL()});var dg=new B("");function $u(t){return!t.moduleRef}function DL(t){let e=$u(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{$u(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(wn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),$u(t)){let s=()=>e.destroy(),o=t.platformInjector.get(dg);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(dg);o.add(s),t.moduleRef.onDestroy(()=>{Ku(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return mL(r,n,()=>{let s=e.get(nC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(td,Dl);if(W1(o||Dl),$u(t)){let a=e.get(xi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return TL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function TL(t,e){let n=t.injector.get(xi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Qu=null;function bL(t=[],e){return st.create({name:e,providers:[{provide:Sl,useValue:"platform"},{provide:dg,useValue:new Set([()=>Qu=null])},...t]})}function CL(t=[]){if(Qu)return Qu;let e=bL(t);return Qu=e,fL(),SL(e),e}function SL(t){t.get(Hg,null)?.forEach(n=>n())}var Fr=(()=>{class t{static{this.__NG_ELEMENT_ID__=AL}}return t})();function AL(t){return RL(ot(),Y(),(t&16)===16)}function RL(t,e,n){if(Nl(t)&&!n){let r=Or(t.index,e);return new bi(r,r)}else if(t.type&175){let r=e[Lt];return new bi(r,e)}return null}var hg=class{constructor(){}supports(e){return Lb(e)}create(e){return new fg(e)}},NL=(t,e)=>e,fg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<yD(r,i,s)?n:r,a=yD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,b=y+m;h<=b&&b<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Lb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,i1(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new pg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Tl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new gg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vD(){return new hm([new hg])}var hm=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:vD})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||vD()),deps:[[t,new Eg,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function sC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=CL(r),s=[rC({}),{provide:Fs,useExisting:wL},...n||[]],o=new yl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return DL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Sa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function O5(t,e){tr("NgSignals");let n=IE(t);return e?.equal&&(n[gn].equal=e.equal),n}function fm(t){let e=le(null);try{return t()}finally{le(e)}}var ML=new B("",{providedIn:"root",factory:()=>P(xL)}),xL=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new mg})}}return t})(),mg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=P(Mi),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},yg=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=SE(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(wn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function PL(t,e){tr("NgSignals"),!e?.injector&&GD(PL);let n=e?.injector??P(st),r=e?.manualCleanup!==!0?n.get(Fl):null,i=new yg(n.get(ML),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(Fr,null,{optional:!0});return!s||!(s._lView[Q]&8)?i.watcher.notify():(s._lView[qu]??=[]).push(i.watcher.notify),i}function k5(t,e){let n=Gn(t),r=e.elementInjector||Al();return new Ci(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function oC(t){let e=Gn(t);if(!e)return null;let n=new Ci(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fC=null;function Pi(){return fC}function pC(t){fC??=t}var dd=class{};var Tt=new B(""),Dm=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(OL),providedIn:"platform"})}}return t})(),gC=new B(""),OL=(()=>{class t extends Dm{constructor(){super(),this._doc=P(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(n){let r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Tm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function aC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function rr(t){return t&&t[0]!=="?"?"?"+t:t}var sr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(bm),providedIn:"root"})}}return t})(),mC=new B(""),bm=(()=>{class t extends sr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+rr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+rr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(X(Dm),X(mC,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yC=(()=>{class t extends sr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Tm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+rr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+rr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(X(Dm),X(mC,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ws=(()=>{class t{constructor(n){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=FL(aC(cC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rr(r))}normalize(n){return t.stripTrailingSlash(LL(this._basePath,cC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=rr}static{this.joinWithSlash=Tm}static{this.stripTrailingSlash=aC}static{this.\u0275fac=function(r){return new(r||t)(X(sr))}}static{this.\u0275prov=H({token:t,factory:()=>kL(),providedIn:"root"})}}return t})();function kL(){return new Ws(X(sr))}function LL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cC(t){return t.replace(/\/index.html$/,"")}function FL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Dt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Dt||{}),Ce=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ce||{}),Ft=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ft||{}),Vr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function VL(t){return zt(t)[Ue.LocaleId]}function UL(t,e,n){let r=zt(t),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],s=Gt(i,e);return Gt(s,n)}function jL(t,e,n){let r=zt(t),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],s=Gt(i,e);return Gt(s,n)}function BL(t,e,n){let r=zt(t),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],s=Gt(i,e);return Gt(s,n)}function $L(t,e){let r=zt(t)[Ue.Eras];return Gt(r,e)}function rd(t,e){let n=zt(t);return Gt(n[Ue.DateFormat],e)}function id(t,e){let n=zt(t);return Gt(n[Ue.TimeFormat],e)}function sd(t,e){let r=zt(t)[Ue.DateTimeFormat];return Gt(r,e)}function gd(t,e){let n=zt(t),r=n[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Vr.CurrencyDecimal)return n[Ue.NumberSymbols][Vr.Decimal];if(e===Vr.CurrencyGroup)return n[Ue.NumberSymbols][Vr.Group]}return r}function vC(t){if(!t[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function HL(t){let e=zt(t);return vC(e),(e[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?pm(r):[pm(r[0]),pm(r[1])])}function qL(t,e,n){let r=zt(t);vC(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],s=Gt(i,e)||[];return Gt(s,n)||[]}function Gt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function pm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var zL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,od={},GL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ir=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ir||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ve||{});function WL(t,e,n,r){let i=nF(t);e=nr(n,e)||e;let o=[],a;for(;e;)if(a=GL.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=IC(r,u),i=tF(i,r,!0));let l="";return o.forEach(h=>{let p=XL(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function hd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function nr(t,e){let n=VL(t);if(od[n]??={},od[n][e])return od[n][e];let r="";switch(e){case"shortDate":r=rd(t,Ft.Short);break;case"mediumDate":r=rd(t,Ft.Medium);break;case"longDate":r=rd(t,Ft.Long);break;case"fullDate":r=rd(t,Ft.Full);break;case"shortTime":r=id(t,Ft.Short);break;case"mediumTime":r=id(t,Ft.Medium);break;case"longTime":r=id(t,Ft.Long);break;case"fullTime":r=id(t,Ft.Full);break;case"short":let i=nr(t,"shortTime"),s=nr(t,"shortDate");r=ad(sd(t,Ft.Short),[i,s]);break;case"medium":let o=nr(t,"mediumTime"),a=nr(t,"mediumDate");r=ad(sd(t,Ft.Medium),[o,a]);break;case"long":let u=nr(t,"longTime"),l=nr(t,"longDate");r=ad(sd(t,Ft.Long),[u,l]);break;case"full":let h=nr(t,"fullTime"),p=nr(t,"fullDate");r=ad(sd(t,Ft.Full),[h,p]);break}return r&&(od[n][e]=r),r}function ad(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function nn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function KL(t,e){return nn(t,3).substring(0,e)}function He(t,e,n=0,r=!1,i=!1){return function(s,o){let a=QL(t,s);if((n>0||a>-n)&&(a+=n),t===_e.Hours)a===0&&n===-12&&(a=12);else if(t===_e.FractionalSeconds)return KL(a,e);let u=gd(o,Vr.MinusSign);return nn(a,e,u,r,i)}}function QL(t,e){switch(t){case _e.FullYear:return e.getFullYear();case _e.Month:return e.getMonth();case _e.Date:return e.getDate();case _e.Hours:return e.getHours();case _e.Minutes:return e.getMinutes();case _e.Seconds:return e.getSeconds();case _e.FractionalSeconds:return e.getMilliseconds();case _e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,e,n=Dt.Format,r=!1){return function(i,s){return YL(i,s,t,e,n,r)}}function YL(t,e,n,r,i,s){switch(n){case ve.Months:return BL(e,i,r)[t.getMonth()];case ve.Days:return jL(e,i,r)[t.getDay()];case ve.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=HL(e),h=qL(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,b]=m,N=o>=y.hours&&a>=y.minutes,R=o<b.hours||o===b.hours&&a<b.minutes;if(y.hours<b.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return UL(e,i,r)[o<12?0:1];case ve.Eras:return $L(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function cd(t){return function(e,n,r){let i=-1*r,s=gd(n,Vr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ir.Short:return(i>=0?"+":"")+nn(o,2,s)+nn(Math.abs(i%60),2,s);case ir.ShortGMT:return"GMT"+(i>=0?"+":"")+nn(o,1,s);case ir.Long:return"GMT"+(i>=0?"+":"")+nn(o,2,s)+":"+nn(Math.abs(i%60),2,s);case ir.Extended:return r===0?"Z":(i>=0?"+":"")+nn(o,2,s)+":"+nn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var ZL=0,ld=4;function JL(t){let e=hd(t,ZL,1).getDay();return hd(t,0,1+(e<=ld?ld:ld+7)-e)}function _C(t){let e=t.getDay(),n=e===0?-3:ld-e;return hd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function gm(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=_C(n),o=JL(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return nn(i,t,gd(r,Vr.MinusSign))}}function ud(t,e=!1){return function(n,r){let s=_C(n).getFullYear();return nn(s,t,gd(r,Vr.MinusSign),e)}}var mm={};function XL(t){if(mm[t])return mm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(ve.Eras,Ce.Abbreviated);break;case"GGGG":e=Se(ve.Eras,Ce.Wide);break;case"GGGGG":e=Se(ve.Eras,Ce.Narrow);break;case"y":e=He(_e.FullYear,1,0,!1,!0);break;case"yy":e=He(_e.FullYear,2,0,!0,!0);break;case"yyy":e=He(_e.FullYear,3,0,!1,!0);break;case"yyyy":e=He(_e.FullYear,4,0,!1,!0);break;case"Y":e=ud(1);break;case"YY":e=ud(2,!0);break;case"YYY":e=ud(3);break;case"YYYY":e=ud(4);break;case"M":case"L":e=He(_e.Month,1,1);break;case"MM":case"LL":e=He(_e.Month,2,1);break;case"MMM":e=Se(ve.Months,Ce.Abbreviated);break;case"MMMM":e=Se(ve.Months,Ce.Wide);break;case"MMMMM":e=Se(ve.Months,Ce.Narrow);break;case"LLL":e=Se(ve.Months,Ce.Abbreviated,Dt.Standalone);break;case"LLLL":e=Se(ve.Months,Ce.Wide,Dt.Standalone);break;case"LLLLL":e=Se(ve.Months,Ce.Narrow,Dt.Standalone);break;case"w":e=gm(1);break;case"ww":e=gm(2);break;case"W":e=gm(1,!0);break;case"d":e=He(_e.Date,1);break;case"dd":e=He(_e.Date,2);break;case"c":case"cc":e=He(_e.Day,1);break;case"ccc":e=Se(ve.Days,Ce.Abbreviated,Dt.Standalone);break;case"cccc":e=Se(ve.Days,Ce.Wide,Dt.Standalone);break;case"ccccc":e=Se(ve.Days,Ce.Narrow,Dt.Standalone);break;case"cccccc":e=Se(ve.Days,Ce.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":e=Se(ve.Days,Ce.Abbreviated);break;case"EEEE":e=Se(ve.Days,Ce.Wide);break;case"EEEEE":e=Se(ve.Days,Ce.Narrow);break;case"EEEEEE":e=Se(ve.Days,Ce.Short);break;case"a":case"aa":case"aaa":e=Se(ve.DayPeriods,Ce.Abbreviated);break;case"aaaa":e=Se(ve.DayPeriods,Ce.Wide);break;case"aaaaa":e=Se(ve.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":e=Se(ve.DayPeriods,Ce.Abbreviated,Dt.Standalone,!0);break;case"bbbb":e=Se(ve.DayPeriods,Ce.Wide,Dt.Standalone,!0);break;case"bbbbb":e=Se(ve.DayPeriods,Ce.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(ve.DayPeriods,Ce.Abbreviated,Dt.Format,!0);break;case"BBBB":e=Se(ve.DayPeriods,Ce.Wide,Dt.Format,!0);break;case"BBBBB":e=Se(ve.DayPeriods,Ce.Narrow,Dt.Format,!0);break;case"h":e=He(_e.Hours,1,-12);break;case"hh":e=He(_e.Hours,2,-12);break;case"H":e=He(_e.Hours,1);break;case"HH":e=He(_e.Hours,2);break;case"m":e=He(_e.Minutes,1);break;case"mm":e=He(_e.Minutes,2);break;case"s":e=He(_e.Seconds,1);break;case"ss":e=He(_e.Seconds,2);break;case"S":e=He(_e.FractionalSeconds,1);break;case"SS":e=He(_e.FractionalSeconds,2);break;case"SSS":e=He(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=cd(ir.Short);break;case"ZZZZZ":e=cd(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=cd(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=cd(ir.Long);break;default:return null}return mm[t]=e,e}function IC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function eF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function tF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=IC(e,i);return eF(t,r*(s-i))}function nF(t){if(uC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return hd(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(zL))return rF(r)}let e=new Date(t);if(!uC(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function rF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function uC(t){return t instanceof Date&&!isNaN(t.valueOf())}function wC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var rK=(()=>{class t{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=kb(this.ngComponentOutletNgModule,lC(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(lC(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,i]of this._inputsUsed)i?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}static{this.\u0275fac=function(r){return new(r||t)(me(tn))}}static{this.\u0275dir=Xt({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Ai]})}}return t})();function lC(t){return t.get(Zn).injector}var ym=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},iK=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ym(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),dC(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);dC(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(me(tn),me(Yn),me(hm))}}static{this.\u0275dir=Xt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function dC(t,e){t.context.$implicit=e.item}var sK=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new vm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(me(tn),me(Yn))}}static{this.\u0275dir=Xt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),vm=class{constructor(){this.$implicit=null,this.ngIf=null}};function hC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}var fd=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},EC=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Xt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),oK=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new fd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||t)(me(tn),me(Yn),me(EC,9))}}static{this.\u0275dir=Xt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})(),aK=(()=>{class t{constructor(n,r,i){i._addDefault(new fd(n,r))}static{this.\u0275fac=function(r){return new(r||t)(me(tn),me(Yn),me(EC,9))}}static{this.\u0275dir=Xt({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return t})();function DC(t,e){return new $(2100,!1)}var _m=class{createSubscription(e,n){return fm(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){fm(()=>e.unsubscribe())}},Im=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},iF=new Im,sF=new _m,cK=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Gs(n))return iF;if(dm(n))return sF;throw DC(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(me(Fr,16))}}static{this.\u0275pipe=bg({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var oF="mediumDate",aF=new B(""),cF=new B(""),uK=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??oF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return WL(n,o,s||this.locale,a)}catch(o){throw DC(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(me(td,16),me(aF,24),me(cF,24))}}static{this.\u0275pipe=bg({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var uF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_a({type:t})}static{this.\u0275inj=ya({})}}return t})(),Cm="browser",lF="server";function dF(t){return t===Cm}function Sm(t){return t===lF}var TC=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>dF(P(bn))?new wm(P(Tt),window):new Em})}}return t})(),wm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=hF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function hF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Em=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},pd=class{};var Nm=class extends dd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mm=class t extends Nm{static makeCurrent(){pC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pF();return n==null?null:gF(n)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wC(document.cookie,e)}},Aa=null;function pF(){return Aa=Aa||document.querySelector("base"),Aa?Aa.getAttribute("href"):null}function gF(t){return new URL(t,document.baseURI).pathname}var mF=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),xm=new B(""),AC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(X(xm),X(Ie))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),md=class{constructor(e){this._doc=e}},Am="ng-app-id",RC=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sm(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Am}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Am),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Am,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(X(Tt),X($g),X(qg,8),X(bn))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Rm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Om=/%COMP%/g,NC="%COMP%",yF=`_nghost-${NC}`,vF=`_ngcontent-${NC}`,_F=!0,IF=new B("",{providedIn:"root",factory:()=>_F});function wF(t){return vF.replace(Om,t)}function EF(t){return yF.replace(Om,t)}function MC(t,e){return e.map(n=>n.replace(Om,t))}var bC=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Sm(a),this.defaultRenderer=new Ra(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=Te(F({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof yd?i.applyToHost(n):i instanceof Na&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case vn.Emulated:s=new yd(u,l,r,this.appId,h,o,a,p);break;case vn.ShadowDom:return new Pm(u,l,n,r,o,a,this.nonce,p);default:s=new Na(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(X(AC),X(RC),X($g),X(IF),X(Tt),X(bn),X(Ie),X(qg))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ra=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Rm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Rm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Rm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(n,r,i&Qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function CC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pm=class extends Ra{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=MC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Na=class extends Ra{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?MC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yd=class extends Na{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=wF(l),this.hostAttr=EF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DF=(()=>{class t extends md{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(X(Tt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),SC=["alt","control","meta","shift"],TF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CF=(()=>{class t extends md{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),SC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=TF[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),SC.forEach(o=>{if(o!==i){let a=bF[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(X(Tt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function PK(t,e){return sC(F({rootComponent:t},SF(e)))}function SF(t){return{appProviders:[...xF,...t?.providers??[]],platformProviders:MF}}function AF(){Mm.makeCurrent()}function RF(){return new wn}function NF(){return kT(document),document}var MF=[{provide:bn,useValue:Cm},{provide:Hg,useValue:AF,multi:!0},{provide:Tt,useFactory:NF,deps:[]}];var xF=[{provide:Sl,useValue:"root"},{provide:wn,useFactory:RF,deps:[]},{provide:xm,useClass:DF,multi:!0,deps:[Tt,Ie,bn]},{provide:xm,useClass:CF,multi:!0,deps:[Tt]},bC,RC,AC,{provide:Us,useExisting:bC},{provide:pd,useClass:mF,deps:[]},[]];var OK=(()=>{class t{constructor(n){this._doc=n,this._dom=Pi()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((i,s)=>(s&&i.push(this._getOrCreateElement(s,r)),i),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let i=this.getTag(r);return i?this._setMetaElementAttributes(n,i):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let o=this._parseSelector(n),a=this.getTags(o).filter(u=>this._containsAttributes(n,u))[0];if(a!==void 0)return a}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(n,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(i=>r.setAttribute(this._getMetaKeyMap(i),n[i])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(i=>r.getAttribute(this._getMetaKeyMap(i))===n[i])}_getMetaKeyMap(n){return PF[n]||n}static{this.\u0275fac=function(r){return new(r||t)(X(Tt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PF={httpEquiv:"http-equiv"},xC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(X(Tt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var se="primary",za=Symbol("RouteTitle"),Um=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xs(t){return new Um(t)}function kF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cn(t[n],e[n]))return!1;return!0}function Cn(t,e){let n=t?jm(t):void 0,r=e?jm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!qC(t[i],e[i]))return!1;return!0}function jm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function qC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function zC(t){return t.length>0?t[t.length-1]:null}function Br(t){return $f(t)?t:Gs(t)?Re(Promise.resolve(t)):G(t)}var FF={exact:WC,subset:KC},GC={exact:VF,subset:UF,ignored:()=>!0};function PC(t,e,n){return FF[n.paths](t.root,e.root,n.matrixParams)&&GC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VF(t,e){return Cn(t,e)}function WC(t,e,n){if(!ki(t.segments,e.segments)||!Id(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!WC(t.children[r],e.children[r],n))return!1;return!0}function UF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qC(t[n],e[n]))}function KC(t,e,n){return QC(t,e,e.segments,n)}function QC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ki(i,n)||e.hasChildren()||!Id(i,n,r))}else if(t.segments.length===n.length){if(!ki(t.segments,n)||!Id(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!KC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ki(t.segments,i)||!Id(t.segments,i,r)||!t.children[se]?!1:QC(t.children[se],e,s,r)}}function Id(t,e,n){return e.every((r,i)=>GC[n](t[i].parameters,r.parameters))}var ar=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xs(this.queryParams),this._queryParamMap}toString(){return $F.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wd(this)}},Oi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xs(this.parameters),this._parameterMap}toString(){return ZC(this)}};function jF(t,e){return ki(t,e)&&t.every((n,r)=>Cn(n.parameters,e[r].parameters))}function ki(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function BF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var Ga=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new eo,providedIn:"root"})}}return t})(),eo=class{parse(e){let n=new $m(e);return new ar(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ma(e.root,!0)}`,r=zF(e.queryParams),i=typeof e.fragment=="string"?`#${HF(e.fragment)}`:"";return`${n}${r}${i}`}},$F=new eo;function wd(t){return t.segments.map(e=>ZC(e)).join("/")}function Ma(t,e){if(!t.hasChildren())return wd(t);if(e){let n=t.children[se]?Ma(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Ma(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=BF(t,(r,i)=>i===se?[Ma(t.children[se],!1)]:[`${i}:${Ma(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${wd(t)}/${n[0]}`:`${wd(t)}/(${n.join("//")})`}}function YC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vd(t){return YC(t).replace(/%3B/gi,";")}function HF(t){return encodeURI(t)}function Bm(t){return YC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ed(t){return decodeURIComponent(t)}function OC(t){return Ed(t.replace(/\+/g,"%20"))}function ZC(t){return`${Bm(t.path)}${qF(t.parameters)}`}function qF(t){return Object.entries(t).map(([e,n])=>`;${Bm(e)}=${Bm(n)}`).join("")}function zF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${vd(n)}=${vd(i)}`).join("&"):`${vd(n)}=${vd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var GF=/^[^\/()?;#]+/;function km(t){let e=t.match(GF);return e?e[0]:""}var WF=/^[^\/()?;=#]+/;function KF(t){let e=t.match(WF);return e?e[0]:""}var QF=/^[^=?&#]+/;function YF(t){let e=t.match(QF);return e?e[0]:""}var ZF=/^[^&#]+/;function JF(t){let e=t.match(ZF);return e?e[0]:""}var $m=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new we(e,n)),r}parseSegment(){let e=km(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Oi(Ed(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=km(this.remaining);i&&(r=i,this.capture(r))}e[Ed(n)]=Ed(r)}parseQueryParam(e){let n=YF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=JF(this.remaining);o&&(r=o,this.capture(r))}let i=OC(n),s=OC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=km(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[se]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function JC(t){return t.segments.length>0?new we([],{[se]:t}):t}function XC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=XC(i);if(r===se&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new we(t.segments,e);return XF(n)}function XF(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new we(t.segments.concat(e.segments),e.children)}return t}function Li(t){return t instanceof ar}function eV(t,e,n=null,r=null){let i=eS(t);return tS(i,e,n,r)}function eS(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new we(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=JC(r);return e??i}function tS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lm(i,i,i,n,r);let s=tV(e);if(s.toRoot())return Lm(i,i,new we([],{}),n,r);let o=nV(s,i,t),a=o.processChildren?Oa(o.segmentGroup,o.index,s.commands):rS(o.segmentGroup,o.index,s.commands);return Lm(i,o.segmentGroup,a,n,r)}function Dd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fa(t){return typeof t=="object"&&t!=null&&t.outlets}function Lm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=nS(t,e,n);let a=JC(XC(o));return new ar(a,s,i)}function nS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=nS(s,e,n)}),new we(t.segments,r)}var Td=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dd(r[0]))throw new $(4003,!1);let i=r.find(Fa);if(i&&i!==zC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Td(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Td(n,e,r)}var Ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nV(t,e,n){if(t.isAbsolute)return new Ys(e,!0,0);if(!n)return new Ys(e,!1,NaN);if(n.parent===null)return new Ys(n,!0,0);let r=Dd(t.commands[0])?0:1,i=n.segments.length-1+r;return rV(n,i,t.numberOfDoubleDots)}function rV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ys(r,!1,i-s)}function iV(t){return Fa(t[0])?t[0].outlets:{[se]:t}}function rS(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return Oa(t,e,n);let r=sV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new we(t.segments.slice(r.pathIndex),t.children),Oa(s,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Hm(t,e,n):r.match?Oa(t,0,i):Hm(t,e,n)}function Oa(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=iV(n),i={};if(Object.keys(r).some(s=>s!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let s=Oa(t.children[se],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=rS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new we(t.segments,i)}}function sV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Fa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!LC(u,l,o))return s;r+=2}else{if(!LC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Fa(s)){let u=oV(s.outlets);return new we(r,u)}if(i===0&&Dd(n[0])){let u=t.segments[e];r.push(new Oi(u.path,kC(n[0]))),i++;continue}let o=Fa(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dd(a)?(r.push(new Oi(o,kC(a))),i+=2):(r.push(new Oi(o,{})),i++)}return new we(r,{})}function oV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hm(new we([],{}),0,r))}),e}function kC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LC(t,e,n){return t==n.path&&Cn(e,n.parameters)}var ka="imperative",Ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ze||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},to=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),bd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bd||{}),or=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationSkipped}},Va=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cd=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zm=class extends Wt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Km=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qm=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ym=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zm=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jm=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xm=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ze.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ua=class{},no=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function aV(t,e){return t.providers&&!t._injector&&(t._injector=Kl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function rn(t){return t.outlet||se}function cV(t,e){let n=t.filter(r=>rn(r)===e);return n.push(...t.filter(r=>rn(r)!==e)),n}function Wa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ey=class{get injector(){return Wa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ka(this.rootInjector),this.attachRef=null}},Ka=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ey(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(X(kt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ad=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ty(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ty(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ny(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ny(e,this._root).map(n=>n.value)}};function ty(t,e){if(t===e.value)return e;for(let n of e.children){let r=ty(t,n);if(r)return r}return null}function ny(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ny(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Qs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Rd=class extends Ad{constructor(e,n){super(e),this.snapshot=n,dy(this,e)}toString(){return this.snapshot.toString()}};function iS(t){let e=uV(t),n=new tt([new Oi("",{})]),r=new tt({}),i=new tt({}),s=new tt({}),o=new tt(""),a=new jr(n,r,s,o,i,se,t,e.root);return a.snapshot=e.root,new Rd(new Vt(a,[]),e)}function uV(t){let e={},n={},r={},i="",s=new Zs([],e,r,i,n,se,t,null,{});return new Md("",new Vt(s,[]))}var jr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(de(l=>l[za]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Xs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Xs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&oS(i)&&(r.resolve[za]=i.title),r}var Zs=class{get title(){return this.data?.[za]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Md=class extends Ad{constructor(e,n){super(n),this.url=e,dy(this,n)}toString(){return sS(this._root)}};function dy(t,e){e.value._routerState=t,e.children.forEach(n=>dy(t,n))}function sS(t){let e=t.children.length>0?` { ${t.children.map(sS).join(", ")} } `:"";return`${t.value}${e}`}function Fm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Cn(e.params,n.params)||t.paramsSubject.next(n.params),LF(e.url,n.url)||t.urlSubject.next(n.url),Cn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ry(t,e){let n=Cn(t.params,e.params)&&jF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ry(t.parent,e.parent))}function oS(t){return typeof t.title=="string"||t.title===null}var lV=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=P(Ka),this.location=P(tn),this.changeDetector=P(Fr),this.inputBinder=P(kd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new iy(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Xt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ai]})}}return t})(),iy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jr?this.route:e===Ka?this.childContexts:this.parent.get(e,n)}},kd=new B(""),FC=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=na([r.queryParams,r.params,r.data]).pipe(Pt(([s,o,a],u)=>(a=F(F(F({},s),o),a),u===0?G(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=oC(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function dV(t,e,n){let r=ja(t,e._root,n?n._root:void 0);return new Rd(r,e)}function ja(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hV(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ja(t,a)),o}}let r=fV(e.value),i=e.children.map(s=>ja(t,s));return new Vt(r,i)}}function hV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ja(t,r,i);return ja(t,r)})}function fV(t){return new jr(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var Ba=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},aS="ngNavigationCancelingError";function xd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cS(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[aS]=!0,n.cancellationCode=e,n}function pV(t){return uS(t)&&Li(t.url)}function uS(t){return!!t&&t[aS]}var gV=(t,e,n,r)=>de(i=>(new sy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),sy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Qs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Qs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Fm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Pd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Js=class{constructor(e,n){this.component=e,this.route=n}};function mV(t,e,n){let r=t._root,i=e?e._root:null;return xa(r,i,n,[r.value])}function yV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function io(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ED(t)?t:e.get(t):r}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Qs(e);return t.children.forEach(o=>{vV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>La(a,n.getContext(o),i)),i}function vV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=_V(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Pd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xa(t,e,a?a.children:null,r,i):xa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Js(a.outlet.component,o))}else o&&La(e,a,i),i.canActivateChecks.push(new Pd(r)),s.component?xa(t,null,a?a.children:null,r,i):xa(t,null,n,r,i);return i}function _V(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ki(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ki(t.url,e.url)||!Cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ry(t,e)||!Cn(t.queryParams,e.queryParams);case"paramsChange":default:return!ry(t,e)}}function La(t,e,n){let r=Qs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?La(o,e.children.getContext(s),n):La(o,null,n):La(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Js(e.outlet.component,i)):n.canDeactivateChecks.push(new Js(null,i)):n.canDeactivateChecks.push(new Js(null,i))}function Qa(t){return typeof t=="function"}function IV(t){return typeof t=="boolean"}function wV(t){return t&&Qa(t.canLoad)}function EV(t){return t&&Qa(t.canActivate)}function DV(t){return t&&Qa(t.canActivateChild)}function TV(t){return t&&Qa(t.canDeactivate)}function bV(t){return t&&Qa(t.canMatch)}function lS(t){return t instanceof Bn||t?.name==="EmptyError"}var _d=Symbol("INITIAL_VALUE");function ro(){return Pt(t=>na(t.map(e=>e.pipe(Ot(1),Su(_d)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===_d)return _d;if(n===!1||CV(n))return n}return!0}),wt(e=>e!==_d),Ot(1)))}function CV(t){return Li(t)||t instanceof Ba}function SV(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(Te(F({},n),{guardsResult:!0})):AV(o,r,i,t).pipe(Ne(a=>a&&IV(a)?RV(r,s,t,e):G(a)),de(a=>Te(F({},n),{guardsResult:a})))})}function AV(t,e,n,r){return Re(t).pipe(Ne(i=>OV(i.component,i.route,n,e,r)),pn(i=>i!==!0,!0))}function RV(t,e,n,r){return Re(e).pipe(pi(i=>fn(MV(i.route.parent,r),NV(i.route,r),PV(t,i.path,n),xV(t,i.route,n))),pn(i=>i!==!0,!0))}function NV(t,e){return t!==null&&e&&e(new Jm(t)),G(!0)}function MV(t,e){return t!==null&&e&&e(new Ym(t)),G(!0)}function xV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>bu(()=>{let o=Wa(e)??n,a=io(s,o),u=EV(a)?a.canActivate(e,t):Dn(o,()=>a(e,t));return Br(u).pipe(pn())}));return G(i).pipe(ro())}function PV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yV(o)).filter(o=>o!==null).map(o=>bu(()=>{let a=o.guards.map(u=>{let l=Wa(o.node)??n,h=io(u,l),p=DV(h)?h.canActivateChild(r,t):Dn(l,()=>h(r,t));return Br(p).pipe(pn())});return G(a).pipe(ro())}));return G(s).pipe(ro())}function OV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(a=>{let u=Wa(e)??i,l=io(a,u),h=TV(l)?l.canDeactivate(t,e,n,r):Dn(u,()=>l(t,e,n,r));return Br(h).pipe(pn())});return G(o).pipe(ro())}function kV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let a=io(o,t),u=wV(a)?a.canLoad(e,n):Dn(t,()=>a(e,n));return Br(u)});return G(s).pipe(ro(),dS(r))}function dS(t){return kf(Be(e=>{if(typeof e!="boolean")throw xd(t,e)}),de(e=>e===!0))}function LV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let a=io(o,t),u=bV(a)?a.canMatch(e,n):Dn(t,()=>a(e,n));return Br(u)});return G(s).pipe(ro(),dS(r))}var $a=class{constructor(e){this.segmentGroup=e||null}},Ha=class extends Error{constructor(e){super(),this.urlTree=e}};function Ks(t){return _s(new $a(t))}function FV(t){return _s(new $(4e3,!1))}function VV(t){return _s(cS(!1,Ut.GuardRejected))}var oy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[se])return FV(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:b,title:N}=i,R=Dn(s,()=>a({params:y,data:b,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof ar)throw new Ha(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ha(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ar(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UV(t,e,n,r,i){let s=hS(t,e,n);return s.matched?(r=aV(e,r),LV(r,e,n,i).pipe(de(o=>o===!0?s:F({},ay)))):G(s)}function hS(t,e,n){if(e.path==="**")return jV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},ay):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kF)(n,t,e);if(!i)return F({},ay);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jV(t){return{matched:!0,parameters:t.length>0?zC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VC(t,e,n,r){return n.length>0&&HV(t,n,r)?{segmentGroup:new we(e,$V(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&qV(t,n,r)?{segmentGroup:new we(t.segments,BV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function BV(t,e,n,r){let i={};for(let s of n)if(Ld(t,e,s)&&!r[rn(s)]){let o=new we([],{});i[rn(s)]=o}return F(F({},r),i)}function $V(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&rn(r)!==se){let i=new we([],{});n[rn(r)]=i}return n}function HV(t,e,n){return n.some(r=>Ld(t,e,r)&&rn(r)!==se)}function qV(t,e,n){return n.some(r=>Ld(t,e,r))}function Ld(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zV(t,e,n){return e.length===0&&!t.children[n]}var cy=class{};function GV(t,e,n,r,i,s,o="emptyOnly"){return new uy(t,e,n,r,i,o,s).recognize()}var WV=31,uy=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new oy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=VC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new Vt(r,n),s=new Md("",i),o=eV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Zs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,n).pipe(de(r=>({children:r,rootSnapshot:n})),$n(r=>{if(r instanceof Ha)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $a?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(de(o=>o instanceof Vt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Re(s).pipe(pi(o=>{let a=r.children[o],u=cV(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Gf((o,a)=>(o.push(...a),o)),Hn(null),zf(),Ne(o=>{if(o===null)return Ks(r);let a=fS(o);return KV(a),G(a)}))}processSegment(e,n,r,i,s,o,a){return Re(n).pipe(pi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe($n(l=>{if(l instanceof $a)return G(null);throw l}))),pn(u=>!!u),$n(u=>{if(lS(u))return zV(r,i,s)?G(new cy):Ks(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return rn(r)!==o&&(o===se||!Ld(i,s,r))?Ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ks(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=hS(n,i,s);if(!u)return Ks(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WV&&(this.allowRedirects=!1));let y=new Zs(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,UC(i),rn(i),i.component??i._loadedComponent??null,i,jC(i)),b=Nd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ne(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=UV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Pt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new Zs(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,UC(r),rn(r),r.component??r._loadedComponent??null,r,jC(r)),N=Nd(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(N.params),b.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:k}=VC(n,m,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(de(K=>new Vt(b,K)));if(l.length===0&&k.length===0)return G(new Vt(b,[]));let U=rn(r)===s;return this.processSegment(h,l,R,k,U?se:s,!0,b).pipe(de(K=>new Vt(b,K instanceof Vt?[K]:[])))}))):Ks(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):kV(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):VV(n))):G({routes:[],injector:e})}};function KV(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function QV(t){let e=t.value.routeConfig;return e&&e.path===""}function fS(t){let e=[],n=new Set;for(let r of t){if(!QV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=fS(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function UC(t){return t.data||{}}function jC(t){return t.resolve||{}}function YV(t,e,n,r,i,s){return Ne(o=>GV(t,e,n,r,o.extractedUrl,i,s).pipe(de(({state:a,tree:u})=>Te(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function ZV(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of pS(u))o.add(l);let a=0;return Re(o).pipe(pi(u=>s.has(u)?JV(u,r,t,e):(u.data=Nd(u,u.parent,t).resolve,G(void 0))),Be(()=>a++),Es(1),Ne(u=>a===o.size?G(n):nt))})}function pS(t){let e=t.children.map(n=>pS(n)).flat();return[t,...e]}function JV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!oS(i)&&(s[za]=i.title),XV(s,t,e,r).pipe(de(o=>(t._resolvedData=o,t.data=Nd(t,t.parent,n).resolve,null)))}function XV(t,e,n,r){let i=jm(t);if(i.length===0)return G({});let s={};return Re(i).pipe(Ne(o=>eU(t[o],e,n,r).pipe(pn(),Be(a=>{if(a instanceof Ba)throw xd(new eo,a);s[o]=a}))),Es(1),ra(s),$n(o=>lS(o)?nt:_s(o)))}function eU(t,e,n,r){let i=Wa(e)??r,s=io(t,i),o=s.resolve?s.resolve(e,n):Dn(i,()=>s(e,n));return Br(o)}function Vm(t){return Pt(e=>{let n=t(e);return n?Re(n).pipe(de(()=>e)):G(e)})}var gS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[za]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(tU),providedIn:"root"})}}return t})(),tU=(()=>{class t extends gS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(X(xC))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ya=new B("",{providedIn:"root",factory:()=>({})}),nU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=kD({type:t,selectors:[["ng-component"]],standalone:!0,features:[Jb],decls:1,vars:0,template:function(r,i){r&1&&um(0,"router-outlet")},dependencies:[lV],encapsulation:2})}}return t})();function hy(t){let e=t.children&&t.children.map(hy),n=e?Te(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=nU),n}var qa=new B(""),fy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(ed)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Br(n.loadComponent()).pipe(de(mS),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ws(()=>{this.componentLoaders.delete(n)})),i=new ps(r,()=>new je).pipe(fs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=rU(r,this.compiler,n,this.onLoadEndListener).pipe(ws(()=>{this.childrenLoaders.delete(r)})),o=new ps(s,()=>new je).pipe(fs());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rU(t,e,n,r){return Br(t.loadChildren()).pipe(de(mS),Ne(i=>i instanceof pa||Array.isArray(i)?G(i):Re(e.compileModuleAsync(i))),de(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(qa,[],{optional:!0,self:!0}).flat()),{routes:o.map(hy),injector:s}}))}function iU(t){return t&&typeof t=="object"&&"default"in t}function mS(t){return iU(t)?t.default:t}var py=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(sU),providedIn:"root"})}}return t})(),sU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yS=new B(""),vS=new B("");function oU(t,e,n){let r=t.get(vS),i=t.get(Tt);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),aU(t))),{onViewTransitionCreated:u}=r;return u&&Dn(t,()=>u({transition:a,from:e,to:n})),o})}function aU(t){return new Promise(e=>{am({read:()=>setTimeout(e)},{injector:t})})}var cU=new B(""),gy=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=P(fy),this.environmentInjector=P(kt),this.urlSerializer=P(Ga),this.rootContexts=P(Ka),this.location=P(Ws),this.inputBindingEnabled=P(kd,{optional:!0})!==null,this.titleStrategy=P(gS),this.options=P(Ya,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(py),this.createViewTransition=P(yS,{optional:!0}),this.navigationErrorHandler=P(cU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Km(i)),r=i=>this.events.next(new Qm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Te(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ka,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(s=>s.id!==0),de(s=>Te(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pt(s=>{let o=!1,a=!1;return G(s).pipe(Pt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ut.SupersededByNewNavigation),nt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Te(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.rawUrl),p,bd.IgnoredSameUrlNavigation)),u.resolve(!1),nt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(Pt(p=>{let m=this.transitions?.getValue();return this.events.next(new to(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?nt:Promise.resolve(p)}),YV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Te(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Cd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:b,extras:N}=u,R=new to(p,this.urlSerializer.serialize(m),y,b);this.events.next(R);let k=iS(this.rootComponentType).snapshot;return this.currentTransition=s=Te(F({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:Te(F({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,G(s)}else{let p="";return this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.extractedUrl),p,bd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),nt}}),Be(u=>{let l=new qm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),de(u=>(this.currentTransition=s=Te(F({},u),{guards:mV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),SV(this.environmentInjector,u=>this.events.next(u)),Be(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw xd(this.urlSerializer,u.guardsResult);let l=new zm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),wt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ut.GuardRejected),!1)),Vm(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe(Be(l=>{let h=new Gm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Pt(l=>{let h=!1;return G(l).pipe(ZV(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Ut.NoDataFromResolver)}}))}),Be(l=>{let h=new Wm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Vm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Be(m=>{h.component=m}),de(()=>{})));for(let m of h.children)p.push(...l(m));return p};return na(l(u.targetSnapshot.root)).pipe(Hn(null),Ot(1))}),Vm(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Re(h).pipe(de(()=>s)):G(s)}),de(u=>{let l=dV(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Te(F({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Be(()=>{this.events.next(new Ua)}),gV(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ot(1),Be({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Au(this.transitionAbortSubject.pipe(Be(u=>{throw u}))),ws(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(u=>{if(a=!0,uS(u))this.events.next(new or(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),pV(u)?this.events.next(new no(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Va(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ba){let{message:p,cancellationCode:m}=xd(this.urlSerializer,h);this.events.next(new or(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new no(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return nt}))}))}cancelNavigationTransition(n,r,i){let s=new or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uU(t){return t!==ka}var lU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(dU),providedIn:"root"})}}return t})(),ly=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dU=(()=>{class t extends ly{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vg(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_S=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(hU),providedIn:"root"})}}return t})(),hU=(()=>{class t extends _S{constructor(){super(...arguments),this.location=P(Ws),this.urlSerializer=P(Ga),this.options=P(Ya,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(py),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof to)this.stateMemento=this.createStateMemento();else if(n instanceof Ur)this.rawUrlTree=r.initialUrl;else if(n instanceof Cd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ua?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof or&&(n.code===Ut.GuardRejected||n.code===Ut.NoDataFromResolver)?this.restoreHistory(r):n instanceof Va?this.restoreHistory(r,!0):n instanceof sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof ar?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vg(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Pa||{});function IS(t,e){t.events.pipe(wt(n=>n instanceof sn||n instanceof or||n instanceof Va||n instanceof Ur),de(n=>n instanceof sn||n instanceof Ur?Pa.COMPLETE:(n instanceof or?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?Pa.REDIRECTING:Pa.FAILED),wt(n=>n!==Pa.REDIRECTING),Ot(1)).subscribe(()=>{e()})}function fU(t){throw t}var pU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Zl),this.stateManager=P(_S),this.options=P(Ya,{optional:!0})||{},this.pendingTasks=P(Mi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(gy),this.urlSerializer=P(Ga),this.location=P(Ws),this.urlHandlingStrategy=P(py),this._events=new je,this.errorHandler=this.options.errorHandler||fU,this.navigated=!1,this.routeReuseStrategy=P(lU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(qa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(kd,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof or&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof no){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uU(i.source)},o);this.scheduleNavigation(a,ka,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ka,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=eS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return tS(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Li(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ka,null,r)}navigate(n,r={skipLocationChange:!1}){return mU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},pU):r===!1?i=F({},gU):i=r,Li(n))return PC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return PC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return IS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function yU(t){return!(t instanceof Ua)&&!(t instanceof no)}var BC=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Li(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:zT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(me(Sn),me(jr),Ug("tabindex"),me(Ca),me(Xn),me(sr))}}static{this.\u0275dir=Xt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&lm("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&cm("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sa],replaceUrl:[2,"replaceUrl","replaceUrl",Sa],routerLink:"routerLink"},standalone:!0,features:[om,Ai]})}}return t})(),JK=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new it,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof sn&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(hn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Re(n).pipe(hn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=vU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(me(Sn),me(Xn),me(Ca),me(Fr),me(BC,8))}}static{this.\u0275dir=Xt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&Wb(s,BC,5),r&2){let o;Kb(o=Qb())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ai]})}}return t})();function vU(t){return!!t.paths}var Od=class{};var _U=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wt(n=>n instanceof sn),pi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Kl(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Re(i).pipe(hn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=G(null);let s=i.pipe(Ne(o=>o===null?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Re([s,o]).pipe(hn())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(X(Sn),X(ed),X(kt),X(Od),X(fy))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wS=new B(""),IU=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof to?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ur&&n.code===bd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){sb()}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function XK(t,...e){return En([{provide:qa,multi:!0,useValue:t},[],{provide:jr,useFactory:ES,deps:[Sn]},{provide:Xl,multi:!0,useFactory:DS},e.map(n=>n.\u0275providers)])}function ES(t){return t.routerState.root}function Za(t,e){return{\u0275kind:t,\u0275providers:e}}function DS(){let t=P(st);return e=>{let n=t.get(xi);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(TS);t.get(my)===1&&r.initialNavigation(),t.get(bS,null,ae.Optional)?.setUpPreloading(),t.get(wS,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TS=new B("",{factory:()=>new je}),my=new B("",{providedIn:"root",factory:()=>1});function wU(){return Za(2,[{provide:my,useValue:0},{provide:Jl,multi:!0,deps:[st],useFactory:e=>{let n=e.get(gC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Sn),s=e.get(TS);IS(i,()=>{r(!0)}),e.get(gy).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}])}function EU(){return Za(3,[{provide:Jl,multi:!0,useFactory:()=>{let e=P(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:my,useValue:2}])}var bS=new B("");function DU(t){return Za(0,[{provide:bS,useExisting:_U},{provide:Od,useExisting:t}])}function TU(){return Za(8,[FC,{provide:kd,useExisting:FC}])}function bU(t){let e=[{provide:yS,useValue:oU},{provide:vS,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return Za(9,e)}var $C=new B("ROUTER_FORROOT_GUARD"),CU=[Ws,{provide:Ga,useClass:eo},Sn,Ka,{provide:jr,useFactory:ES,deps:[Sn]},fy,[]],e7=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[CU,[],{provide:qa,multi:!0,useValue:n},{provide:$C,useFactory:NU,deps:[[Sn,new gt,new Eg]]},{provide:Ya,useValue:r||{}},r?.useHash?AU():RU(),SU(),r?.preloadingStrategy?DU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?MU(r):[],r?.bindToComponentInputs?TU().\u0275providers:[],r?.enableViewTransitions?bU().\u0275providers:[],xU()]}}static forChild(n){return{ngModule:t,providers:[{provide:qa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(X($C,8))}}static{this.\u0275mod=_a({type:t})}static{this.\u0275inj=ya({})}}return t})();function SU(){return{provide:wS,useFactory:()=>{let t=P(TC),e=P(Ie),n=P(Ya),r=P(gy),i=P(Ga);return n.scrollOffset&&t.setOffset(n.scrollOffset),new IU(i,r,t,e,n)}}}function AU(){return{provide:sr,useClass:yC}}function RU(){return{provide:sr,useClass:bm}}function NU(t){return"guarded"}function MU(t){return[t.initialNavigation==="disabled"?EU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?wU().\u0275providers:[]]}var HC=new B("");function xU(){return[{provide:HC,useFactory:DS},{provide:Xl,multi:!0,useExisting:HC}]}var SS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new vy;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},vy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},OU=function(t){let e=SS(t);return AS.encodeByteArray(e,!0)},Ja=function(t){return OU(t).replace(/\./g,"")},Iy=function(t){try{return AS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LU=()=>kU().__FIREBASE_DEFAULTS__,FU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Iy(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return LU()||FU()||VU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wy=t=>{var e,n;return(n=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RS=t=>{let e=wy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ey=()=>{var t;return(t=Vd())===null||t===void 0?void 0:t.config},Dy=t=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${t}`]};var Fd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function NS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ja(JSON.stringify(n)),Ja(JSON.stringify(o)),""].join(".")}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function UU(){var t;let e=(t=Vd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){let t=Je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LS(){return!UU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ty(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var jU="FirebaseError",jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}},cr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?BU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jt(i,a,r)}};function BU(t,e){return t.replace($U,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $U=/\{\$([^}]+)}/g;function VS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(CS(s)&&CS(o)){if(!Fi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}function Xa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function so(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function oo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function US(t,e){let n=new _y(t,e);return n.subscribe.bind(n)}var _y=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yy),i.error===void 0&&(i.error=yy),i.complete===void 0&&(i.complete=yy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function HU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yy(){}var r7=4*60*60*1e3;function bt(t){return t&&t._delegate?t._delegate:t}var Kt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vi="[DEFAULT]";var by=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Fd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zU(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qU(t){return t===Vi?void 0:t}function zU(t){return t.instantiationMode==="EAGER"}var Ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new by(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var GU=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),WU={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},KU=he.INFO,QU={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},YU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=QU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$r=class{constructor(e){this.name=e,this._logLevel=KU,this._logHandler=YU,this._userLogHandler=null,GU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var ZU=(t,e)=>e.some(n=>t instanceof n),jS,BS;function JU(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XU(){return BS||(BS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $S=new WeakMap,Sy=new WeakMap,HS=new WeakMap,Cy=new WeakMap,Ry=new WeakMap;function ej(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(An(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),Ry.set(e,t),e}function tj(t){if(Sy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sy.set(t,e)}var Ay={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qS(t){Ay=t(Ay)}function nj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jd(this),e,...n);return HS.set(r,e.sort?e.sort():[e]),An(r)}:XU().includes(t)?function(...e){return t.apply(jd(this),e),An($S.get(this))}:function(...e){return An(t.apply(jd(this),e))}}function rj(t){return typeof t=="function"?nj(t):(t instanceof IDBTransaction&&tj(t),ZU(t,JU())?new Proxy(t,Ay):t)}function An(t){if(t instanceof IDBRequest)return ej(t);if(Cy.has(t))return Cy.get(t);let e=rj(t);return e!==t&&(Cy.set(t,e),Ry.set(e,t)),e}var jd=t=>Ry.get(t);function GS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=An(o);return r&&o.addEventListener("upgradeneeded",u=>{r(An(o.result),u.oldVersion,u.newVersion,An(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ij=["get","getKey","getAll","getAllKeys","count"],sj=["put","add","delete","clear"],Ny=new Map;function zS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ny.get(e))return Ny.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=sj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ij.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ny.set(e,s),s}qS(t=>Te(F({},t),{get:(e,n,r)=>zS(e,n)||t.get(e,n,r),has:(e,n)=>!!zS(e,n)||t.has(e,n)}));var xy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oj(t){let e=t.getComponent();return e?.type==="VERSION"}var Py="@firebase/app",WS="0.10.13";var ur=new $r("@firebase/app"),aj="@firebase/app-compat",cj="@firebase/analytics-compat",uj="@firebase/analytics",lj="@firebase/app-check-compat",dj="@firebase/app-check",hj="@firebase/auth",fj="@firebase/auth-compat",pj="@firebase/database",gj="@firebase/data-connect",mj="@firebase/database-compat",yj="@firebase/functions",vj="@firebase/functions-compat",_j="@firebase/installations",Ij="@firebase/installations-compat",wj="@firebase/messaging",Ej="@firebase/messaging-compat",Dj="@firebase/performance",Tj="@firebase/performance-compat",bj="@firebase/remote-config",Cj="@firebase/remote-config-compat",Sj="@firebase/storage",Aj="@firebase/storage-compat",Rj="@firebase/firestore",Nj="@firebase/vertexai-preview",Mj="@firebase/firestore-compat",xj="firebase",Pj="10.14.1";var Oy="[DEFAULT]",Oj={[Py]:"fire-core",[aj]:"fire-core-compat",[uj]:"fire-analytics",[cj]:"fire-analytics-compat",[dj]:"fire-app-check",[lj]:"fire-app-check-compat",[hj]:"fire-auth",[fj]:"fire-auth-compat",[pj]:"fire-rtdb",[gj]:"fire-data-connect",[mj]:"fire-rtdb-compat",[yj]:"fire-fn",[vj]:"fire-fn-compat",[_j]:"fire-iid",[Ij]:"fire-iid-compat",[wj]:"fire-fcm",[Ej]:"fire-fcm-compat",[Dj]:"fire-perf",[Tj]:"fire-perf-compat",[bj]:"fire-rc",[Cj]:"fire-rc-compat",[Sj]:"fire-gcs",[Aj]:"fire-gcs-compat",[Rj]:"fire-fst",[Mj]:"fire-fst-compat",[Nj]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};var ec=new Map,kj=new Map,ky=new Map;function KS(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qr(t){let e=t.name;if(ky.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;ky.set(e,t);for(let n of ec.values())KS(n,t);for(let n of kj.values())KS(n,t);return!0}function nc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t.settings!==void 0}var Lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new cr("app","Firebase",Lj);var Ly=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var zr=Pj;function Uy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Oy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=Ey()),!n)throw Hr.create("no-options");let s=ec.get(i);if(s){if(Fi(n,s.options)&&Fi(r,s.config))return s;throw Hr.create("duplicate-app",{appName:i})}let o=new Ud(i);for(let u of ky.values())o.addComponent(u);let a=new Ly(n,r,o);return ec.set(i,a),a}function ao(t=Oy){let e=ec.get(t);if(!e&&t===Oy&&Ey())return Uy();if(!e)throw Hr.create("no-app",{appName:t});return e}function Bd(){return Array.from(ec.values())}function Ke(t,e,n){var r;let i=(r=Oj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(a.join(" "));return}qr(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Fj="firebase-heartbeat-database",Vj=1,tc="firebase-heartbeat-store",My=null;function JS(){return My||(My=GS(Fj,Vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),My}function Uj(t){return w(this,null,function*(){try{let n=(yield JS()).transaction(tc),r=yield n.objectStore(tc).get(XS(t));return yield n.done,r}catch(e){if(e instanceof jt)ur.warn(e.message);else{let n=Hr.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}})}function QS(t,e){return w(this,null,function*(){try{let r=(yield JS()).transaction(tc,"readwrite");yield r.objectStore(tc).put(e,XS(t)),yield r.done}catch(n){if(n instanceof jt)ur.warn(n.message);else{let r=Hr.create("idb-set",{originalErrorMessage:n?.message});ur.warn(r.message)}}})}function XS(t){return`${t.name}!${t.options.appId}`}var jj=1024,Bj=30*24*60*60*1e3,Fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Bj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ur.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=YS(),{heartbeatsToSend:r,unsentEntries:i}=$j(this._heartbeatsCache.heartbeats),s=Ja(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ur.warn(n),""}})}};function YS(){return new Date().toISOString().substring(0,10)}function $j(t,e=jj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Ty()?FS().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Uj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ZS(t){return Ja(JSON.stringify({version:2,heartbeats:t})).length}function Hj(t){qr(new Kt("platform-logger",e=>new xy(e),"PRIVATE")),qr(new Kt("heartbeat",e=>new Fy(e),"PRIVATE")),Ke(Py,WS,t),Ke(Py,WS,"esm2017"),Ke("fire-js","")}Hj("");var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t0={};var Gr,jy;(function(){var t;function e(D,v){function _(){}_.prototype=v.prototype,D.D=v.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,T,S){for(var I=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)I[Fn-2]=arguments[Fn];return v.prototype[T].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)E[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=D.g[0],_=D.g[1],T=D.g[2];var S=D.g[3],I=v+(S^_&(T^S))+E[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=S+(T^v&(_^T))+E[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(_^S&(v^_))+E[2]+606105819&4294967295,T=S+(I<<17&4294967295|I>>>15),I=_+(v^T&(S^v))+E[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(S^_&(T^S))+E[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(T^v&(_^T))+E[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(_^S&(v^_))+E[6]+2821735955&4294967295,T=S+(I<<17&4294967295|I>>>15),I=_+(v^T&(S^v))+E[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(S^_&(T^S))+E[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(T^v&(_^T))+E[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(_^S&(v^_))+E[10]+4294925233&4294967295,T=S+(I<<17&4294967295|I>>>15),I=_+(v^T&(S^v))+E[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(S^_&(T^S))+E[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(T^v&(_^T))+E[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(_^S&(v^_))+E[14]+2792965006&4294967295,T=S+(I<<17&4294967295|I>>>15),I=_+(v^T&(S^v))+E[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^S&(_^T))+E[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^T&(v^_))+E[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(S^v))+E[11]+643717713&4294967295,T=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(T^S))+E[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^S&(_^T))+E[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^T&(v^_))+E[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(S^v))+E[15]+3634488961&4294967295,T=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(T^S))+E[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^S&(_^T))+E[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^T&(v^_))+E[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(S^v))+E[3]+4107603335&4294967295,T=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(T^S))+E[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^S&(_^T))+E[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^T&(v^_))+E[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(S^v))+E[7]+1735328473&4294967295,T=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(T^S))+E[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^S)+E[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^T)+E[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^_)+E[11]+1839030562&4294967295,T=S+(I<<16&4294967295|I>>>16),I=_+(T^S^v)+E[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^S)+E[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^T)+E[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^_)+E[7]+4139469664&4294967295,T=S+(I<<16&4294967295|I>>>16),I=_+(T^S^v)+E[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^S)+E[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^T)+E[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^_)+E[3]+3572445317&4294967295,T=S+(I<<16&4294967295|I>>>16),I=_+(T^S^v)+E[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^S)+E[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^T)+E[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^_)+E[15]+530742520&4294967295,T=S+(I<<16&4294967295|I>>>16),I=_+(T^S^v)+E[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~S))+E[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~T))+E[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~_))+E[14]+2878612391&4294967295,T=S+(I<<15&4294967295|I>>>17),I=_+(S^(T|~v))+E[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~S))+E[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~T))+E[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~_))+E[10]+4293915773&4294967295,T=S+(I<<15&4294967295|I>>>17),I=_+(S^(T|~v))+E[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~S))+E[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~T))+E[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~_))+E[6]+2734768916&4294967295,T=S+(I<<15&4294967295|I>>>17),I=_+(S^(T|~v))+E[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~S))+E[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~T))+E[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~_))+E[2]+718787259&4294967295,T=S+(I<<15&4294967295|I>>>17),I=_+(S^(T|~v))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var _=v-this.blockSize,E=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=_;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(E[T++]=D.charCodeAt(S++),T==this.blockSize){i(this,E),T=0;break}}else for(;S<v;)if(E[T++]=D[S++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var _=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=_&255,_/=256;for(this.u(D),D=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)D[_++]=this.g[v]>>>E&255;return D};function s(D,v){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=v(D)}function o(D,v){this.h=v;for(var _=[],E=!0,T=D.length-1;0<=T;T--){var S=D[T]|0;E&&S==v||(_[T]=S,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(v){return new o([v|0],0>v?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],_=1,E=0;D>=_;E++)v[E]=D/_|0,_*=4294967296;return new o(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),E=p,T=0;T<D.length;T+=8){var S=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+S),v);8>S?(S=l(Math.pow(v,S)),E=E.j(S).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),_=this,E="";;){var T=ce(_,v).g;_=k(_,T.j(v));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=T,b(_))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=k(this,D),N(D)?-1:b(D)?0:1};function R(D){for(var v=D.g.length,_=[],E=0;E<v;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0,T=0;T<=v;T++){var S=E+(this.i(T)&65535)+(D.i(T)&65535),I=(S>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=I>>>16,S&=65535,I&=65535,_[T]=I<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}t.j=function(D){if(b(this)||b(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var S=this.i(E)>>>16,I=this.i(E)&65535,Fn=D.i(T)>>>16,ko=D.i(T)&65535;_[2*E+2*T]+=I*ko,U(_,2*E+2*T),_[2*E+2*T+1]+=S*ko,U(_,2*E+2*T+1),_[2*E+2*T+1]+=I*Fn,U(_,2*E+2*T+1),_[2*E+2*T+2]+=S*Fn,U(_,2*E+2*T+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new o(_,0)};function U(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function K(D,v){this.g=D,this.h=v}function ce(D,v){if(b(v))throw Error("division by zero");if(b(D))return new K(p,p);if(N(D))return v=ce(R(D),v),new K(R(v.g),R(v.h));if(N(v))return v=ce(D,R(v)),new K(R(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=v;0>=E.l(D);)_=ke(_),E=ke(E);var T=ne(_,1),S=ne(E,1);for(E=ne(E,2),_=ne(_,2);!b(E);){var I=S.add(E);0>=I.l(D)&&(T=T.add(_),S=I),E=ne(E,1),_=ne(_,1)}return v=k(D,T.j(v)),new K(T,v)}for(T=p;0<=D.l(v);){for(_=Math.max(1,Math.floor(D.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(_),I=S.j(v);N(I)||0<I.l(D);)_-=E,S=l(_),I=S.j(v);b(S)&&(S=m),T=T.add(S),D=k(D,I)}return new K(T,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function ke(D){for(var v=D.g.length+1,_=[],E=0;E<v;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function ne(D,v){var _=v>>5;v%=32;for(var E=D.g.length-_,T=[],S=0;S<E;S++)T[S]=0<v?D.i(S+_)>>>v|D.i(S+_+1)<<32-v:D.i(S+_);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jy=t0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Gr=t0.Integer=o}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={};var By,qj,co,$y,rc,Hd,Hy,qy,zy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[C].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let O=0;O<A;O++)c[C+O]=g[O]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ke=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ne(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=rf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,f){let g=ko.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ko=new k(()=>new JR,c=>c.reset());class JR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Lo,Fo=!1,rf=new Fn,OI=()=>{let c=a.Promise.resolve(void 0);Lo=()=>{c.then(XR)}};var XR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=ko;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Fo=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var eN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Vo(c,d){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ke){e:{try{ce(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Vo.aa.h.call(this)}}b(Vo,ct);var tN={2:"touch",3:"pen",4:"mouse"};Vo.prototype.h=function(){Vo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Uo="closure_listenable_"+(1e6*Math.random()|0),nN=0;function rN(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++nN,this.da=this.fa=!1}function jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bc(c){this.src=c,this.g={},this.h=0}Bc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=of(c,d,g,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new rN(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function sf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function of(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var af="closure_lm_"+(1e6*Math.random()|0),cf={};function kI(c,d,f,g,C){if(g&&g.once)return FI(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)kI(c,d[A],f,g,C);return null}return f=hf(f),c&&c[Uo]?c.K(d,f,l(g)?!!g.capture:!!g,C):LI(c,d,f,!1,g,C)}function LI(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,De=lf(c);if(De||(c[af]=De=new Bc(c)),f=De.add(d,f,g,O,A),f.proxy)return f;if(g=iN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)eN||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(UI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function iN(){function c(f){return d.call(c.src,c.listener,f)}let d=sN;return c}function FI(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)FI(c,d[A],f,g,C);return null}return f=hf(f),c&&c[Uo]?c.L(d,f,l(g)?!!g.capture:!!g,C):LI(c,d,f,!0,g,C)}function VI(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)VI(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=hf(f),c&&c[Uo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=of(A,f,g,C),-1<f&&(jc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=lf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=of(d,f,g,C)),(f=-1<c?d[c]:null)&&uf(f))}function uf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Uo])sf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(UI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=lf(d))?(sf(f,c),f.h==0&&(f.src=null,d[af]=null)):jc(c)}}}function UI(c){return c in cf?cf[c]:cf[c]="on"+c}function sN(c,d){if(c.da)c=!0;else{d=new Vo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&uf(c),c=f.call(g,d)}return c}function lf(c){return c=c[af],c instanceof Bc?c:null}var df="__closure_events_fn_"+(1e9*Math.random()>>>0);function hf(c){return typeof c=="function"?c:(c[df]||(c[df]=function(d){return c.handleEvent(d)}),c[df])}function ut(){_r.call(this),this.i=new Bc(this),this.M=this,this.F=null}b(ut,_r),ut.prototype[Uo]=!0,ut.prototype.removeEventListener=function(c,d,f,g){VI(this,c,d,f,g)};function _t(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ct(d,c);else if(d instanceof ct)d.target=d.target||c;else{var C=d;d=new ct(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];C=$c(O,g,!0,d)&&C}if(O=d.g=c,C=$c(O,g,!0,d)&&C,C=$c(O,g,!1,d)&&C,f)for(A=0;A<f.length;A++)O=d.g=f[A],C=$c(O,g,!1,d)&&C}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)jc(f[g]);delete c.g[d],c.h--}}this.F=null},ut.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ut.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function $c(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var De=O.listener,et=O.ha||O.src;O.fa&&sf(c.i,O),C=De.call(et,g)!==!1&&C}}return C&&!g.defaultPrevented}function jI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function BI(c){c.g=jI(()=>{c.g=null,c.i&&(c.i=!1,BI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class oN extends _r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:BI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jo(c){_r.call(this),this.h=c,this.g={}}b(jo,_r);var $I=[];function HI(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&uf(d)},c),c.g={}}jo.prototype.N=function(){jo.aa.N.call(this),HI(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ff=a.JSON.stringify,aN=a.JSON.parse,cN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function pf(){}pf.prototype.h=null;function qI(c){return c.h||(c.h=c.i())}function zI(){}var Bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gf(){ct.call(this,"d")}b(gf,ct);function mf(){ct.call(this,"c")}b(mf,ct);var si={},GI=null;function Hc(){return GI=GI||new ut}si.La="serverreachability";function WI(c){ct.call(this,si.La,c)}b(WI,ct);function $o(c){let d=Hc();_t(d,new WI(d))}si.STAT_EVENT="statevent";function KI(c,d){ct.call(this,si.STAT_EVENT,c),this.stat=d}b(KI,ct);function It(c){let d=Hc();_t(d,new KI(d,c))}si.Ma="timingevent";function QI(c,d){ct.call(this,si.Ma,c),this.size=d}b(QI,ct);function Ho(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function uN(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var O="",De=A.split("&"),et=0;et<De.length;et++){var ge=De[et].split("=");if(1<ge.length){var lt=ge[0];ge=ge[1];var dt=lt.split("_");O=2<=dt.length&&dt[1]=="type"?O+(lt+"="+ge+"&"):O+(lt+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function lN(c,d,f,g,C,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+O})}function is(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+hN(c,f)+(g?" "+g:"")})}function dN(c,d){c.info(function(){return"TIMEOUT: "+d})}qo.prototype.info=function(){};function hN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return ff(f)}catch{return d}}var qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yf;function zc(){}b(zc,pf),zc.prototype.g=function(){return new XMLHttpRequest},zc.prototype.i=function(){return{}},yf=new zc;function Ir(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ZI}function ZI(){this.i=null,this.g="",this.h=!1}var JI={},vf={};function _f(c,d,f){c.L=1,c.v=Qc(Vn(d)),c.m=f,c.P=!0,XI(c,null)}function XI(c,d){c.F=Date.now(),Gc(c),c.A=Vn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),fw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new ZI,c.g=Mw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new oN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&($I[0]=C.toString()),C=$I);for(var A=0;A<C.length;A++){var O=kI(f,C[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$o(),uN(c.i,c.u,c.A,c.l,c.R,c.m)}Ir.prototype.ca=function(c){c=c.target;let d=this.M;d&&Un(c)==3?d.j():this.Y(c)},Ir.prototype.Y=function(c){try{if(c==this.g)e:{let dt=Un(this.g);var d=this.g.Ba();let as=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Iw(this.g)))){this.J||dt!=4||d==7||(d==8||0>=as?$o(3):$o(2)),If(this);var f=this.g.Z();this.X=f;t:if(ew(this)){var g=Iw(this.g);c="";var C=g.length,A=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),zo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,lN(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,et=this.g;if((De=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(De)){var ge=De;break t}}ge=null}if(f=ge)is(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,f);else{this.o=!1,this.s=3,It(12),oi(this),zo(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<O.length;)if(Qt=fN(this,O),Qt==vf){dt==4&&(this.s=4,It(14),f=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==JI){this.s=4,It(15),is(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else is(this.i,this.l,Qt,null),wf(this,Qt);if(ew(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||O.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)is(this.i,this.l,O,"[Invalid Chunked Response]"),oi(this),zo(this);else if(0<O.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Sf(lt),lt.M=!0,It(11))}}else is(this.i,this.l,O,null),wf(this,O);dt==4&&oi(this),this.o&&!this.J&&(dt==4?Sw(this.j,this):(this.o=!1,Gc(this)))}else NN(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),oi(this),zo(this)}}}catch{}finally{}};function ew(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?vf:(f=Number(d.substring(f,g)),isNaN(f)?JI:(g+=1,g+f>d.length?vf:(d=d.slice(g,g+f),c.C=g+f,d)))}Ir.prototype.cancel=function(){this.J=!0,oi(this)};function Gc(c){c.S=Date.now()+c.I,tw(c,c.I)}function tw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ho(m(c.ba,c),d)}function If(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ir.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(dN(this.i,this.A),this.L!=2&&($o(),It(17)),oi(this),this.s=2,zo(this)):tw(this,this.S-c)};function zo(c){c.j.G==0||c.J||Sw(c.j,c)}function oi(c){If(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,HI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ef(f.h,c))){if(!c.K&&Ef(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)eu(f),Jc(f);else break e;Cf(f),It(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ho(m(f.Za,f),6e3));if(1>=iw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ci(f,11)}else if((c.K||f.g==c)&&eu(f),!U(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let lt=ge[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));let dt=ge[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let as=ge[5];as!=null&&typeof as=="number"&&0<as&&(g=1.5*as,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Qt=c.g;if(Qt){let nu=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var A=g.h;A.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Df(A,A.h),A.h=null))}if(g.D){let Af=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Af&&(g.ya=Af,Ae(g.I,g.D,Af))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=Nw(g,g.J?g.ia:null,g.W),O.K){sw(g.h,O);var De=O,et=g.L;et&&(De.I=et),De.B&&(If(De),Gc(De)),g.g=O}else bw(g);0<f.i.length&&Xc(f)}else ge[0]!="stop"&&ge[0]!="close"||ci(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ci(f,7):bf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}$o(4)}catch{}}var pN=class{constructor(c,d){this.g=c,this.map=d}};function nw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function iw(c){return c.h?1:c.g?c.g.size:0}function Ef(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Df(c,d){c.g?c.g.add(d):c.h=d}function sw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}nw.prototype.cancel=function(){if(this.i=ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ow(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function gN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function mN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function aw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=mN(c),g=gN(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var cw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ai){this.h=c.h,Wc(this,c.j),this.o=c.o,this.g=c.g,Kc(this,c.s),this.l=c.l;var d=c.i,f=new Ko;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),uw(this,f),this.m=c.m}else c&&(d=String(c).match(cw))?(this.h=!1,Wc(this,d[1]||"",!0),this.o=Go(d[2]||""),this.g=Go(d[3]||"",!0),Kc(this,d[4]),this.l=Go(d[5]||"",!0),uw(this,d[6]||"",!0),this.m=Go(d[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}ai.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Wo(d,lw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Wo(d,lw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Wo(f,f.charAt(0)=="/"?IN:_N,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Wo(f,EN)),c.join("")};function Vn(c){return new ai(c)}function Wc(c,d,f){c.j=f?Go(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Kc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function uw(c,d,f){d instanceof Ko?(c.i=d,DN(c.i,c.h)):(f||(d=Wo(d,wN)),c.i=new Ko(d,c.h))}function Ae(c,d,f){c.i.set(d,f)}function Qc(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Go(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,vN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lw=/[#\/\?@]/g,_N=/[#\?:]/g,IN=/[#\?]/g,wN=/[#\?@]/g,EN=/#/g;function Ko(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function wr(c){c.g||(c.g=new Map,c.h=0,c.i&&yN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ko.prototype,t.add=function(c,d){wr(this),this.i=null,c=ss(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function dw(c,d){wr(c),d=ss(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function hw(c,d){return wr(c),d=ss(c,d),c.g.has(d)}t.forEach=function(c,d){wr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){wr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){wr(this);let d=[];if(typeof c=="string")hw(this,c)&&(d=d.concat(this.g.get(ss(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return wr(this),this.i=null,c=ss(this,c),hw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function fw(c,d,f){dw(c,d),0<f.length&&(c.i=null,c.g.set(ss(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var C=A;O[g]!==""&&(C+="="+encodeURIComponent(String(O[g]))),c.push(C)}}return this.i=c.join("&")};function ss(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function DN(c,d){d&&!c.j&&(wr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(dw(this,g),fw(this,C,f))},c)),c.j=d}function TN(c,d){let f=new qo;if(a.Image){let g=new Image;g.onload=y(Er,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Er,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Er,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Er,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function bN(c,d){let f=new qo,g=new AbortController,C=setTimeout(()=>{g.abort(),Er(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Er(f,"TestPingServer: ok",!0,d):Er(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Er(f,"TestPingServer: error",!1,d)})}function Er(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function CN(){this.g=new cN}function SN(c,d,f){let g=f||"";try{aw(c,function(C,A){let O=C;l(C)&&(O=ff(C)),d.push(g+A+"="+encodeURIComponent(O))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Qo(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Qo,pf),Qo.prototype.g=function(){return new Yc(this.l,this.j)},Qo.prototype.i=function(c){return function(){return c}}({});function Yc(c,d){ut.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Yc,ut),t=Yc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Zo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Yo(this):Zo(this),this.readyState==3&&pw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yo(this))},t.Qa=function(c){this.g&&(this.response=c,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Zo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gw(c){let d="";return ne(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Tf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=gw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ae(c,d,f))}function Le(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Le,ut);var AN=/^https?$/i,RN=["POST","PUT"];t=Le.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yf.g(),this.v=this.o?qI(this.o):qI(yf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){mw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RN,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_w(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){mw(this,A)}};function mw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,yw(c),Zc(c)}function yw(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),Zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zc(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vw(this):this.bb())},t.bb=function(){vw(this)};function vw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)jI(c.Ea,0,c);else if(_t(c,"readystatechange"),Un(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var C=String(c.D).match(cw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!AN.test(C?C.toLowerCase():"")}f=g}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var A=2<Un(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",yw(c)}}finally{Zc(c)}}}}function Zc(c,d){if(c.g){_w(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=g}catch{}}}function _w(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),aN(d)}};function Iw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NN(c){let d={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(U(c[g]))continue;var f=T(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ww(c){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,c),this.cb=Jo("retryDelaySeedMs",1e4,c),this.Wa=Jo("forwardChannelMaxRetries",2,c),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new nw(c&&c.concurrentRequestLimit),this.Da=new CN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ww.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){It(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Nw(this,null,this.W),Xc(this)};function bf(c){if(Ew(c),c.G==3){var d=c.U++,f=Vn(c.I);if(Ae(f,"SID",c.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),Xo(c,f),d=new Ir(c,c.j,d),d.L=2,d.v=Qc(Vn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Mw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gc(d)}Rw(c)}function Jc(c){c.g&&(Sf(c),c.g.cancel(),c.g=null)}function Ew(c){Jc(c),c.u&&(a.clearTimeout(c.u),c.u=null),eu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xc(c){if(!rw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Lo||OI(),Fo||(Lo(),Fo=!0),rf.add(d,c),c.B=0}}function MN(c,d){return iw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ho(m(c.Ga,c,d),Aw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Ir(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Tw(this,C,d),f=Vn(this.I),Ae(f,"RID",c),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),Xo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(gw(A)))+"&"+d:this.m&&Tf(f,this.m,A)),Df(this.h,C),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),C.T=!0,_f(C,f,null)):_f(C,f,d),this.G=2}}else this.G==3&&(c?Dw(this,c):this.i.length==0||rw(this.h)||Dw(this))};function Dw(c,d){var f;d?f=d.l:f=c.U++;let g=Vn(c.I);Ae(g,"SID",c.K),Ae(g,"RID",f),Ae(g,"AID",c.T),Xo(c,g),c.m&&c.o&&Tf(g,c.m,c.o),f=new Ir(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Tw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Df(c.h,f),_f(f,g,d)}function Xo(c,d){c.H&&ne(c.H,function(f,g){Ae(d,g,f)}),c.l&&aw({},function(f,g){Ae(d,g,f)})}function Tw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=C[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let De=!0;for(let et=0;et<f;et++){let ge=C[et].g,lt=C[et].map;if(ge-=A,0>ge)A=Math.max(0,C[et].g-100),De=!1;else try{SN(lt,O,"req"+ge+"_")}catch{g&&g(lt)}}if(De){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function bw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Lo||OI(),Fo||(Lo(),Fo=!0),rf.add(d,c),c.v=0}}function Cf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ho(m(c.Fa,c),Aw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Cw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ho(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Jc(this),Cw(this))};function Sf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Cw(c){c.g=new Ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vn(c.qa);Ae(d,"RID","rpc"),Ae(d,"SID",c.K),Ae(d,"AID",c.T),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(d,"TO",c.ja),Ae(d,"TYPE","xmlhttp"),Xo(c,d),c.m&&c.o&&Tf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Qc(Vn(d)),f.m=null,f.P=!0,XI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Jc(this),Cf(this),It(19))};function eu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Sw(c,d){var f=null;if(c.g==d){eu(c),Sf(c),c.g=null;var g=2}else if(Ef(c.h,d))f=d.D,sw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Hc(),_t(g,new QI(g,f)),Xc(c)}else bw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&MN(c,d)||g==2&&Cf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ci(c,5);break;case 4:ci(c,10);break;case 3:ci(c,6);break;default:ci(c,2)}}}function Aw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ci(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new ai(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wc(g,"https"),Qc(g),C?TN(g.toString(),f):bN(g.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),Rw(c),Ew(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Rw(c){if(c.G=0,c.ka=[],c.l){let d=ow(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Nw(c,d,f){var g=f instanceof ai?Vn(f):new ai(f);if(g.g!="")d&&(g.g=d+"."+g.g),Kc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new ai(null);g&&Wc(A,g),d&&(A.g=d),C&&Kc(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ae(g,f,d),Ae(g,"VER",c.la),Xo(c,g),g}function Mw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new Qo({eb:f})):new Le(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xw(){}t=xw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tu(){}tu.prototype.g=function(c,d){return new Mt(c,d)};function Mt(c,d){ut.call(this),this.g=new ww(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new os(this)}b(Mt,ut),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){bf(this.g)},Mt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ff(c),c=f);d.i.push(new pN(d.Ya++,c)),d.G==3&&Xc(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,bf(this.g),delete this.g,Mt.aa.N.call(this)};function Pw(c){gf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(Pw,gf);function Ow(){mf.call(this),this.status=1}b(Ow,mf);function os(c){this.g=c}b(os,xw),os.prototype.ua=function(){_t(this.g,"a")},os.prototype.ta=function(c){_t(this.g,new Pw(c))},os.prototype.sa=function(c){_t(this.g,new Ow)},os.prototype.ra=function(){_t(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,zy=lr.createWebChannelTransport=function(){return new tu},qy=lr.getStatEventTarget=function(){return Hc()},Hy=lr.Event=si,Hd=lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qc.NO_ERROR=0,qc.TIMEOUT=8,qc.HTTP_ERROR=6,rc=lr.ErrorCode=qc,YI.COMPLETE="complete",$y=lr.EventType=YI,zI.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",ut.prototype.listen=ut.prototype.K,co=lr.WebChannel=zI,qj=lr.FetchXmlHttpFactory=Qo,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,By=lr.XhrIo=Le}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});var n0="@firebase/firestore";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var So="10.14.0";var $i=new $r("@firebase/firestore");function ic(){return $i.logLevel}function V(t,...e){if($i.logLevel<=he.DEBUG){let n=e.map(S_);$i.debug(`Firestore (${So}): ${t}`,...n)}}function dr(t,...e){if($i.logLevel<=he.ERROR){let n=e.map(S_);$i.error(`Firestore (${So}): ${t}`,...n)}}function mo(t,...e){if($i.logLevel<=he.WARN){let n=e.map(S_);$i.warn(`Firestore (${So}): ${t}`,...n)}}function S_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+t;throw dr(e),new Error(e)}function Ee(t,e){t||Z()}function te(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}},Zy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Jy=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new Kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Xe(e)}},Xy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ee(this.o===void 0);let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Qd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var at=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new at(0,0))}static max(){return new t(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Yd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends Yd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Gj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends Yd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Gj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var rv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};rv.UNKNOWN_ID=-1;function Wj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Hi(i,q.empty(),e)}function Kj(t){return new Hi(t.readTime,t.key,-1)}var Hi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),q.empty(),-1)}static max(){return new t(ie.max(),q.empty(),-1)}};function Qj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var Yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dc(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==Yj)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Zj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(t){return t.name==="IndexedDbTransactionError"}var L0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ah(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function Jj(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Xj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],L7=[...Xj,"documentOverlays"],e2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],t2=e2,n2=[...t2,"indexConfiguration","indexState","indexEntries"];var F7=[...n2,"globals"];function r0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ve=class t{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}},fo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class t{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zd(this.data.getIterator())}getIteratorFrom(e){return new Zd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Nn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new yt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(Ee(!!t),typeof t=="string"){let e=0,n=r2.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}function A_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(t){let e=t.mapValue.fields.__previous_value__;return A_(e)?R_(e):e}function dc(t){let e=hr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var sv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Xd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:U0(t)?9007199254740991:V0(t)?10:11:Z()}function On(t,e){if(t===e)return!0;let n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=hr(i.timestampValue),a=hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qr(i.bytesValue).isEqual(Qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?lc(o)===lc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(r0(o)!==r0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!On(o[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function hc(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function vo(t,e){if(t===e)return 0;let n=qi(t),r=qi(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Me(s.integerValue||s.doubleValue),u=Me(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return i0(t.timestampValue,e.timestampValue);case 4:return i0(dc(t),dc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Qr(s),u=Qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye(Me(s.latitude),Me(o.latitude));return a!==0?a:ye(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,b=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:s0(y,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qd.mapValue&&o===qd.mapValue)return 0;if(s===qd.mapValue)return 1;if(o===qd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ye(u[p],h[p]);if(m!==0)return m;let y=vo(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function i0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=hr(t),r=hr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function s0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=vo(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function _o(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ov(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ov(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function o0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function av(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function a0(t){return!!t&&"nullValue"in t}function c0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}function V0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=oc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(oc(this.value))}};function j0(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new Bt([n]);if(Gd(r)){let s=j0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}var un=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),an.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Io=class{constructor(e,n){this.position=e,this.inclusive=n}};function u0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function l0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var zi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function i2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var eh=class{},Ge=class t extends eh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uv(e,n,r):n==="array-contains"?new hv(e,r):n==="in"?new fv(e,r):n==="not-in"?new pv(e,r):n==="array-contains-any"?new gv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lv(e,r):new dv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vo(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class t extends eh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return B0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function B0(t){return t.op==="and"}function $0(t){return s2(t)&&B0(t)}function s2(t){for(let e of t.filters)if(e instanceof ln)return!1;return!0}function cv(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+_o(t.value);if($0(t))return t.filters.map(e=>cv(e)).join(",");{let e=t.filters.map(n=>cv(n)).join(",");return`${t.op}(${e})`}}function H0(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&H0(o,i.filters[a]),!0):!1}(t,e):void Z()}function q0(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(t):"Filter"}var uv=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},lv=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=z0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},dv=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=z0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function z0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var hv=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return N_(n)&&hc(n.arrayValue,this.value)}},fv=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}},pv=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}},gv=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}};var mv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function d0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mv(t,e,n,r,i,s,o)}function M_(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_o(r)).join(",")),e.ue=n}return e.ue}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!i2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l0(t.startAt,e.startAt)&&l0(t.endAt,e.endAt)}function yv(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Yr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function o2(t,e,n,r,i,s,o,a){return new Yr(t,e,n,r,i,s,o,a)}function P_(t){return new Yr(t)}function h0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G0(t){return t.collectionGroup!==null}function ac(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(Bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zi(s,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new zi(Bt.keyField(),r))}return e.ce}function xn(t){let e=te(t);return e.le||(e.le=a2(e,ac(t))),e.le}function a2(t,e){if(t.limitType==="F")return d0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new zi(i.field,s)});let n=t.endAt?new Io(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Io(t.startAt.position,t.startAt.inclusive):null;return d0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vv(t,e){let n=t.filters.concat([e]);return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function th(t,e,n){return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rh(t,e){return x_(xn(t),xn(e))&&t.limitType===e.limitType}function W0(t){return`${M_(xn(t))}|lt:${t.limitType}`}function uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>q0(i)).join(", ")}]`),Ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_o(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function Nh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ac(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=u0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,ac(r),i)||r.endAt&&!function(o,a,u){let l=u0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,ac(r),i))}(t,e)}function c2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K0(t){return(e,n)=>{let r=!1;for(let i of ac(t)){let s=u2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function u2(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?vo(u,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var Zr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return F0(this.inner)}size(){return this.innerSize}};var l2=new Ve(q.comparator);function fr(){return l2}var Q0=new Ve(q.comparator);function sc(...t){let e=Q0;for(let n of t)e=e.insert(n.key,n);return e}function Y0(t){let e=Q0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return cc()}function Z0(){return cc()}function cc(){return new Zr(t=>t.toString(),(t,e)=>t.isEqual(e))}var d2=new Ve(q.comparator),h2=new yt(q.comparator);function fe(...t){let e=h2;for(let n of t)e=e.add(n);return e}var f2=new yt(ye);function p2(){return f2}function O_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function J0(t){return{integerValue:""+t}}function g2(t,e){return Jj(e)?J0(e):O_(t,e)}var wo=class{constructor(){this._=void 0}};function m2(t,e,n){return t instanceof Eo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&A_(s)&&(s=R_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gi?eA(t,e):t instanceof Wi?tA(t,e):function(i,s){let o=X0(i,s),a=f0(o)+f0(i.Pe);return av(o)&&av(i.Pe)?J0(a):O_(i.serializer,a)}(t,e)}function y2(t,e,n){return t instanceof Gi?eA(t,e):t instanceof Wi?tA(t,e):n}function X0(t,e){return t instanceof Do?function(r){return av(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Eo=class extends wo{},Gi=class extends wo{constructor(e){super(),this.elements=e}};function eA(t,e){let n=nA(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends wo{constructor(e){super(),this.elements=e}};function tA(t,e){let n=nA(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var Do=class extends wo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function f0(t){return Me(t.integerValue||t.doubleValue)}function nA(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function v2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?yo(r.elements,i.elements,On):r instanceof Do&&i instanceof Do?On(r.Pe,i.Pe):r instanceof Eo&&i instanceof Eo}(t.transform,e.transform)}var _v=class{constructor(e,n){this.version=e,this.transformResults=n}},Wr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var To=class{};function rA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nh(t.key,Wr.none()):new Ki(t.key,t.data,Wr.none());{let n=t.data,r=an.empty(),i=new yt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pr(t.key,r,new Nn(i.toArray()),Wr.none())}}function _2(t,e,n){t instanceof Ki?function(i,s,o){let a=i.value.clone(),u=g0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pr?function(i,s,o){if(!Wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=g0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(iA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function uc(t,e,n,r){return t instanceof Ki?function(s,o,a,u){if(!Wd(s.precondition,o))return a;let l=s.value.clone(),h=m0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pr?function(s,o,a,u){if(!Wd(s.precondition,o))return a;let l=m0(s.fieldTransforms,u,o),h=o.data;return h.setAll(iA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function I2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=X0(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function p0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yo(r,i,(s,o)=>v2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ki=class extends To{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pr=class extends To{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function iA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function g0(t,e,n){let r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,y2(o,a,n[i]))}return r}function m0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,m2(s,o,e))}return r}var nh=class extends To{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Iv=class extends To{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&_2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Z0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=rA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>p0(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>p0(n,r))}},Ev=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return d2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Dv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Tv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,pe;function w2(t){switch(t){default:return Z();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function sA(t){if(t===void 0)return dr("GRPC error has no .code"),M.UNKNOWN;switch(t){case qe.OK:return M.OK;case qe.CANCELLED:return M.CANCELLED;case qe.UNKNOWN:return M.UNKNOWN;case qe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case qe.INTERNAL:return M.INTERNAL;case qe.UNAVAILABLE:return M.UNAVAILABLE;case qe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case qe.NOT_FOUND:return M.NOT_FOUND;case qe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case qe.ABORTED:return M.ABORTED;case qe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case qe.DATA_LOSS:return M.DATA_LOSS;default:return Z()}}(pe=qe||(qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var y0=null;function E2(){return new TextEncoder}var D2=new Gr([4294967295,4294967295],0);function v0(t){let e=E2().encode(t),n=new jy;return n.update(e),new Uint8Array(n.digest())}function _0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}var bv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ji(`Invalid padding: ${n}`);if(r<0)throw new ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ji(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gr.fromNumber(r)));return i.compare(D2)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=v0(e),[r,i]=_0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=v0(e),[r,i]=_0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Ve(ye),fr(),fe())}},fc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var po=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ih=class{constructor(e,n){this.targetId=e,this.me=n}},sh=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},oh=class{constructor(){this.fe=0,this.ge=w0(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new fc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=w0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Cv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=fr(),this.qe=I0(),this.Qe=new Ve(ye)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(yv(s))if(r===0){let o=new q(s.path);this.Ue(n,o,un.newNoDocument(o,ie.min()))}else Ee(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}y0?.et(function(h,p,m,y,b){var N,R,k,U,K,ce;let ke={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ne=p.unchangedNames;return ne&&(ke.bloomFilter={applied:b===0,hashCount:(N=ne?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(U=(k=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&U!==void 0?U:0,padding:(ce=(K=ne?.bits)===null||K===void 0?void 0:K.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),ke}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Qr(r).toUint8Array()}catch(u){if(u instanceof Jd)return mo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new bv(o,i,s)}catch(u){return mo(u instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&yv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,un.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new rh(e,n,this.Qe,this.ke,r);return this.ke=fr(),this.qe=I0(),this.Qe=new Ve(ye),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new oh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function I0(){return new Ve(q.comparator)}function w0(){return new Ve(q.comparator)}var T2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"},Sv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Av(t,e){return t.useProto3Json||Ah(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S2(t,e){return ah(t,e.toTimestamp())}function Pn(t){return Ee(!!t),ie.fromTimestamp(function(n){let r=hr(n);return new at(r.seconds,r.nanos)}(t))}function k_(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aA(t){let e=Oe.fromString(t);return Ee(hA(e)),e}function Nv(t,e){return k_(t.databaseId,e.path)}function Gy(t,e){let n=aA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(uA(n))}function cA(t,e){return k_(t.databaseId,e)}function A2(t){let e=aA(t);return e.length===4?Oe.emptyPath():uA(e)}function Mv(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E0(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function R2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string"),vt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:sA(l.code);return new L(h,l.message||"")}(o);n=new sh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Gy(t,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):ie.min(),a=new an({mapValue:{fields:r.document.fields}}),u=un.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new po(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Gy(t,r.document),s=r.readTime?Pn(r.readTime):ie.min(),o=un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new po([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Gy(t,r.document),s=r.removedTargetIds||[];n=new po([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Tv(i,s),a=r.targetId;n=new ih(a,o)}}return n}function N2(t,e){let n;if(e instanceof Ki)n={update:E0(t,e.key,e.value)};else if(e instanceof nh)n={delete:Nv(t,e.key)};else if(e instanceof pr)n={update:E0(t,e.key,e.data),updateMask:U2(e.fieldMask)};else{if(!(e instanceof Iv))return Z();n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Eo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Do)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:S2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function M2(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(ie.min())&&(o=Pn(s)),new _v(o,i.transformResults||[])}(n,e))):[]}function x2(t,e){return{documents:[cA(t,e.path)]}}function P2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cA(t,i);let s=function(l){if(l.length!==0)return dA(ln.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:lo(m.field),direction:L2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Av(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function O2(t){let e=A2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=lA(p);return m instanceof ln&&$0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(b){return new zi(ho(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ah(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Io(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Io(y,m)}(n.endAt)),o2(e,i,o,s,a,"F",u,l)}function k2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ho(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ho(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ho(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ho(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>lA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function L2(t){return T2[t]}function F2(t){return b2[t]}function V2(t){return C2[t]}function lo(t){return{fieldPath:t.canonicalString()}}function ho(t){return Bt.fromServerFormat(t.fieldPath)}function dA(t){return t instanceof Ge?function(n){if(n.op==="=="){if(c0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(a0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(a0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:F2(n.op),value:n.value}}}(t):t instanceof ln?function(n){let r=n.getFilters().map(i=>dA(i));return r.length===1?r[0]:{compositeFilter:{op:V2(n.op),filters:r}}}(t):Z()}function U2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pc=class t{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xv=class{constructor(e){this.ct=e}};function j2(t){let e=O2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?th(e,e.limit,"L"):e}var ch=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),lc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=hr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Qr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?U0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):V0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Me(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ch.vt=new ch;var Pv=class{constructor(){this.un=new Ov}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Hi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Ov=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Oe.comparator)).toArray()}};var U7=new Uint8Array(0);var Rn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);var gc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var kv=class{constructor(){this.changes=new Zr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Fv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uc(r.mutation,i,Nn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fr(),o=cc(),a=function(){return cc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof pr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),uc(h.mutation,l,h.mutation.getFieldMask(),at.now())):o.set(l.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Lv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=cc(),i=new Ve((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Nn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Z0();h.forEach(m=>{if(!s.has(m)){let y=rA(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Ui()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:Y0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=sc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Yr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,un.newInvalidDocument(h)))});let a=sc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&uc(h.mutation,l,Nn.empty(),at.now()),Nh(n,l)&&(a=a.insert(u,l))}),a})}};var Vv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:j2(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),x.resolve()}};var Uv=class{constructor(){this.overlays=new Ve(q.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ui();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ui(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Ui(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ui(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dv(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var jv=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var mc=class{constructor(){this.Tr=new yt(ze.Er),this.dr=new yt(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Oe([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Oe([])),r=new ze(n,e),i=new ze(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Bv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(ze.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new wv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(ye);return n.forEach(i=>{let s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new ze(new q(s),0),a=new yt(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ze(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var $v=class{constructor(e){this.Mr=e,this.docs=function(){return new Ve(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fr(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Qj(Kj(h),r)<=0||(i.has(h.key)||Nh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hv(this)}getSize(e){return x.resolve(this.size)}},Hv=class extends kv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var qv=class{constructor(e){this.persistence=e,this.Nr=new Zr(n=>M_(n),x_),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mc,this.targetCount=0,this.kr=gc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var zv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new L0(0),this.Kr=!1,this.Kr=!0,this.$r=new jv,this.referenceDelegate=e(this),this.Ur=new qv(this),this.indexManager=new Pv,this.remoteDocumentCache=function(i){return new $v(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xv(n),this.Gr=new Vv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Bv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Gv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Gv=class extends iv{constructor(e){super(),this.currentSequenceNumber=e}},Wv=class t{constructor(e){this.persistence=e,this.Jr=new mc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Kv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Qv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Yv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return LS()?8:Zj(Je())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Qv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ic()<=he.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(ic()<=he.DEBUG&&V("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ic()<=he.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):x.resolve())}Yi(e,n){if(h0(n))return x.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=th(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,th(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return h0(n)||i.isEqual(ie.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(ic()<=he.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uo(n)),this.rs(e,o,n,Wj(i,-1)).next(a=>a))})}ts(e,n){let r=new yt(K0(e));return n.forEach((i,s)=>{Nh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ic()<=he.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",uo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Hi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Zv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ve(ye),this._s=new Zr(s=>M_(s),x_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function B2(t,e,n,r){return new Zv(t,e,n,r)}function fA(t,e){return w(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=fe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function $2(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(N=>{let R=l.docVersions.get(b);Ee(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pA(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function H2(t,e){let n=te(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=fr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(q2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ie.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function q2(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function z2(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G2(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new pc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Jv(t,e,n){return w(this,null,function*(){let r=te(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Tc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function D0(t,e,n){let r=te(t),i=ie.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=te(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:fe())).next(a=>(W2(r,c2(e),a),{documents:a,Ts:s})))}function W2(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var uh=class{constructor(){this.activeTargetIds=p2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xv=class{constructor(){this.so=new uh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var e_=class{_o(e){}shutdown(){}};var lh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zd=null;function Wy(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}var K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var t_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var mt="WebChannelConnection",n_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Wy(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw mo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=K2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Wy();return new Promise((o,a)=>{let u=new By;u.setWithCredentials(!0),u.listenOnce($y.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rc.NO_ERROR:let h=u.getResponseJson();V(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case rc.TIMEOUT:V(mt,`RPC '${e}' ${s} timed out`),a(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:let p=u.getStatus();if(V(mt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let b=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(k)>=0?k:M.UNKNOWN}(y.status);a(new L(b,y.message))}else a(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(M.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{V(mt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(mt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Wy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zy(),a=qy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,b=new t_({Io:R=>{y?V(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(mt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,k,U)=>{R.listen(k,K=>{try{U(K)}catch(ce){setTimeout(()=>{throw ce},0)}})};return N(p,co.EventType.OPEN,()=>{y||(V(mt,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),N(p,co.EventType.CLOSE,()=>{y||(y=!0,V(mt,`RPC '${e}' stream ${i} transport closed`),b.So())}),N(p,co.EventType.ERROR,R=>{y||(y=!0,mo(mt,`RPC '${e}' stream ${i} transport errored:`,R),b.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,co.EventType.MESSAGE,R=>{var k;if(!y){let U=R.data[0];Ee(!!U);let K=U,ce=K.error||((k=K[0])===null||k===void 0?void 0:k.error);if(ce){V(mt,`RPC '${e}' stream ${i} received error:`,ce);let ke=ce.status,ne=function(_){let E=qe[_];if(E!==void 0)return sA(E)}(ke),D=ce.message;ne===void 0&&(ne=M.INTERNAL,D="Unknown error status: "+ke+" with message "+ce.message),y=!0,b.So(new L(ne,D)),p.close()}else V(mt,`RPC '${e}' stream ${i} received:`,U),b.bo(U)}}),N(a,Hy.STAT_EVENT,R=>{R.stat===Hd.PROXY?V(mt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Hd.NOPROXY&&V(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function Ky(){return typeof document<"u"?document:null}function Mh(t){return new Sv(t,!0)}var dh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},r_=class extends hh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=R2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Pn(o.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Mv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=yv(u)?{documents:x2(s,u)}:{query:P2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oA(s,o.resumeToken);let l=Av(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=ah(s,o.snapshotVersion.toTimestamp());let l=Av(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=k2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Mv(this.serializer),n.removeTarget=e,this.a_(n)}},i_=class extends hh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=M2(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Mv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>N2(this.serializer,r))};this.a_(n)}};var s_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Rv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Rv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},o_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dr(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var a_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Yi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=te(u);l.L_.add(4),yield bc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new o_(r,i)}};function xh(t){return w(this,null,function*(){if(Yi(t))for(let e of t.B_)yield e(!0)})}function bc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function gA(t,e){let n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),U_(n)?V_(n):Ro(n).r_()&&F_(n,e))}function L_(t,e){let n=te(t),r=Ro(n);n.N_.delete(e),r.r_()&&mA(n,e),n.N_.size===0&&(r.r_()?r.o_():Yi(n)&&n.q_.set("Unknown"))}function F_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(t).A_(e)}function mA(t,e){t.Q_.xe(e),Ro(t).R_(e)}function V_(t){t.Q_=new Cv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ro(t).start(),t.q_.v_()}function U_(t){return Yi(t)&&!Ro(t).n_()&&t.N_.size>0}function Yi(t){return te(t).L_.size===0}function yA(t){t.Q_=void 0}function Q2(t){return w(this,null,function*(){t.q_.set("Online")})}function Y2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{F_(t,e)})})}function Z2(t,e){return w(this,null,function*(){yA(t),U_(t)?(t.q_.M_(e),V_(t)):t.q_.set("Unknown")})}function J2(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof sh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fh(t,r)}else if(e instanceof po?t.Q_.Ke(e):e instanceof ih?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield pA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),mA(s,u);let p=new pc(h.target,u,l,h.sequenceNumber);F_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield fh(t,r)}})}function fh(t,e,n){return w(this,null,function*(){if(!Tc(e))throw e;t.L_.add(1),yield bc(t),t.q_.set("Offline"),n||(n=()=>pA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xh(t)}))})}function vA(t,e){return e().catch(n=>fh(t,n,e))}function Ph(t){return w(this,null,function*(){let e=te(t),n=Jr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;X2(e);)try{let i=yield z2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,eB(e,i)}catch(i){yield fh(e,i)}_A(e)&&IA(e)})}function X2(t){return Yi(t)&&t.O_.length<10}function eB(t,e){t.O_.push(e);let n=Jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _A(t){return Yi(t)&&!Jr(t).n_()&&t.O_.length>0}function IA(t){Jr(t).start()}function tB(t){return w(this,null,function*(){Jr(t).p_()})}function nB(t){return w(this,null,function*(){let e=Jr(t);for(let n of t.O_)e.m_(n.mutations)})}function rB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Ev.from(r,e,n);yield vA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ph(t)})}function iB(t,e){return w(this,null,function*(){e&&Jr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return w2(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Jr(r).s_(),yield vA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ph(r)}})}(t,e)),_A(t)&&IA(t)})}function T0(t,e){return w(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Yi(n);n.L_.add(3),yield bc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xh(n)})}function sB(t,e){return w(this,null,function*(){let n=te(t);e?(n.L_.delete(2),yield xh(n)):e||(n.L_.add(2),yield bc(n),n.q_.set("Unknown"))})}function Ro(t){return t.K_||(t.K_=function(n,r,i){let s=te(n);return s.w_(),new r_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Q2.bind(null,t),Ro:Y2.bind(null,t),mo:Z2.bind(null,t),d_:J2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),U_(t)?V_(t):t.q_.set("Unknown")):(yield t.K_.stop(),yA(t))}))),t.K_}function Jr(t){return t.U_||(t.U_=function(n,r,i){let s=te(n);return s.w_(),new i_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tB.bind(null,t),mo:iB.bind(null,t),f_:nB.bind(null,t),g_:rB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Ph(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var c_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function j_(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Tc(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var ph=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var gh=class{constructor(){this.W_=new Ve(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},bo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ph.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var u_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},l_=class{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=te(n),s=i.queries;i.queries=b0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function b0(){return new Zr(t=>W0(t),Rh)}function wA(t,e){return w(this,null,function*(){let n=te(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new u_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=j_(o,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&B_(n)})}function EA(t,e){return w(this,null,function*(){let n=te(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function oB(t,e){let n=te(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&B_(n)}function aB(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function B_(t){t.Y_.forEach(e=>{e.next()})}var d_,C0;(C0=d_||(d_={})).ea="default",C0.Cache="cache";var mh=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==d_.Cache}};var yh=class{constructor(e){this.key=e}},vh=class{constructor(e){this.key=e}},h_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=K0(e),this.Ra=new ph(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new gh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Nh(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,b){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return N(y)-N(b)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new bo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yh(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},f_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},p_=class{constructor(e){this.key=e,this.va=!1}},g_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Zr(a=>W0(a),Rh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(q.comparator),this.Na=new Map,this.La=new mc,this.Ba={},this.ka=new Map,this.qa=gc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function cB(t,e,n=!0){return w(this,null,function*(){let r=AA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield DA(r,e,n,!0),i})}function uB(t,e){return w(this,null,function*(){let n=AA(t);yield DA(n,e,!0,!1)})}function DA(t,e,n,r){return w(this,null,function*(){let i=yield G2(t.localStore,xn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield lB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gA(t.remoteStore,i),a})}function lB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(N,R,k,U){return w(this,null,function*(){let K=R.view.ma(k);K.ns&&(K=yield D0(N.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,K)));let ce=U&&U.targetChanges.get(R.targetId),ke=U&&U.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(K,N.isPrimaryClient,ce,ke);return A0(N,R.targetId,ne.wa),ne.snapshot})}(t,p,m,y);let s=yield D0(t.localStore,e,!0),o=new h_(e,s.Ts),a=o.ma(s.documents),u=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);A0(t,n,l.wa);let h=new f_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function dB(t,e,n){return w(this,null,function*(){let r=te(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Rh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&L_(r.remoteStore,i.targetId),m_(r,i.targetId)}).catch(Dc))):(m_(r,i.targetId),yield Jv(r.localStore,i.targetId,!0))})}function hB(t,e){return w(this,null,function*(){let n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),L_(n.remoteStore,r.targetId))})}function fB(t,e,n){return w(this,null,function*(){let r=IB(t);try{let i=yield function(o,a){let u=te(o),l=at.now(),h=a.reduce((y,b)=>y.add(b.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=fr(),N=fe();return u.cs.getEntries(y,h).next(R=>{b=R,b.forEach((k,U)=>{U.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let k=[];for(let U of a){let K=I2(U,p.get(U.key).overlayedDocument);K!=null&&k.push(new pr(U.key,K,j0(K.value.mapValue),Wr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:Y0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ve(ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Cc(r,i.changes),yield Ph(r.remoteStore)}catch(i){let s=j_(i,"Failed to persist write");n.reject(s)}})}function TA(t,e){return w(this,null,function*(){let n=te(t);try{let r=yield H2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ee(o.va):i.removedDocuments.size>0&&(Ee(o.va),o.va=!1))}),yield Cc(n,r,e)}catch(r){yield Dc(r)}})}function S0(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=te(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&B_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pB(t,e,n){return w(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ve(q.comparator);o=o.insert(s,un.newNoDocument(s,ie.min()));let a=fe().add(s),u=new rh(ie.min(),new Map,new Ve(ye),o,a);yield TA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),$_(r)}else yield Jv(r.localStore,e,!1).then(()=>m_(r,e,n)).catch(Dc)})}function gB(t,e){return w(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield $2(n.localStore,e);CA(n,r,null),bA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Cc(n,i)}catch(i){yield Dc(i)}})}function mB(t,e,n){return w(this,null,function*(){let r=te(t);try{let i=yield function(o,a){let u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);CA(r,e,n),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Cc(r,i)}catch(i){yield Dc(i)}})}function bA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function CA(t,e,n){let r=te(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function m_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||SA(t,r)})}function SA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(L_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),$_(t))}function A0(t,e,n){for(let r of n)r instanceof yh?(t.La.addReference(r.key,e),yB(t,r)):r instanceof vh?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||SA(t,r.key)):Z()}function yB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),$_(t))}function $_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new p_(n)),t.Oa=t.Oa.insert(n,r),gA(t.remoteStore,new pc(xn(P_(n.path)),r,"TargetPurposeLimboResolution",L0.oe))}}function Cc(t,e,n){return w(this,null,function*(){let r=te(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Kv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Tc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),b=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function vB(t,e){return w(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield fA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cc(n,r.hs)}})}function _B(t,e){let n=te(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function AA(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pB.bind(null,e),e.Ca.d_=oB.bind(null,e.eventManager),e.Ca.$a=aB.bind(null,e.eventManager),e}function IB(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mB.bind(null,e),e}var R0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Mh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return B2(this.persistence,new Yv,n.initialUser,this.serializer)}Ga(n){return new zv(Wv.Zr,this.serializer)}Wa(n){return new Xv}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var wB=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>S0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vB.bind(null,this.syncEngine),yield sB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new l_}()}createDatastore(n){let r=Mh(n.databaseInfo.databaseId),i=function(o){return new n_(o)}(n.databaseInfo);return function(o,a,u,l){return new s_(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new a_(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>S0(this.syncEngine,r,0),function(){return lh.D()?new lh:new e_}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new g_(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=te(s);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield bc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var _h=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var y_=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=j_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Qy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield fA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function N0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield EB(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>T0(e.remoteStore,i)),t._onlineComponents=e})}function EB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),yield Qy(t,new R0)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Qy(t,new R0);return t._offlineComponents})}function RA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield N0(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield N0(t,new wB))),t._onlineComponents})}function DB(t){return RA(t).then(e=>e.syncEngine)}function NA(t){return w(this,null,function*(){let e=yield RA(t),n=e.eventManager;return n.onListen=cB.bind(null,e.syncEngine),n.onUnlisten=dB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hB.bind(null,e.syncEngine),n})}function TB(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new _h({next:m=>{h.Za(),o.enqueueAndForget(()=>EA(s,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new mh(P_(a.path),h,{includeMetadataChanges:!0,_a:!0});return wA(s,p)}(yield NA(t),t.asyncQueue,e,n,r)})),r.promise}function bB(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new _h({next:m=>{h.Za(),o.enqueueAndForget(()=>EA(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new mh(a,h,{includeMetadataChanges:!0,_a:!0});return wA(s,p)}(yield NA(t),t.asyncQueue,e,n,r)})),r.promise}function MA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var M0=new Map;function xA(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CB(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x0(t){if(!q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P0(t){if(q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Oh(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function SB(t,e){if(e<=0)throw new L(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Ih=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Co=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ih({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ih(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yy;switch(r.type){case"firstParty":return new ev(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=M0.get(n);r&&(V("ComponentProvider","Removing Datastore"),M0.delete(n),r.terminate())}(this),Promise.resolve()}};function PA(t,e,n,r={}){var i;let s=(t=Xr(t,Co))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Xe.MOCK_USER;else{a=NS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xe(l)}t._authCredentials=new Zy(new Kd(a,u))}}var ei=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kr=class t extends ei{constructor(e,n,r){super(e,n,P_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function OA(t,e,...n){if(t=bt(t),xA("collection","path",e),t instanceof Co){let r=Oe.fromString(e,...n);return P0(r),new Kr(t,null,r)}{if(!(t instanceof Nt||t instanceof Kr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return P0(r),new Kr(t.firestore,null,r)}}function H_(t,e,...n){if(t=bt(t),arguments.length===1&&(e=Qd.newId()),xA("doc","path",e),t instanceof Co){let r=Oe.fromString(e,...n);return x0(r),new Nt(t,null,new q(r))}{if(!(t instanceof Nt||t instanceof Kr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return x0(r),new Nt(t.firestore,t instanceof Kr?t.converter:null,new q(r))}}var wh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dh(this,"async_queue_retry"),this.Vu=()=>{let r=Ky();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=c_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Qi=class extends Co{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wh(e),this._firestoreClient=void 0,yield e}})}};function kA(t,e){let n=typeof t=="object"?t:ao(),r=typeof t=="string"?t:e||"(default)",i=nc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=RS("firestore");s&&PA(i,...s)}return i}function q_(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AB(t),t._firestoreClient}function AB(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new sv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,MA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new y_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var yc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var vc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Eh=class{constructor(e){this._methodName=e}};var _c=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Ic=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var RB=/^__.*__$/,v_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ki(e,this.data,n,this.fieldTransforms)}};function LA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var __=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LA(this.Cu)&&RB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},I_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Qu(e,n,r,i=!1){return new __({Cu:e,methodName:n,qu:r,path:Bt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function z_(t){let e=t._freezeSettings(),n=Mh(t._databaseId);return new I_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FA(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);jA("Data must be an object, but it was:",o,r);let a=VA(r,o),u,l;if(s.merge)u=new Nn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=MB(e,p,n);if(!o.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PB(h,m)||h.push(m)}u=new Nn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new v_(new an(a),u,l)}function NB(t,e,n,r=!1){return G_(n,t.Qu(r?4:3,e))}function G_(t,e){if(UA(t=bt(t)))return jA("Unsupported field value:",e,t),VA(t,e);if(t instanceof Eh)return function(r,i){if(!LA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=G_(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=at.fromDate(r);return{timestampValue:ah(i.serializer,s)}}if(r instanceof at){let s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,s)}}if(r instanceof _c)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yc)return{bytesValue:oA(i.serializer,r._byteString)};if(r instanceof Nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ic)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return O_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Oh(r)}`)}(t,e)}function VA(t,e){let n={};return F0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let s=G_(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof _c||t instanceof yc||t instanceof Nt||t instanceof Eh||t instanceof Ic)}function jA(t,e,n){if(!UA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Oh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function MB(t,e,n){if((e=bt(e))instanceof vc)return e._internalPath;if(typeof e=="string")return BA(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}var xB=new RegExp("[~\\*/\\[\\]]");function BA(t,e,n){if(e.search(xB)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function PB(t,e){return t.some(n=>n.isEqual(e))}var Th=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new w_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},w_=class extends Th{data(){return super.data()}};function kh(t,e){return typeof e=="string"?BA(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function OB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wc=class{},Ec=class extends wc{};function $A(t,e,...n){let r=[];e instanceof wc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof E_).length,a=s.filter(u=>u instanceof bh).length;if(o>1||o>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var bh=class t extends Ec{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return GA(e._query,n),new ei(e.firestore,e.converter,vv(e._query,n))}_parse(e){let n=z_(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){k0(p,h);let y=[];for(let b of p)y.push(O0(u,s,b));m={arrayValue:{values:y}}}else m=O0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||k0(p,h),m=NB(a,o,p,h==="in"||h==="not-in");return Ge.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function HA(t,e,n){let r=e,i=kh("where",t);return bh._create(i,r,n)}var E_=class t extends wc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ln.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)GA(o,u),o=vv(o,u)}(e._query,n),new ei(e.firestore,e.converter,vv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var D_=class t extends Ec{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zi(s,o)}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Yr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function qA(t,e="asc"){let n=e,r=kh("orderBy",t);return D_._create(r,n)}var T_=class t extends Ec{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new ei(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}};function zA(t){return SB("limit",t),T_._create("limit",t,"F")}function O0(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!q.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o0(t,new q(r))}if(n instanceof Nt)return o0(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function k0(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var b_=class{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Me(o.doubleValue));return new Ic(s)}convertGeoPoint(e){return new _c(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=R_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){let n=hr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);Ee(hA(r));let i=new Xd(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function WA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Bi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ch=class extends Th{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},go=class extends Ch{data(e={}){return super.data(e)}},C_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new go(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new go(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new go(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:kB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function kB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function KA(t){t=Xr(t,Nt);let e=Xr(t.firestore,Qi);return TB(q_(e),t._key).then(n=>LB(e,t,n))}var Sh=class extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}};function QA(t){t=Xr(t,ei);let e=Xr(t.firestore,Qi),n=q_(e),r=new Sh(e);return OB(t._query),bB(n,t._query).then(i=>new C_(e,r,t,i))}function YA(t,e,n){t=Xr(t,Nt);let r=Xr(t.firestore,Qi),i=WA(t.converter,e,n);return JA(r,[FA(z_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wr.none())])}function ZA(t,e){let n=Xr(t.firestore,Qi),r=H_(t),i=WA(t.converter,e);return JA(n,[FA(z_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function JA(t,e){return function(r,i){let s=new cn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return fB(yield DB(r),i,s)})),s.promise}(q_(t),e)}function LB(t,e,n){let r=n.docs.get(e._key),i=new Sh(t);return new Ch(t,i,e._key,r,new Bi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){So=i})(zr),qr(new Kt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Qi(new Jy(r.getProvider("auth-internal")),new nv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ke(n0,"4.7.3",e),Ke(n0,"4.7.3","esm2017")})();var FB="firebase",VB="10.14.1";Ke(FB,VB,"app");var Ji=new Pr("ANGULARFIRE2_VERSION");function Fh(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Sc=(t,e)=>{let n=e?[e]:Bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Mo=class{constructor(){return Sc(UB)}},UB="app-check";function No(){}var Lh=class{zone;delegate;constructor(e,n=jf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},W_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",No,{},No,No)),n.pipe(Be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lh(Zone.current)),this.insideAngular=n.run(()=>new Lh(Zone.current,Tr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(Ie))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function jB(t){return Vh().ngZone.runOutsideAngular(()=>t())}function Zi(t){return Vh().ngZone.run(()=>t())}function BB(t){return $B(Vh())(t)}function $B(t){return function(n){return n=n.lift(new W_(t.ngZone)),n.pipe(Cr(t.outsideAngular),br(t.insideAngular))}}var HB=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zi(()=>t.apply(void 0,r))},Qe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",No,{},No,No))),r[s]=HB(r[s],n));let i=jB(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=Vh();return i.pipe(Cr(s.outsideAngular),br(s.insideAngular))}else return Zi(()=>i);return i instanceof re?i.pipe(BB):i instanceof Promise?Zi(()=>new Promise((s,o)=>i.then(a=>Zi(()=>s(a)),a=>Zi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zi(()=>i)};var gr=class{constructor(e){return e}},Xi=class{constructor(){return Bd()}};function qB(t){return t&&t.length===1?t[0]:new gr(ao())}var K_=new B("angularfire2._apps"),zB={provide:gr,useFactory:qB,deps:[[new gt,K_]]},GB={provide:Xi,deps:[[new gt,K_]]};function WB(t){return(e,n)=>{let r=n.get(bn);Ke("angularfire",Ji.full,"core"),Ke("angularfire",Ji.full,"app"),Ke("angular",eC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new gr(i)}}function lQ(t,...e){return En([zB,GB,{provide:K_,useFactory:WB(t),multi:!0,deps:[Ie,st,xo,...e]}])}var dQ=Qe(Uy,!0);function gR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mR=gR,yR=new cr("auth","Firebase",gR());var qh=new $r("@firebase/auth");function KB(t,...e){qh.logLevel<=he.WARN&&qh.warn(`Auth (${zr}): ${t}`,...e)}function jh(t,...e){qh.logLevel<=he.ERROR&&qh.error(`Auth (${zr}): ${t}`,...e)}function Ln(t,...e){throw yI(t,...e)}function es(t,...e){return yI(t,...e)}function vR(t,e,n){let r=Object.assign(Object.assign({},mR()),{[e]:n});return new cr("auth","Firebase",r).create(e,{appName:t.name})}function vr(t){return vR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yR.create(t,...e)}function J(t,e,...n){if(!t)throw yI(e,...n)}function mr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw jh(e),new Error(e)}function ni(t,e){t||mr(e)}function J_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QB(){return XA()==="http:"||XA()==="https:"}function XA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QB()||PS()||"connection"in navigator)?navigator.onLine:!0}function ZB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ts=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=MS()||OS()}get(){return YB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vI(t,e){ni(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var JB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XB=new ts(3e4,6e4);function ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ii(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return _R(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Xa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return xS()||(y.referrerPolicy="no-referrer"),zh.fetch()(IR(t,t.config.apiHost,n,p),y)}))})}function _R(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},JB),e);try{let i=new X_(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Uh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Uh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Uh(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw vR(t,h,l);Ln(t,h)}}catch(i){if(i instanceof jt)throw i;Ln(t,"network-request-failed",{message:String(i)})}})}function kc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield ii(t,e,n,r,i);return"mfaPendingCredential"in l&&Ln(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function IR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?vI(t.config,i):`${t.config.apiScheme}://${i}`}function e$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var X_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),XB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Uh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=es(t,e,r);return i.customData._tokenResponse=n,i}function eR(t){return t!==void 0&&t.enterprise!==void 0}var eI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return e$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function t$(t,e){return w(this,null,function*(){return ii(t,"GET","/v2/recaptchaConfig",ri(t,e))})}function n$(t,e){return w(this,null,function*(){return ii(t,"POST","/v1/accounts:delete",e)})}function wR(t,e){return w(this,null,function*(){return ii(t,"POST","/v1/accounts:lookup",e)})}function Ac(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _I(t,e=!1){return w(this,null,function*(){let n=bt(t),r=yield n.getIdToken(e),i=II(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ac(Q_(i.auth_time)),issuedAtTime:Ac(Q_(i.iat)),expirationTime:Ac(Q_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Q_(t){return Number(t)*1e3}function II(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Iy(n);return i?JSON.parse(i):(jh("Failed to decode base64 JWT payload"),null)}catch(i){return jh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tR(t){let e=II(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jt&&r$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function r$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var tI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gh(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Nc(t,wR(n,{idToken:r}));J(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ER(s.providerUserInfo):[],a=i$(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function wI(t){return w(this,null,function*(){let e=bt(t);yield Gh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function i$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ER(t){return t.map(e=>{var{providerId:n}=e,r=Rf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function s$(t,e){return w(this,null,function*(){let n=yield _R(t,{},()=>w(this,null,function*(){let r=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=IR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function o$(t,e){return w(this,null,function*(){return ii(t,"POST","/v2/accounts:revokeToken",ri(t,e))})}var Rc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=tR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield s$(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return mr("not implemented")}};function ti(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Po=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Nc(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return _I(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Gh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(on(this.auth.app))return Promise.reject(vr(this.auth));let e=yield this.getIdToken();return yield Nc(this,n$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:ce,isAnonymous:ke,providerData:ne,stsTokenManager:D}=n;J(K&&D,e,"internal-error");let v=Rc.fromJSON(this.name,D);J(typeof K=="string",e,"internal-error"),ti(p,e.name),ti(m,e.name),J(typeof ce=="boolean",e,"internal-error"),J(typeof ke=="boolean",e,"internal-error"),ti(y,e.name),ti(b,e.name),ti(N,e.name),ti(R,e.name),ti(k,e.name),ti(U,e.name);let _=new t({uid:K,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:ke,photoURL:b,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:U});return ne&&Array.isArray(ne)&&(_.providerData=ne.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Rc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ER(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Rc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var nR=new Map;function yr(t){ni(t instanceof Function,"Expected a class definition");let e=nR.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nR.set(t,e),e)}var a$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),nI=a$;function Bh(t,e,n){return`firebase:${t}:${e}:${n}`}var Wh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Bh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Po._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(yr(nI),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||yr(nI),o=Bh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Po._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function rR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AR(e))return"Blackberry";if(RR(e))return"Webos";if(TR(e))return"Safari";if((e.includes("chrome/")||bR(e))&&!e.includes("edge/"))return"Chrome";if(SR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function DR(t=Je()){return/firefox\//i.test(t)}function TR(t=Je()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bR(t=Je()){return/crios\//i.test(t)}function CR(t=Je()){return/iemobile/i.test(t)}function SR(t=Je()){return/android/i.test(t)}function AR(t=Je()){return/blackberry/i.test(t)}function RR(t=Je()){return/webos/i.test(t)}function EI(t=Je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c$(t=Je()){var e;return EI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u$(){return kS()&&document.documentMode===10}function NR(t=Je()){return EI(t)||SR(t)||RR(t)||AR(t)||/windows phone/i.test(t)||CR(t)}function MR(t,e=[]){let n;switch(t){case"Browser":n=rR(Je());break;case"Worker":n=`${rR(Je())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zr}/${r}`}var rI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function l$(n){return w(this,arguments,function*(t,e={}){return ii(t,"GET","/v2/passwordPolicy",ri(t,e))})}var d$=6,iI=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:d$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var sI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kh(this),this.idTokenSubscription=new Kh(this),this.beforeStateQueue=new rI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield wR(this,{idToken:e}),r=yield Po._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(on(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZB()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(on(this.app))return Promise.reject(vr(this));let n=e?bt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return on(this.app)?Promise.reject(vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return on(this.app)?Promise.reject(vr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield l$(this),n=new iI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield o$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&yr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Wh.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&KB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function rs(t){return bt(t)}var Kh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tf={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h$(t){tf=t}function xR(t){return tf.loadJS(t)}function f$(){return tf.recaptchaEnterpriseScript}function p$(){return tf.gapiScript}function PR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var g$="recaptcha-enterprise",m$="NO_RECAPTCHA",oI=class{constructor(e){this.type=g$,this.auth=rs(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){t$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new eI(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;eR(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(m$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=f$();u.length!==0&&(u+=a),xR(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function iR(t,e,n,r=!1){return w(this,null,function*(){let i=new oI(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function aI(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield iR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield iR(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function DI(t,e){let n=nc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Fi(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function y$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function TI(t,e,n){let r=rs(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=OR(e),{host:o,port:a}=v$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_$()}function OR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v$(t){let e=OR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:sR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:sR(o)}}}function sR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function _$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var xc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}};function I$(t,e){return w(this,null,function*(){return ii(t,"POST","/v1/accounts:signUp",e)})}function w$(t,e){return w(this,null,function*(){return kc(t,"POST","/v1/accounts:signInWithPassword",ri(t,e))})}function E$(t,e){return w(this,null,function*(){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))})}function D$(t,e){return w(this,null,function*(){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))})}var Pc=class t extends xc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aI(e,n,"signInWithPassword",w$);case"emailLink":return E$(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aI(e,r,"signUpPassword",I$);case"emailLink":return D$(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Y_(t,e){return w(this,null,function*(){return kc(t,"POST","/v1/accounts:signInWithIdp",ri(t,e))})}function T$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b$(t){let e=so(oo(t)).link,n=e?so(oo(e)).deep_link_id:null,r=so(oo(t)).deep_link_id;return(r?so(oo(r)).link:null)||r||n||e||t}var Qh=class t{constructor(e){var n,r,i,s,o,a;let u=so(oo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=T$((i=u.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=b$(e);try{return new t(n)}catch{return null}}};var kR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Qh.parseLink(r);return J(i,"argument-error"),Pc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Yh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cI=class extends Yh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function C$(t,e){return w(this,null,function*(){return kc(t,"POST","/v1/accounts:signUp",ri(t,e))})}var Oo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Po._fromIdTokenResponse(e,r,i),o=oR(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=oR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function oR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var uI=class t extends jt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function LR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uI._fromErrorAndOperation(t,s,e,r):s})}function S$(t,e,n=!1){return w(this,null,function*(){let r=yield Nc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Oo._forOperation(t,"link",r)})}function A$(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(on(r.app))return Promise.reject(vr(r));let i="reauthenticate";try{let s=yield Nc(t,LR(r,i,e,t),n);J(s.idToken,r,"internal-error");let o=II(s.idToken);J(o,r,"internal-error");let{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Oo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}})}function FR(t,e,n=!1){return w(this,null,function*(){if(on(t.app))return Promise.reject(vr(t));let r="signIn",i=yield LR(t,r,e),s=yield Oo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function bI(t,e){return w(this,null,function*(){return FR(rs(t),e)})}function VR(t){return w(this,null,function*(){let e=rs(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function CI(t,e,n){return w(this,null,function*(){if(on(t.app))return Promise.reject(vr(t));let r=rs(t),o=yield aI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&VR(t),u}),a=yield Oo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function SI(t,e,n){return on(t.app)?Promise.reject(vr(t)):bI(bt(t),kR.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&VR(t),r}))}function Lc(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function AI(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}var Zh="__sak";var Jh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var R$=1e3,N$=10,M$=(()=>{class t extends Jh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);u$()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,N$):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},R$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Dr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Dr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Dr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),UR=M$;var x$=(()=>{class t extends Jh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),RI=x$;function P$(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var O$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield P$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function jR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var lI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=jR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function kn(){return window}function k$(t){kn().location.href=t}function BR(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}function L$(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function F$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V$(){return BR()?self:null}var $R="firebaseLocalStorageDb",U$=1,Xh="firebaseLocalStorage",HR="fbase_key",ns=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function nf(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function j$(){let t=indexedDB.deleteDatabase($R);return new ns(t).toPromise()}function dI(){let t=indexedDB.open($R,U$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Xh,{keyPath:HR})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),yield j$(),e(yield dI()))}))})}function aR(t,e,n){return w(this,null,function*(){let r=nf(t,!0).put({[HR]:e,value:n});return new ns(r).toPromise()})}function B$(t,e){return w(this,null,function*(){let n=nf(t,!1).get(e),r=yield new ns(n).toPromise();return r===void 0?null:r.value})}function cR(t,e){let n=nf(t,!0).delete(e);return new ns(n).toPromise()}var $$=800,H$=3,q$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield dI(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>H$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return BR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=O$._getInstance(V$()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield L$(),!this.activeServiceWorker)return;this.sender=new lI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||F$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield dI();return yield aR(n,Zh,"1"),yield cR(n,Zh),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>aR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>B$(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>cR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=nf(s,!1).getAll();return new ns(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),$$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),qR=q$;var _Q=PR("rcb"),IQ=new ts(3e4,6e4);function z$(t,e){return e?yr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Oc=class extends xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Y_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Y_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Y_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function G$(t){return FR(t.auth,new Oc(t),t.bypassAuthState)}function W$(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),A$(n,new Oc(t),t.bypassAuthState)}function K$(t){return w(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),S$(n,new Oc(t),t.bypassAuthState)})}var hI=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G$;case"linkViaPopup":case"linkViaRedirect":return K$;case"reauthViaPopup":case"reauthViaRedirect":return W$;default:Ln(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wQ=new ts(2e3,1e4);var Q$="pendingRedirect",$h=new Map,fI=class t extends hI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=$h.get(this.auth._key());if(!e){try{let r=(yield Y$(this.resolver,this.auth))?yield Dr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Dr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Dr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function Y$(t,e){return w(this,null,function*(){let n=X$(e),r=J$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Z$(t,e){$h.set(t._key(),e)}function J$(t){return yr(t._redirectPersistence)}function X$(t){return Bh(Q$,t.config.apiKey,t.name)}function eH(t,e,n=!1){return w(this,null,function*(){if(on(t.app))return Promise.reject(vr(t));let r=rs(t),i=z$(r,e),o=yield new fI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var tH=10*60*1e3,pI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tH&&this.cachedEventUids.clear(),this.cachedEventUids.has(uR(e))}saveEventToCache(e){this.cachedEventUids.add(uR(e)),this.lastProcessedEventTime=Date.now()}};function uR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zR(t);default:return!1}}function rH(n){return w(this,arguments,function*(t,e={}){return ii(t,"GET","/v1/projects",e)})}var iH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sH=/^https?/;function oH(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield rH(t);for(let n of e)try{if(aH(n))return}catch{}Ln(t,"unauthorized-domain")})}function aH(t){let e=J_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sH.test(n))return!1;if(iH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cH=new ts(3e4,6e4);function lR(){let t=kn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uH(t){return new Promise((e,n)=>{var r,i,s;function o(){lR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lR(),n(es(t,"network-request-failed"))},timeout:cH.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kn().gapi)===null||s===void 0)&&s.load)o();else{let a=PR("iframefcb");return kn()[a]=()=>{gapi.load?o():n(es(t,"network-request-failed"))},xR(`${p$()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hh=null,e})}var Hh=null;function lH(t){return Hh=Hh||uH(t),Hh}var dH=new ts(5e3,15e3),hH="__/auth/iframe",fH="emulator/auth/iframe",pH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mH(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?vI(e,fH):`https://${t.config.authDomain}/${hH}`,r={apiKey:e.apiKey,appName:t.name,v:zr},i=gH.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xa(r).slice(1)}`}function yH(t){return w(this,null,function*(){let e=yield lH(t),n=kn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:mH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pH,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=es(t,"network-request-failed"),a=kn().setTimeout(()=>{s(o)},dH.get());function u(){kn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var vH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_H=500,IH=600,wH="_blank",EH="http://localhost",ef=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DH(t,e,n,r=_H,i=IH){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},vH),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Je().toLowerCase();n&&(a=bR(l)?wH:n),DR(l)&&(e=e||EH,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(c$(l)&&a!=="_self")return TH(e||"",a),new ef(null);let p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new ef(p)}function TH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bH="__/auth/handler",CH="emulator/auth/handler",SH=encodeURIComponent("fac");function dR(t,e,n,r,i,s){return w(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zr,eventId:i};if(e instanceof Yh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof cI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${SH}=${encodeURIComponent(u)}`:"";return`${AH(t)}?${Xa(a).slice(1)}${l}`})}function AH({config:t}){return t.emulator?vI(t,CH):`https://${t.authDomain}/${bH}`}var Z_="webStorageSupport",gI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RI,this._completeRedirectFn=eH,this._overrideRedirectResult=Z$}_openPopup(e,n,r,i){return w(this,null,function*(){var s;ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield dR(e,n,r,J_(),i);return DH(e,o,jR())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield dR(e,n,r,J_(),i);return k$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ni(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield yH(e),r=new pI(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Z_,{type:Z_},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Z_];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NR()||TR()||EI()}},GR=gI;var hR="@firebase/auth",fR="1.7.9";var mI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function RH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NH(t){qr(new Kt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(t)},l=new sI(r,i,s,u);return y$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qr(new Kt("auth-internal",e=>{let n=rs(e.getProvider("auth").getImmediate());return(r=>new mI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(hR,fR,RH(t)),Ke(hR,fR,"esm2017")}var MH=5*60,xH=Dy("authIdTokenMaxAge")||MH,pR=null,PH=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xH)return;let i=n?.token;pR!==i&&(pR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function NI(t=ao()){let e=nc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=DI(t,{popupRedirectResolver:GR,persistence:[qR,UR,RI]}),r=Dy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=PH(s.toString());AI(n,o,()=>o(n.currentUser)),Lc(n,a=>o(a))}}let i=wy("auth");return i&&TI(n,`http://${i}`),n}function OH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=es("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NH("Browser");function QR(t){return new re(function(e){var n=Lc(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var YR="auth",Fc=class{constructor(e){return e}},Vc=class{constructor(){return Sc(YR)}};var MI=new B("angularfire2.auth-instances");function Dq(t,e){let n=Fh(YR,t,e);return n&&new Fc(n)}function Tq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fc(r)}}var bq={provide:Vc,deps:[[new gt,MI]]},Cq={provide:Fc,useFactory:Dq,deps:[[new gt,MI],gr]};function lY(t,...e){return Ke("angularfire",Ji.full,"auth"),En([Cq,bq,{provide:MI,useFactory:Tq(t),multi:!0,deps:[Ie,st,xo,Xi,[new gt,Mo],...e]}])}var dY=Qe(QR,!0);var hY=Qe(CI,!0);var fY=Qe(NI,!0);var pY=Qe(SI,!0);var Uc=class{constructor(e){return e}},ZR="firestore",xI=class{constructor(){return Sc(ZR)}};var PI=new B("angularfire2.firestore-instances");function Sq(t,e){let n=Fh(ZR,t,e);return n&&new Uc(n)}function Aq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Uc(r)}}var Rq={provide:xI,deps:[[new gt,PI]]},Nq={provide:Uc,useFactory:Sq,deps:[[new gt,PI],gr]};function CZ(t,...e){return Ke("angularfire",Ji.full,"fst"),En([Nq,Rq,{provide:PI,useFactory:Aq(t),multi:!0,deps:[Ie,st,xo,Xi,[new gt,Vc],[new gt,Mo],...e]}])}var SZ=Qe(ZA,!0);var AZ=Qe(OA,!0);var RZ=Qe(H_,!0);var NZ=Qe(KA,!0);var MZ=Qe(QA,!0);var xZ=Qe(kA,!0);var PZ=Qe(zA,!0);var OZ=Qe(qA,!0);var kZ=Qe($A,!0);var LZ=Qe(YA,!0);var FZ=Qe(HA,!0);export{F as a,Te as b,Mq as c,w as d,Ye as e,kf as f,re as g,je as h,tt as i,Tr as j,nt as k,Pq as l,Re as m,G as n,de as o,na as p,bu as q,rM as r,Hf as s,fi as t,lM as u,dM as v,wt as w,$n as x,hM as y,Hn as z,Ot as A,fM as B,pM as C,yM as D,ws as E,vM as F,Kf as G,_M as H,IM as I,Su as J,Pt as K,Au as L,wM as M,Be as N,EM as O,DM as P,$ as Q,ID as R,H as S,ya as T,B as U,X as V,P as W,gt as X,J8 as Y,Eg as Z,RD as _,kD as $,_a as aa,Xt as ba,bg as ca,En as da,kt as ea,GD as fa,Ai as ga,X8 as ha,e5 as ia,Vg as ja,st as ka,Fl as la,it as ma,Ie as na,Xn as oa,Pp as pa,bn as qa,t5 as ra,n5 as sa,tO as ta,r5 as ua,i5 as va,s5 as wa,me as xa,Yn as ya,Us as za,Ca as Aa,tn as Ba,tr as Ca,Kk as Da,u5 as Ea,Zk as Fa,l5 as Ga,c1 as Ha,am as Ia,cm as Ja,E1 as Ka,jb as La,D1 as Ma,d5 as Na,h5 as Oa,f5 as Pa,p5 as Qa,$b as Ra,Hb as Sa,um as Ta,qb as Ua,zb as Va,U1 as Wa,g5 as Xa,B1 as Ya,$1 as Za,lm as _a,m5 as $a,y5 as ab,v5 as bb,Wb as cb,_5 as db,Kb as eb,Qb as fb,I5 as gb,w5 as hb,eL as ib,Yb as jb,tL as kb,nL as lb,E5 as mb,rL as nb,D5 as ob,Jb as pb,T5 as qb,b5 as rb,C5 as sb,S5 as tb,A5 as ub,R5 as vb,N5 as wb,M5 as xb,x5 as yb,Gs as zb,P5 as Ab,Fr as Bb,Sa as Cb,O5 as Db,fm as Eb,PL as Fb,k5 as Gb,Pi as Hb,Tt as Ib,rK as Jb,iK as Kb,sK as Lb,EC as Mb,oK as Nb,aK as Ob,cK as Pb,uK as Qb,uF as Rb,dF as Sb,xm as Tb,bC as Ub,PK as Vb,OK as Wb,jr as Xb,lV as Yb,Sn as Zb,BC as _b,JK as $b,XK as ac,e7 as bc,RS as cc,NS as dc,jt as ec,bt as fc,Kt as gc,qr as hc,nc as ic,zr as jc,ao as kc,Ke as lc,Ji as mc,Fh as nc,Sc as oc,Mo as pc,xo as qc,Qe as rc,gr as sc,Xi as tc,lQ as uc,dQ as vc,Fc as wc,Vc as xc,lY as yc,dY as zc,hY as Ac,fY as Bc,pY as Cc,at as Dc,Uc as Ec,CZ as Fc,SZ as Gc,AZ as Hc,RZ as Ic,NZ as Jc,MZ as Kc,xZ as Lc,PZ as Mc,OZ as Nc,kZ as Oc,LZ as Pc,FZ as Qc};
