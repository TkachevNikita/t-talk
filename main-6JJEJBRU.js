import{a as Re}from"./chunk-S77PFVGP.js";import"./chunk-LWHJNI27.js";import{$ as At,Ab as ke,B as S,Ba as fe,C as ht,Ca as me,Db as Ee,Hb as Se,Ib as Ae,Jb as De,Lb as Me,M as U,O as St,Q as de,R as j,Sa as _e,Yb as xe,Za as ge,_a as be,a as ce,aa as pe,ab as Dt,b as le,db as ye,eb as Te,ec as Ne,gb as ve,kb as Oe,lb as X,mb as ft,nb as we,ob as mt,pb as Ie,qb as Ce,rb as _t,tb as Mt,wb as Pe,xb as gt,y as Et,z as pt,za as he}from"./chunk-O5ZP3LPP.js";import{$ as I,$a as Rt,Ab as te,Bc as sn,Ca as Yt,Fa as st,Fc as an,Ga as Zt,H as Vt,Ha as C,Ib as E,J as qt,Ja as at,Jb as ee,Ka as f,Kb as lt,La as ut,Lb as dt,Lc as un,Ma as G,Pb as kt,Ra as R,Rb as ne,S as w,Sa as P,Ta as p,U as Wt,Ub as ie,V as nt,Vb as oe,W as s,Wa as B,X as W,Yb as re,Zb as se,_ as It,_a as x,a as tt,ab as Jt,ac as ae,ba as g,bb as N,bc as ue,cc as Ue,d as D,da as Gt,dc as Fe,e as Ht,ec as ze,fc as Be,g as Tt,gc as Le,hc as je,i as et,ic as He,ja as it,jc as $e,k as V,ka as ot,kc as Ve,lc as K,mc as qe,n as vt,na as rt,nc as We,o as _,ob as L,oc as Ge,p as $t,pb as k,pc as Xe,qc as Ke,ra as Ct,rc as Ye,s as q,sc as Ze,tb as ct,tc as Je,u as Ot,ua as Xt,ub as Pt,uc as Qe,vb as Qt,vc as tn,w as wt,wa as M,wc as en,xc as nn,yc as on,za as Kt,zc as rn}from"./chunk-TQQFZRDT.js";var jn={info:"@tui.info",positive:"@tui.circle-check",negative:"@tui.circle-x",warning:"@tui.circle-alert",neutral:"@tui.info",success:"@tui.circle-check",error:"@tui.circle-x"},Hn={appearance:"info",icon:t=>jn[t]??"",size:"l"},cn=S(Hn);function ni(t,e){if(t&1&&(B(0,3),ct(1,"tuiMapper")),t&2){let n=e.$implicit,i=Rt(2);f("ngComponentOutlet",n.component.component)("ngComponentOutletInjector",Qt(1,2,n,i.mapper))}}function ii(t,e){if(t&1&&(R(0,"div",1),C(1,ni,2,5,"ng-container",2),P()),t&2){let n=e.$implicit;f("@tuiParentAnimation",void 0),M(),f("ngForOf",n)}}var oi={autoClose:3e3,label:"",closeable:!0,data:void 0},To=ht(()=>tt(tt({},oi),s(cn))),vo=ht(()=>s(_t)?"1rem 1rem 0 auto":"2rem 3rem 0 auto"),ri=S(new et([])),si=ht(()=>$t([vt(new Map),s(ri)]).pipe(_(([t,e])=>(t.forEach((n,i)=>t.set(i,[])),e.forEach(n=>{let i=n.component.component,o=t.get(i)||[];t.set(i,[...o,n])}),Array.from(t.values())))));var ln=(()=>{class t{constructor(){this.injector=s(It),this.alerts$=s(si),this.trackBy=Ht,this.mapper=n=>ot.create({providers:[{provide:be,useValue:n}],parent:this.injector})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["tui-alerts"]],standalone:!0,features:[k],decls:2,vars:4,consts:[["class","t-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],[1,"t-wrapper"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(i,o){i&1&&(C(0,ii,2,2,"div",0),ct(1,"async")),i&2&&f("ngForOf",Pt(1,2,o.alerts$))("ngForTrackBy",o.trackBy)},dependencies:[ne,ee,lt,kt,Re],styles:[`tui-alerts>.t-wrapper{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column;pointer-events:none}tui-alerts>.t-wrapper>*{pointer-events:auto}
`],encapsulation:2,data:{animation:[ce]}})}}return t})();var dn=(()=>{class t{constructor(){this.doc=s(E),this.el=j(),this.activeElement=ye(this.doc),Promise.resolve().then(()=>this.el.focus())}ngOnDestroy(){Te(this.doc),Promise.resolve().then(()=>{de(this.activeElement)&&this.activeElement.focus()})}onFocusIn(n){St(this.el,n)||ve({initial:this.el,root:this.el})?.focus()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=g({type:t,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(i,o){i&1&&x("focusin.silent",function(a){return o.onFocusIn(a.target)},!1,Xt)},standalone:!0})}}return t})();function ai(t,e){t&1&&B(0)}function ui(t,e){if(t&1&&(R(0,"section",2),C(1,ai,1,0,"ng-container",3),p(2,"tui-scroll-controls",4),P()),t&2){let n=e.$implicit;f("@tuiHost",void 0),at("aria-labelledby",n.id),M(),f("polymorpheusOutlet",n.component)("polymorpheusOutletContext",n)}}var ci=S(new et([])),li={appearance:"",size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:"",data:void 0},Jo=S(V),Qo=S(li);var tr=new Error("Required dialog was dismissed");var pn=(()=>{class t{constructor(){this.el=j(),this.dialogs=pt(s(ci),{initialValue:[]})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["tui-dialogs"]],hostBindings:function(i,o){i&1&&x("keydown.silent",function(){return o.el.scrollTop=o.el.scrollHeight/2})},standalone:!0,features:[k],decls:2,vars:3,consts:[[1,"t-overlay"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","","class","t-dialog",4,"ngFor","ngForOf"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-scrollbars"]],template:function(i,o){i&1&&(p(0,"div",0),C(1,ui,3,4,"section",1)),i&2&&(G("t-overlay_visible",o.dialogs().length),M(),f("ngForOf",o.dialogs()))},dependencies:[lt,Dt,dn,gt,ke],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;scrollbar-width:none;-ms-overflow-style:none;pointer-events:none;overflow:hidden;overscroll-behavior:none}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:has(section){pointer-events:auto;overflow:auto}[_nghost-%COMP%]:before{content:"";display:block;block-size:1000%}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{transition-property:filter;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;scrollbar-width:none;-ms-overflow-style:none;position:fixed;top:0;left:0;bottom:0;right:0;display:flex;block-size:100%;align-items:flex-start;outline:none;overflow:auto}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-overlay.ng-animating[_ngcontent-%COMP%], .t-dialog.ng-animating[_ngcontent-%COMP%]{overflow:clip}.t-dialog[_ngcontent-%COMP%]{position:sticky;overscroll-behavior:none;filter:brightness(.25)}.t-overlay[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;background:var(--tui-service-backdrop);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none);opacity:0;transition-timing-function:ease-in}.t-overlay_visible[_ngcontent-%COMP%]{opacity:1;transition-timing-function:ease-out}.t-dialog[_ngcontent-%COMP%]:last-child{pointer-events:auto;filter:none}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0;color:#747474}'],data:{animation:[le]}})}}return t})();var hn=(()=>{class t{constructor(){this.tuiPlatform=s(Mt,{skipSelf:!0})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=g({type:t,selectors:[["","tuiPlatform",""]],hostVars:1,hostBindings:function(i,o){i&2&&at("data-platform",o.tuiPlatform)},inputs:{tuiPlatform:"tuiPlatform"},standalone:!0,features:[L([{provide:Mt,useFactory:()=>s(t).tuiPlatform}])]})}}return t})();var fn=(()=>{class t extends Tt{visualViewport=s(pe).visualViewport;stream$=this.visualViewport?Ot(q(this.visualViewport,"resize"),q(this.visualViewport,"scroll"),q(this.visualViewport,"scrollend")).pipe(qt(null),_(()=>this.visualViewport),wt(Boolean),Vt({bufferSize:1,refCount:!0})):V;constructor(){super(n=>this.stream$.subscribe(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mn=(()=>{class t{constructor(){this.w=s(At),this.style=j().style,this.$=s(fn).pipe(Et()).subscribe(({offsetLeft:n,offsetTop:i,height:o,width:r,scale:a})=>{this.style.setProperty("--tui-viewport-x",U(n)),this.style.setProperty("--tui-viewport-y",U(i)),this.style.setProperty("--tui-viewport-height",U(o)),this.style.setProperty("--tui-viewport-width",U(r)),this.style.setProperty("--tui-viewport-scale",String(a)),this.style.setProperty("--tui-viewport-vh",U(this.w.innerHeight/100)),this.style.setProperty("--tui-viewport-vw",U(this.w.innerWidth/100))})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=g({type:t,selectors:[["","tuiVisualViewport",""]],standalone:!0})}}return t})();var _n=(()=>{class t extends Ae{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=it(t)))(o||t)}})()}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hi=["*",[["tuiOverContent"]],[["tuiOverDialogs"]],[["tuiOverAlerts"]],[["tuiOverDropdowns"]],[["tuiOverHints"]]],fi=["*","tuiOverContent","tuiOverDialogs","tuiOverAlerts","tuiOverDropdowns","tuiOverHints"];function mi(t,e){t&1&&p(0,"tui-scroll-controls",3)}var gn=(()=>{class t extends Se{constructor(){super(),this.reducedMotion=s(fe),this.duration=ge(s(me)),this.isMobileRes=pt(s(Ee).pipe(_(n=>n==="mobile"),he()),{initialValue:!1}),this.nativeScrollbar=s(Pe).mode==="native",this.scrollbars=!(this.nativeScrollbar||s(_t)),s(E).documentElement.setAttribute("data-tui-theme",s(_e).toLowerCase()),this.nativeScrollbar||s(E).defaultView?.document.documentElement.classList.add("tui-zero-scrollbar")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["tui-root"]],hostAttrs:["data-tui-version","4.14.0"],hostVars:6,hostBindings:function(i,o){i&1&&x("touchstart.passive.silent",function(){return 0}),i&2&&(ut("--tui-duration",o.duration,"ms")("--tui-scroll-behavior",o.reducedMotion?"auto":"smooth"),G("_mobile",o.isMobileRes()))},standalone:!0,features:[L([],[De(_n)]),Zt([hn,mn]),st,k],ngContentSelectors:fi,decls:14,vars:1,consts:[["viewContainer",""],[1,"t-root-content"],["class","t-root-scrollbar",4,"ngIf"],[1,"t-root-scrollbar"]],template:function(i,o){i&1&&(Jt(hi),R(0,"div",1),N(1),P(),C(2,mi,1,0,"tui-scroll-controls",2),B(3,null,0),N(5,1),p(6,"tui-dialogs"),N(7,2),p(8,"tui-alerts"),N(9,3),p(10,"tui-dropdowns"),N(11,4),p(12,"tui-hints"),N(13,5)),i&2&&(M(2),f("ngIf",o.scrollbars))},dependencies:[dt,ln,pn,xe,Ne,gt],styles:[`@keyframes tuiPresent{to{content:""}}@keyframes tuiSkeletonVibe{to{opacity:.5}}.tui-zero-scrollbar{scrollbar-width:none;-ms-overflow-style:none}.tui-zero-scrollbar::-webkit-scrollbar,.tui-zero-scrollbar::-webkit-scrollbar-thumb{display:none}body,input{margin:0}tui-root{position:relative;display:block;font:var(--tui-font-text-s);color:var(--tui-text-primary);flex:1;border-image:conic-gradient(var(--tui-background-base) 0 0) fill 0/0/0 0 100vh 0;-webkit-tap-highlight-color:transparent}tui-root>.t-root-scrollbar{position:fixed;top:0;left:0;bottom:0;right:0;z-index:0;display:none;margin:0}[data-tui-theme] tui-root>.t-root-scrollbar{display:block}.t-root-content{position:relative;top:var(--t-root-top);block-size:100%;isolation:isolate}.t-root-content>*{--t-root-top: 0}[tuiDropdownButton][tuiDropdownButton]{display:none}
`],encapsulation:2})}}return t})();var bn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=I({type:t,selectors:[["app-root"]],standalone:!0,features:[k],decls:2,vars:0,template:function(i,o){i&1&&(R(0,"tui-root"),p(1,"router-outlet"),P())},dependencies:[ue,re,gn],changeDetection:0})}return t})();var _i=(()=>{class t extends mt{constructor(n,i,o){super(n,i,o)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(nt(E),nt(X),nt(ft))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac})}}return t})();function gi(){return new we}function bi(t,e,n){return new Ce(t,e,n)}var yn=[{provide:ft,useFactory:gi},{provide:mt,useClass:_i},{provide:Kt,useFactory:bi,deps:[ie,mt,rt]}],yi=[{provide:X,useFactory:()=>new Ie},{provide:Ct,useValue:"BrowserAnimations"},...yn],es=[{provide:X,useClass:Oe},{provide:Ct,useValue:"NoopAnimations"},...yn];function Tn(){return Yt("NgEagerAnimations"),[...yi]}var vn=()=>{let t=s(en),e=s(se);return rn(t).pipe(_(i=>i?!0:e.parseUrl("/auth")))};var On=[{path:"",children:[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"auth",loadChildren:()=>D(void 0,null,function*(){return import("./chunk-TN7LLA5L.js").then(t=>t.authRoutes)})},{path:"profile",canActivate:[vn],loadChildren:()=>D(void 0,null,function*(){return import("./chunk-26CA557A.js").then(t=>t.profileRoutes)})}]}];var wn={apiKey:"AIzaSyA6qQmg_mHsuQ_Ia5VW2bvuYthaIPa3K6w",authDomain:"t-talk-23d6c.firebaseapp.com",projectId:"t-talk-23d6c",storageBucket:"t-talk-23d6c.firebasestorage.app",messagingSenderId:"334325848643",appId:"1:334325848643:web:4a95626e81b7a9a16e52f6"};var En="firebasestorage.googleapis.com",Ti="storageBucket",vi=2*60*1e3,Oi=10*60*1e3;var m=class t extends ze{constructor(e,n,i=0){super(xt(e),`Firebase Storage: ${n} (${xt(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},T=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(T||{});function xt(t){return"storage/"+t}function wi(){let t="An unknown error occurred, please check the error payload for server response.";return new m(T.UNKNOWN,t)}function Ii(){return new m(T.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ci(){return new m(T.CANCELED,"User canceled the upload/download.")}function Ri(t){return new m(T.INVALID_URL,"Invalid URL '"+t+"'.")}function Pi(t){return new m(T.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function In(t){return new m(T.INVALID_ARGUMENT,t)}function Sn(){return new m(T.APP_DELETED,"The Firebase app was deleted.")}function ki(t){return new m(T.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var y=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw Pi(e)}static makeFromUrl(e,n){let i=null,o="([A-Za-z0-9.\\-_]+)";function r(h){h.path.charAt(h.path.length-1)==="/"&&(h.path_=h.path_.slice(0,-1))}let a="(/(.*))?$",c=new RegExp("^gs://"+o+a,"i"),u={bucket:1,path:3};function l(h){h.path_=decodeURIComponent(h.path)}let v="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",$=new RegExp(`^https?://${A}/${v}/b/${o}/o${O}`,"i"),F={bucket:1,path:3},Z=n===En?"(?:storage.googleapis.com|storage.cloud.google.com)":n,d="([^?#]*)",J=new RegExp(`^https?://${Z}/${o}/${d}`,"i"),z=[{regex:c,indices:u,postModify:r},{regex:$,indices:F,postModify:l},{regex:J,indices:{bucket:1,path:2},postModify:l}];for(let h=0;h<z.length;h++){let Q=z[h],bt=Q.regex.exec(e);if(bt){let Bn=bt[Q.indices.bucket],yt=bt[Q.indices.path];yt||(yt=""),i=new t(Bn,yt),Q.postModify(i);break}}if(i==null)throw Ri(e);return i}},Nt=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Ei(t,e,n){let i=1,o=null,r=null,a=!1,c=0;function u(){return c===2}let l=!1;function v(...d){l||(l=!0,e.apply(null,d))}function A(d){o=setTimeout(()=>{o=null,t($,u())},d)}function O(){r&&clearTimeout(r)}function $(d,...J){if(l){O();return}if(d){O(),v.call(null,d,...J);return}if(u()||a){O(),v.call(null,d,...J);return}i<64&&(i*=2);let z;c===1?(c=2,z=0):z=(i+Math.random())*1e3,A(z)}let F=!1;function Z(d){F||(F=!0,O(),!l&&(o!==null?(d||(c=2),clearTimeout(o),A(0)):d||(c=1)))}return A(0),r=setTimeout(()=>{a=!0,Z(!0)},n),Z}function Si(t){t(!1)}function Ai(t){return t!==void 0}function Cn(t,e,n,i){if(i<e)throw In(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw In(`Invalid value for '${t}'. Expected ${n} or less.`)}function Di(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let o=e(i)+"="+e(t[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ut=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ut||{});function Mi(t,e){let n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||o||r}var Ft=class{constructor(e,n,i,o,r,a,c,u,l,v,A,O=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=v,this.connectionFactory_=A,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,F)=>{this.resolve_=$,this.reject_=F,this.start_()})}start_(){let e=(i,o)=>{if(o){i(!1,new H(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let a=c=>{let u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;let c=r.getErrorCode()===Ut.NO_ERROR,u=r.getStatus();if(!c||Mi(u,this.additionalRetryCodes_)&&this.retry){let v=r.getErrorCode()===Ut.ABORT;i(!1,new H(!1,null,v));return}let l=this.successCodes_.indexOf(u)!==-1;i(!0,new H(l,r))})},n=(i,o)=>{let r=this.resolve_,a=this.reject_,c=o.connection;if(o.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());Ai(u)?r(u):r()}catch(u){a(u)}else if(c!==null){let u=wi();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(o.canceled){let u=this.appDelete_?Sn():Ci();a(u)}else{let u=Ii();a(u)}};this.canceled_?n(!1,new H(!1,null,!0)):this.backoffId_=Ei(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Si(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},H=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function xi(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ni(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ui(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fi(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zi(t,e,n,i,o,r,a=!0){let c=Di(t.urlParams),u=t.url+c,l=Object.assign({},t.headers);return Ui(l,e),xi(l,n),Ni(l,r),Fi(l,i),new Ft(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,a)}function Bi(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Li(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var ms=256*1024;var zt=class t{constructor(e,n){this._service=e,n instanceof y?this._location=n:this._location=y.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new y(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Li(this._location.path)}get storage(){return this._service}get parent(){let e=Bi(this._location.path);if(e===null)return null;let n=new y(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ki(e)}};function Rn(t,e){let n=e?.[Ti];return n==null?null:y.makeFromBucketSpec(n,t)}function ji(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:Fe(o,t.app.options.projectId))}var Bt=class{constructor(e,n,i,o,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=r,this._bucket=null,this._host=En,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vi,this._maxUploadRetryTime=Oi,this._requests=new Set,o!=null?this._bucket=y.makeFromBucketSpec(o,this._host):this._bucket=Rn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=y.makeFromBucketSpec(this._url,e):this._bucket=Rn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cn("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cn("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zt(this,e)}_makeRequest(e,n,i,o,r=!0){if(this._deleted)return new Nt(Sn());{let a=zi(e,this._appId,i,o,n,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,n){return D(this,null,function*(){let[i,o]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()})}},Pn="@firebase/storage",kn="0.13.2";var An="storage";function Dn(t=Ve(),e){t=Be(t);let i=He(t,An).getImmediate({identifier:e}),o=Ue("storage");return o&&Mn(i,...o),i}function Mn(t,e,n,i={}){ji(t,e,n,i)}function Hi(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Bt(n,i,o,e,$e)}function $i(){je(new Le(An,Hi,"PUBLIC").setMultipleInstances(!0)),K(Pn,kn,""),K(Pn,kn,"esm2017")}$i();var Y=class{constructor(e){return e}},xn="storage",Lt=class{constructor(){return Ge(xn)}};var jt=new Wt("angularfire2.storage-instances");function Vi(t,e){let n=We(xn,t,e);return n&&new Y(n)}function qi(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Y(i)}}var Wi={provide:Lt,deps:[[new W,jt]]},Gi={provide:Y,useFactory:Vi,deps:[[new W,jt],Ze]};function Nn(t,...e){return K("angularfire",qe.full,"gcs"),Gt([Gi,Wi,{provide:jt,useFactory:qi(t),multi:!0,deps:[rt,ot,Ke,Je,[new W,nn],[new W,Xe],...e]}])}var Un=Ye(Dn,!0);var Fn={providers:[Tn(),Qe(()=>tn(wn)),on(()=>sn()),Nn(()=>Un()),an(()=>un()),te({eventCoalescing:!0}),ae(On),Me]};oe(bn,Fn).catch(t=>console.error(t));
